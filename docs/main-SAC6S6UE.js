var mO=Object.defineProperty,yO=Object.defineProperties;var vO=Object.getOwnPropertyDescriptors;var ED=Object.getOwnPropertySymbols;var _O=Object.prototype.hasOwnProperty,EO=Object.prototype.propertyIsEnumerable;var ID=(n,e,t)=>e in n?mO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})_O.call(e,t)&&ID(n,t,e[t]);if(ED)for(var t of ED(e))EO.call(e,t)&&ID(n,t,e[t]);return n},be=(n,e)=>yO(n,vO(e));var dr=globalThis;function kn(n){return(dr.__Zone_symbol_prefix||"__zone_symbol__")+n}function IO(){let n=dr.performance;function e(_e){n&&n.mark&&n.mark(_e)}function t(_e,G){n&&n.measure&&n.measure(_e,G)}e("Zone");let r=(()=>{class _e{static __symbol__=kn;static assertZonePatched(){if(dr.Promise!==I.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let b=_e.current;for(;b.parent;)b=b.parent;return b}static get current(){return T.zone}static get currentTask(){return _}static __load_patch(b,A,ee=!1){if(I.hasOwnProperty(b)){let ce=dr[kn("forceDuplicateZoneCheck")]===!0;if(!ee&&ce)throw Error("Already loaded patch: "+b)}else if(!dr["__Zone_disable_"+b]){let ce="Zone:"+b;e(ce),I[b]=A(dr,_e,w),t(ce,ce)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(b,A){this._parent=b,this._name=A?A.name||"unnamed":"<root>",this._properties=A&&A.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,A)}get(b){let A=this.getZoneWith(b);if(A)return A._properties[b]}getZoneWith(b){let A=this;for(;A;){if(A._properties.hasOwnProperty(b))return A;A=A._parent}return null}fork(b){if(!b)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,b)}wrap(b,A){if(typeof b!="function")throw new Error("Expecting function got: "+b);let ee=this._zoneDelegate.intercept(this,b,A),ce=this;return function(){return ce.runGuarded(ee,this,arguments,A)}}run(b,A,ee,ce){T={parent:T,zone:this};try{return this._zoneDelegate.invoke(this,b,A,ee,ce)}finally{T=T.parent}}runGuarded(b,A=null,ee,ce){T={parent:T,zone:this};try{try{return this._zoneDelegate.invoke(this,b,A,ee,ce)}catch(Fe){if(this._zoneDelegate.handleError(this,Fe))throw Fe}}finally{T=T.parent}}runTask(b,A,ee){if(b.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(b.zone||M).name+"; Execution: "+this.name+")");let ce=b,{type:Fe,data:{isPeriodic:oe=!1,isRefreshable:lr=!1}={}}=b;if(b.state===V&&(Fe===E||Fe===y))return;let Wt=b.state!=Y;Wt&&ce._transitionTo(Y,O);let qn=_;_=ce,T={parent:T,zone:this};try{Fe==y&&b.data&&!oe&&!lr&&(b.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,ce,A,ee)}catch(Nt){if(this._zoneDelegate.handleError(this,Nt))throw Nt}}finally{let Nt=b.state;if(Nt!==V&&Nt!==ie)if(Fe==E||oe||lr&&Nt===F)Wt&&ce._transitionTo(O,Y,F);else{let $=ce._zoneDelegates;this._updateTaskCount(ce,-1),Wt&&ce._transitionTo(V,Y,V),lr&&(ce._zoneDelegates=$)}T=T.parent,_=qn}}scheduleTask(b){if(b.zone&&b.zone!==this){let ee=this;for(;ee;){if(ee===b.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${b.zone.name}`);ee=ee.parent}}b._transitionTo(F,V);let A=[];b._zoneDelegates=A,b._zone=this;try{b=this._zoneDelegate.scheduleTask(this,b)}catch(ee){throw b._transitionTo(ie,F,V),this._zoneDelegate.handleError(this,ee),ee}return b._zoneDelegates===A&&this._updateTaskCount(b,1),b.state==F&&b._transitionTo(O,F),b}scheduleMicroTask(b,A,ee,ce){return this.scheduleTask(new s(D,b,A,ee,ce,void 0))}scheduleMacroTask(b,A,ee,ce,Fe){return this.scheduleTask(new s(y,b,A,ee,ce,Fe))}scheduleEventTask(b,A,ee,ce,Fe){return this.scheduleTask(new s(E,b,A,ee,ce,Fe))}cancelTask(b){if(b.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(b.zone||M).name+"; Execution: "+this.name+")");if(!(b.state!==O&&b.state!==Y)){b._transitionTo(fe,O,Y);try{this._zoneDelegate.cancelTask(this,b)}catch(A){throw b._transitionTo(ie,fe),this._zoneDelegate.handleError(this,A),A}return this._updateTaskCount(b,-1),b._transitionTo(V,fe),b.runCount=-1,b}}_updateTaskCount(b,A){let ee=b._zoneDelegates;A==-1&&(b._zoneDelegates=null);for(let ce=0;ce<ee.length;ce++)ee[ce]._updateTaskCount(b.type,A)}}return _e})(),i={name:"",onHasTask:(_e,G,b,A)=>_e.hasTask(b,A),onScheduleTask:(_e,G,b,A)=>_e.scheduleTask(b,A),onInvokeTask:(_e,G,b,A,ee,ce)=>_e.invokeTask(b,A,ee,ce),onCancelTask:(_e,G,b,A)=>_e.cancelTask(b,A)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(G,b,A){this._zone=G,this._parentDelegate=b,this._forkZS=A&&(A&&A.onFork?A:b._forkZS),this._forkDlgt=A&&(A.onFork?b:b._forkDlgt),this._forkCurrZone=A&&(A.onFork?this._zone:b._forkCurrZone),this._interceptZS=A&&(A.onIntercept?A:b._interceptZS),this._interceptDlgt=A&&(A.onIntercept?b:b._interceptDlgt),this._interceptCurrZone=A&&(A.onIntercept?this._zone:b._interceptCurrZone),this._invokeZS=A&&(A.onInvoke?A:b._invokeZS),this._invokeDlgt=A&&(A.onInvoke?b:b._invokeDlgt),this._invokeCurrZone=A&&(A.onInvoke?this._zone:b._invokeCurrZone),this._handleErrorZS=A&&(A.onHandleError?A:b._handleErrorZS),this._handleErrorDlgt=A&&(A.onHandleError?b:b._handleErrorDlgt),this._handleErrorCurrZone=A&&(A.onHandleError?this._zone:b._handleErrorCurrZone),this._scheduleTaskZS=A&&(A.onScheduleTask?A:b._scheduleTaskZS),this._scheduleTaskDlgt=A&&(A.onScheduleTask?b:b._scheduleTaskDlgt),this._scheduleTaskCurrZone=A&&(A.onScheduleTask?this._zone:b._scheduleTaskCurrZone),this._invokeTaskZS=A&&(A.onInvokeTask?A:b._invokeTaskZS),this._invokeTaskDlgt=A&&(A.onInvokeTask?b:b._invokeTaskDlgt),this._invokeTaskCurrZone=A&&(A.onInvokeTask?this._zone:b._invokeTaskCurrZone),this._cancelTaskZS=A&&(A.onCancelTask?A:b._cancelTaskZS),this._cancelTaskDlgt=A&&(A.onCancelTask?b:b._cancelTaskDlgt),this._cancelTaskCurrZone=A&&(A.onCancelTask?this._zone:b._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let ee=A&&A.onHasTask,ce=b&&b._hasTaskZS;(ee||ce)&&(this._hasTaskZS=ee?A:i,this._hasTaskDlgt=b,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,A.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=b,this._scheduleTaskCurrZone=this._zone),A.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=b,this._invokeTaskCurrZone=this._zone),A.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=b,this._cancelTaskCurrZone=this._zone))}fork(G,b){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,G,b):new r(G,b)}intercept(G,b,A){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,G,b,A):b}invoke(G,b,A,ee,ce){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,G,b,A,ee,ce):b.apply(A,ee)}handleError(G,b){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,G,b):!0}scheduleTask(G,b){let A=b;if(this._scheduleTaskZS)this._hasTaskZS&&A._zoneDelegates.push(this._hasTaskDlgtOwner),A=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,G,b),A||(A=b);else if(b.scheduleFn)b.scheduleFn(b);else if(b.type==D)C(b);else throw new Error("Task is missing scheduleFn.");return A}invokeTask(G,b,A,ee){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,G,b,A,ee):b.callback.apply(A,ee)}cancelTask(G,b){let A;if(this._cancelTaskZS)A=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,G,b);else{if(!b.cancelFn)throw Error("Task is not cancelable");A=b.cancelFn(b)}return A}hasTask(G,b){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,G,b)}catch(A){this.handleError(G,A)}}_updateTaskCount(G,b){let A=this._taskCounts,ee=A[G],ce=A[G]=ee+b;if(ce<0)throw new Error("More tasks executed then were scheduled.");if(ee==0||ce==0){let Fe={microTask:A.microTask>0,macroTask:A.macroTask>0,eventTask:A.eventTask>0,change:G};this.hasTask(this._zone,Fe)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(G,b,A,ee,ce,Fe){if(this.type=G,this.source=b,this.data=ee,this.scheduleFn=ce,this.cancelFn=Fe,!A)throw new Error("callback is not defined");this.callback=A;let oe=this;G===E&&ee&&ee.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(dr,oe,this,arguments)}}static invokeTask(G,b,A){G||(G=this),Ze++;try{return G.runCount++,G.zone.runTask(G,b,A)}finally{Ze==1&&P(),Ze--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(V,F)}_transitionTo(G,b,A){if(this._state===b||this._state===A)this._state=G,G==V&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${G}', expecting state '${b}'${A?" or '"+A+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=kn("setTimeout"),u=kn("Promise"),l=kn("then"),h=[],p=!1,g;function v(_e){if(g||dr[u]&&(g=dr[u].resolve(0)),g){let G=g[l];G||(G=g.then),G.call(g,_e)}else dr[a](_e,0)}function C(_e){Ze===0&&h.length===0&&v(P),_e&&h.push(_e)}function P(){if(!p){for(p=!0;h.length;){let _e=h;h=[];for(let G=0;G<_e.length;G++){let b=_e[G];try{b.zone.runTask(b,null,null)}catch(A){w.onUnhandledError(A)}}}w.microtaskDrainDone(),p=!1}}let M={name:"NO ZONE"},V="notScheduled",F="scheduling",O="scheduled",Y="running",fe="canceling",ie="unknown",D="microTask",y="macroTask",E="eventTask",I={},w={symbol:kn,currentZoneFrame:()=>T,onUnhandledError:Ge,microtaskDrainDone:Ge,scheduleMicroTask:C,showUncaughtError:()=>!r[kn("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Ge,patchMethod:()=>Ge,bindArguments:()=>[],patchThen:()=>Ge,patchMacroTask:()=>Ge,patchEventPrototype:()=>Ge,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Ge,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Ge,wrapWithCurrentZone:()=>Ge,filterProperties:()=>[],attachOriginToPatched:()=>Ge,_redefineProperty:()=>Ge,patchCallbacks:()=>Ge,nativeScheduleMicroTask:v},T={parent:null,zone:new r(null,null)},_=null,Ze=0;function Ge(){}return t("Zone","Zone"),r}function wO(){let n=globalThis,e=n[kn("forceDuplicateZoneCheck")]===!0;if(n.Zone&&(e||typeof n.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return n.Zone??=IO(),n.Zone}var qc=Object.getOwnPropertyDescriptor,im=Object.defineProperty,om=Object.getPrototypeOf,TO=Object.create,DO=Array.prototype.slice,sm="addEventListener",am="removeEventListener",em=kn(sm),tm=kn(am),Br="true",$r="false",zc=kn("");function cm(n,e){return Zone.current.wrap(n,e)}function um(n,e,t,r,i){return Zone.current.scheduleMacroTask(n,e,t,r,i)}var je=kn,md=typeof window<"u",Gc=md?window:void 0,Et=md&&Gc||globalThis,bO="removeAttribute";function lm(n,e){for(let t=n.length-1;t>=0;t--)typeof n[t]=="function"&&(n[t]=cm(n[t],e+"_"+t));return n}function CO(n,e){let t=n.constructor.name;for(let r=0;r<e.length;r++){let i=e[r],o=n[i];if(o){let s=qc(n,i);if(!AD(s))continue;n[i]=(a=>{let u=function(){return a.apply(this,lm(arguments,t+"."+i))};return qr(u,a),u})(o)}}}function AD(n){return n?n.writable===!1?!1:!(typeof n.get=="function"&&typeof n.set>"u"):!0}var RD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,yd=!("nw"in Et)&&typeof Et.process<"u"&&Et.process.toString()==="[object process]",dm=!yd&&!RD&&!!(md&&Gc.HTMLElement),ND=typeof Et.process<"u"&&Et.process.toString()==="[object process]"&&!RD&&!!(md&&Gc.HTMLElement),gd={},SO=je("enable_beforeunload"),wD=function(n){if(n=n||Et.event,!n)return;let e=gd[n.type];e||(e=gd[n.type]=je("ON_PROPERTY"+n.type));let t=this||n.target||Et,r=t[e],i;if(dm&&t===Gc&&n.type==="error"){let o=n;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&n.preventDefault()}else i=r&&r.apply(this,arguments),n.type==="beforeunload"&&Et[SO]&&typeof i=="string"?n.returnValue=i:i!=null&&!i&&n.preventDefault();return i};function TD(n,e,t){let r=qc(n,e);if(!r&&t&&qc(t,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=je("on"+e+"patched");if(n.hasOwnProperty(i)&&n[i])return;delete r.writable,delete r.value;let o=r.get,s=r.set,a=e.slice(2),u=gd[a];u||(u=gd[a]=je("ON_PROPERTY"+a)),r.set=function(l){let h=this;if(!h&&n===Et&&(h=Et),!h)return;typeof h[u]=="function"&&h.removeEventListener(a,wD),s?.call(h,null),h[u]=l,typeof l=="function"&&h.addEventListener(a,wD,!1)},r.get=function(){let l=this;if(!l&&n===Et&&(l=Et),!l)return null;let h=l[u];if(h)return h;if(o){let p=o.call(this);if(p)return r.set.call(this,p),typeof l[bO]=="function"&&l.removeAttribute(e),p}return null},im(n,e,r),n[i]=!0}function MD(n,e,t){if(e)for(let r=0;r<e.length;r++)TD(n,"on"+e[r],t);else{let r=[];for(let i in n)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)TD(n,r[i],t)}}var Kn=je("originalInstance");function Hc(n){let e=Et[n];if(!e)return;Et[je(n)]=e,Et[n]=function(){let i=lm(arguments,n);switch(i.length){case 0:this[Kn]=new e;break;case 1:this[Kn]=new e(i[0]);break;case 2:this[Kn]=new e(i[0],i[1]);break;case 3:this[Kn]=new e(i[0],i[1],i[2]);break;case 4:this[Kn]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},qr(Et[n],e);let t=new e(function(){}),r;for(r in t)n==="XMLHttpRequest"&&r==="responseBlob"||(function(i){typeof t[i]=="function"?Et[n].prototype[i]=function(){return this[Kn][i].apply(this[Kn],arguments)}:im(Et[n].prototype,i,{set:function(o){typeof o=="function"?(this[Kn][i]=cm(o,n+"."+i),qr(this[Kn][i],o)):this[Kn][i]=o},get:function(){return this[Kn][i]}})})(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(Et[n][r]=e[r])}function Hr(n,e,t){let r=n;for(;r&&!r.hasOwnProperty(e);)r=om(r);!r&&n[e]&&(r=n);let i=je(e),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[e];let s=r&&qc(r,e);if(AD(s)){let a=t(o,i,e);r[e]=function(){return a(this,arguments)},qr(r[e],o)}}return o}function AO(n,e,t){let r=null;function i(o){let s=o.data;return s.args[s.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(s.target,s.args),o}r=Hr(n,e,o=>function(s,a){let u=t(s,a);return u.cbIdx>=0&&typeof a[u.cbIdx]=="function"?um(u.name,a[u.cbIdx],u,i):o.apply(s,a)})}function qr(n,e){n[je("OriginalDelegate")]=e}var DD=!1,nm=!1;function RO(){if(DD)return nm;DD=!0;try{let n=Gc.navigator.userAgent;(n.indexOf("MSIE ")!==-1||n.indexOf("Trident/")!==-1||n.indexOf("Edge/")!==-1)&&(nm=!0)}catch{}return nm}function bD(n){return typeof n=="function"}function CD(n){return typeof n=="number"}var NO={useG:!0},On={},PD={},kD=new RegExp("^"+zc+"(\\w+)(true|false)$"),OD=je("propagationStopped");function xD(n,e){let t=(e?e(n):n)+$r,r=(e?e(n):n)+Br,i=zc+t,o=zc+r;On[n]={},On[n][$r]=i,On[n][Br]=o}function MO(n,e,t,r){let i=r&&r.add||sm,o=r&&r.rm||am,s=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",u=je(i),l="."+i+":",h="prependListener",p="."+h+":",g=function(F,O,Y){if(F.isRemoved)return;let fe=F.callback;typeof fe=="object"&&fe.handleEvent&&(F.callback=y=>fe.handleEvent(y),F.originalDelegate=fe);let ie;try{F.invoke(F,O,[Y])}catch(y){ie=y}let D=F.options;if(D&&typeof D=="object"&&D.once){let y=F.originalDelegate?F.originalDelegate:F.callback;O[o].call(O,Y.type,y,D)}return ie};function v(F,O,Y){if(O=O||n.event,!O)return;let fe=F||O.target||n,ie=fe[On[O.type][Y?Br:$r]];if(ie){let D=[];if(ie.length===1){let y=g(ie[0],fe,O);y&&D.push(y)}else{let y=ie.slice();for(let E=0;E<y.length&&!(O&&O[OD]===!0);E++){let I=g(y[E],fe,O);I&&D.push(I)}}if(D.length===1)throw D[0];for(let y=0;y<D.length;y++){let E=D[y];e.nativeScheduleMicroTask(()=>{throw E})}}}let C=function(F){return v(this,F,!1)},P=function(F){return v(this,F,!0)};function M(F,O){if(!F)return!1;let Y=!0;O&&O.useG!==void 0&&(Y=O.useG);let fe=O&&O.vh,ie=!0;O&&O.chkDup!==void 0&&(ie=O.chkDup);let D=!1;O&&O.rt!==void 0&&(D=O.rt);let y=F;for(;y&&!y.hasOwnProperty(i);)y=om(y);if(!y&&F[i]&&(y=F),!y||y[u])return!1;let E=O&&O.eventNameToString,I={},w=y[u]=y[i],T=y[je(o)]=y[o],_=y[je(s)]=y[s],Ze=y[je(a)]=y[a],Ge;O&&O.prepend&&(Ge=y[je(O.prepend)]=y[O.prepend]);function _e(R,j){return j?typeof R=="boolean"?{capture:R,passive:!0}:R?typeof R=="object"&&R.passive!==!1?be(B({},R),{passive:!0}):R:{passive:!0}:R}let G=function(R){if(!I.isExisting)return w.call(I.target,I.eventName,I.capture?P:C,I.options)},b=function(R){if(!R.isRemoved){let j=On[R.eventName],te;j&&(te=j[R.capture?Br:$r]);let ae=te&&R.target[te];if(ae){for(let Z=0;Z<ae.length;Z++)if(ae[Z]===R){ae.splice(Z,1),R.isRemoved=!0,R.removeAbortListener&&(R.removeAbortListener(),R.removeAbortListener=null),ae.length===0&&(R.allRemoved=!0,R.target[te]=null);break}}}if(R.allRemoved)return T.call(R.target,R.eventName,R.capture?P:C,R.options)},A=function(R){return w.call(I.target,I.eventName,R.invoke,I.options)},ee=function(R){return Ge.call(I.target,I.eventName,R.invoke,I.options)},ce=function(R){return T.call(R.target,R.eventName,R.invoke,R.options)},Fe=Y?G:A,oe=Y?b:ce,lr=function(R,j){let te=typeof j;return te==="function"&&R.callback===j||te==="object"&&R.originalDelegate===j},Wt=O?.diff||lr,qn=Zone[je("UNPATCHED_EVENTS")],Nt=n[je("PASSIVE_EVENTS")];function $(R){if(typeof R=="object"&&R!==null){let j=B({},R);return R.signal&&(j.signal=R.signal),j}return R}let U=function(R,j,te,ae,Z=!1,pe=!1){return function(){let Ee=this||n,Ie=arguments[0];O&&O.transferEventName&&(Ie=O.transferEventName(Ie));let We=arguments[1];if(!We)return R.apply(this,arguments);if(yd&&Ie==="uncaughtException")return R.apply(this,arguments);let $e=!1;if(typeof We!="function"){if(!We.handleEvent)return R.apply(this,arguments);$e=!0}if(fe&&!fe(R,We,Ee,arguments))return;let zn=!!Nt&&Nt.indexOf(Ie)!==-1,rn=$(_e(arguments[2],zn)),Vr=rn?.signal;if(Vr?.aborted)return;if(qn){for(let mn=0;mn<qn.length;mn++)if(Ie===qn[mn])return zn?R.call(Ee,Ie,We,rn):R.apply(this,arguments)}let Sc=rn?typeof rn=="boolean"?!0:rn.capture:!1,xs=rn&&typeof rn=="object"?rn.once:!1,Ac=Zone.current,vo=On[Ie];vo||(xD(Ie,E),vo=On[Ie]);let _t=vo[Sc?Br:$r],tt=Ee[_t],_o=!1;if(tt){if(_o=!0,ie){for(let mn=0;mn<tt.length;mn++)if(Wt(tt[mn],We))return}}else tt=Ee[_t]=[];let Eo,Rc=Ee.constructor.name,Xl=PD[Rc];Xl&&(Eo=Xl[Ie]),Eo||(Eo=Rc+j+(E?E(Ie):Ie)),I.options=rn,xs&&(I.options.once=!1),I.target=Ee,I.capture=Sc,I.eventName=Ie,I.isExisting=_o;let Gn=Y?NO:void 0;Gn&&(Gn.taskData=I),Vr&&(I.options.signal=void 0);let on=Ac.scheduleEventTask(Eo,We,Gn,te,ae);if(Vr){I.options.signal=Vr;let mn=()=>on.zone.cancelTask(on);R.call(Vr,"abort",mn,{once:!0}),on.removeAbortListener=()=>Vr.removeEventListener("abort",mn)}if(I.target=null,Gn&&(Gn.taskData=null),xs&&(I.options.once=!0),typeof on.options!="boolean"&&(on.options=rn),on.target=Ee,on.capture=Sc,on.eventName=Ie,$e&&(on.originalDelegate=We),pe?tt.unshift(on):tt.push(on),Z)return Ee}};return y[i]=U(w,l,Fe,oe,D),Ge&&(y[h]=U(Ge,p,ee,oe,D,!0)),y[o]=function(){let R=this||n,j=arguments[0];O&&O.transferEventName&&(j=O.transferEventName(j));let te=arguments[2],ae=te?typeof te=="boolean"?!0:te.capture:!1,Z=arguments[1];if(!Z)return T.apply(this,arguments);if(fe&&!fe(T,Z,R,arguments))return;let pe=On[j],Ee;pe&&(Ee=pe[ae?Br:$r]);let Ie=Ee&&R[Ee];if(Ie)for(let We=0;We<Ie.length;We++){let $e=Ie[We];if(Wt($e,Z)){if(Ie.splice(We,1),$e.isRemoved=!0,Ie.length===0&&($e.allRemoved=!0,R[Ee]=null,!ae&&typeof j=="string")){let zn=zc+"ON_PROPERTY"+j;R[zn]=null}return $e.zone.cancelTask($e),D?R:void 0}}return T.apply(this,arguments)},y[s]=function(){let R=this||n,j=arguments[0];O&&O.transferEventName&&(j=O.transferEventName(j));let te=[],ae=FD(R,E?E(j):j);for(let Z=0;Z<ae.length;Z++){let pe=ae[Z],Ee=pe.originalDelegate?pe.originalDelegate:pe.callback;te.push(Ee)}return te},y[a]=function(){let R=this||n,j=arguments[0];if(j){O&&O.transferEventName&&(j=O.transferEventName(j));let te=On[j];if(te){let ae=te[$r],Z=te[Br],pe=R[ae],Ee=R[Z];if(pe){let Ie=pe.slice();for(let We=0;We<Ie.length;We++){let $e=Ie[We],zn=$e.originalDelegate?$e.originalDelegate:$e.callback;this[o].call(this,j,zn,$e.options)}}if(Ee){let Ie=Ee.slice();for(let We=0;We<Ie.length;We++){let $e=Ie[We],zn=$e.originalDelegate?$e.originalDelegate:$e.callback;this[o].call(this,j,zn,$e.options)}}}}else{let te=Object.keys(R);for(let ae=0;ae<te.length;ae++){let Z=te[ae],pe=kD.exec(Z),Ee=pe&&pe[1];Ee&&Ee!=="removeListener"&&this[a].call(this,Ee)}this[a].call(this,"removeListener")}if(D)return this},qr(y[i],w),qr(y[o],T),Ze&&qr(y[a],Ze),_&&qr(y[s],_),!0}let V=[];for(let F=0;F<t.length;F++)V[F]=M(t[F],r);return V}function FD(n,e){if(!e){let o=[];for(let s in n){let a=kD.exec(s),u=a&&a[1];if(u&&(!e||u===e)){let l=n[s];if(l)for(let h=0;h<l.length;h++)o.push(l[h])}}return o}let t=On[e];t||(xD(e),t=On[e]);let r=n[t[$r]],i=n[t[Br]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function PO(n,e){let t=n.Event;t&&t.prototype&&e.patchMethod(t.prototype,"stopImmediatePropagation",r=>function(i,o){i[OD]=!0,r&&r.apply(i,o)})}function kO(n,e){e.patchMethod(n,"queueMicrotask",t=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var pd=je("zoneTask");function Us(n,e,t,r){let i=null,o=null;e+=r,t+=r;let s={};function a(l){let h=l.data;h.args[0]=function(){return l.invoke.apply(this,arguments)};let p=i.apply(n,h.args);return CD(p)?h.handleId=p:(h.handle=p,h.isRefreshable=bD(p.refresh)),l}function u(l){let{handle:h,handleId:p}=l.data;return o.call(n,h??p)}i=Hr(n,e,l=>function(h,p){if(bD(p[0])){let g={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?p[1]||0:void 0,args:p},v=p[0];p[0]=function(){try{return v.apply(this,arguments)}finally{let{handle:Y,handleId:fe,isPeriodic:ie,isRefreshable:D}=g;!ie&&!D&&(fe?delete s[fe]:Y&&(Y[pd]=null))}};let C=um(e,p[0],g,a,u);if(!C)return C;let{handleId:P,handle:M,isRefreshable:V,isPeriodic:F}=C.data;if(P)s[P]=C;else if(M&&(M[pd]=C,V&&!F)){let O=M.refresh;M.refresh=function(){let{zone:Y,state:fe}=C;return fe==="notScheduled"?(C._state="scheduled",Y._updateTaskCount(C,1)):fe==="running"&&(C._state="scheduling"),O.call(this)}}return M??P??C}else return l.apply(n,p)}),o=Hr(n,t,l=>function(h,p){let g=p[0],v;CD(g)?(v=s[g],delete s[g]):(v=g?.[pd],v?g[pd]=null:v=g),v?.type?v.cancelFn&&v.zone.cancelTask(v):l.apply(n,p)})}function OO(n,e){let{isBrowser:t,isMix:r}=e.getGlobalObjects();if(!t&&!r||!n.customElements||!("customElements"in n))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,n.customElements,"customElements","define",i)}function xO(n,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:t,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let u=0;u<t.length;u++){let l=t[u],h=l+o,p=l+i,g=s+h,v=s+p;r[l]={},r[l][o]=g,r[l][i]=v}let a=n.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(n,e,[a&&a.prototype]),!0}function FO(n,e){e.patchEventPrototype(n,e)}function LD(n,e,t){if(!t||t.length===0)return e;let r=t.filter(o=>o.target===n);if(r.length===0)return e;let i=r[0].ignoreProperties;return e.filter(o=>i.indexOf(o)===-1)}function SD(n,e,t,r){if(!n)return;let i=LD(n,e,t);MD(n,i,r)}function rm(n){return Object.getOwnPropertyNames(n).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function LO(n,e){if(yd&&!ND||Zone[n.symbol("patchEvents")])return;let t=e.__Zone_ignore_on_properties,r=[];if(dm){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];SD(i,rm(i),t&&t.concat(o),om(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=e[r[i]];o?.prototype&&SD(o.prototype,rm(o.prototype),t)}}function VO(n){n.__load_patch("legacy",e=>{let t=e[n.__symbol__("legacyPatch")];t&&t()}),n.__load_patch("timers",e=>{let r="clear";Us(e,"set",r,"Timeout"),Us(e,"set",r,"Interval"),Us(e,"set",r,"Immediate")}),n.__load_patch("requestAnimationFrame",e=>{Us(e,"request","cancel","AnimationFrame"),Us(e,"mozRequest","mozCancel","AnimationFrame"),Us(e,"webkitRequest","webkitCancel","AnimationFrame")}),n.__load_patch("blocking",(e,t)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];Hr(e,o,(s,a,u)=>function(l,h){return t.current.run(s,e,h,u)})}}),n.__load_patch("EventTarget",(e,t,r)=>{FO(e,r),xO(e,r);let i=e.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(e,r,[i.prototype])}),n.__load_patch("MutationObserver",(e,t,r)=>{Hc("MutationObserver"),Hc("WebKitMutationObserver")}),n.__load_patch("IntersectionObserver",(e,t,r)=>{Hc("IntersectionObserver")}),n.__load_patch("FileReader",(e,t,r)=>{Hc("FileReader")}),n.__load_patch("on_property",(e,t,r)=>{LO(r,e)}),n.__load_patch("customElements",(e,t,r)=>{OO(e,r)}),n.__load_patch("XHR",(e,t)=>{l(e);let r=je("xhrTask"),i=je("xhrSync"),o=je("xhrListener"),s=je("xhrScheduled"),a=je("xhrURL"),u=je("xhrErrorBeforeScheduled");function l(h){let p=h.XMLHttpRequest;if(!p)return;let g=p.prototype;function v(w){return w[r]}let C=g[em],P=g[tm];if(!C){let w=h.XMLHttpRequestEventTarget;if(w){let T=w.prototype;C=T[em],P=T[tm]}}let M="readystatechange",V="scheduled";function F(w){let T=w.data,_=T.target;_[s]=!1,_[u]=!1;let Ze=_[o];C||(C=_[em],P=_[tm]),Ze&&P.call(_,M,Ze);let Ge=_[o]=()=>{if(_.readyState===_.DONE)if(!T.aborted&&_[s]&&w.state===V){let G=_[t.__symbol__("loadfalse")];if(_.status!==0&&G&&G.length>0){let b=w.invoke;w.invoke=function(){let A=_[t.__symbol__("loadfalse")];for(let ee=0;ee<A.length;ee++)A[ee]===w&&A.splice(ee,1);!T.aborted&&w.state===V&&b.call(w)},G.push(w)}else w.invoke()}else!T.aborted&&_[s]===!1&&(_[u]=!0)};return C.call(_,M,Ge),_[r]||(_[r]=w),E.apply(_,T.args),_[s]=!0,w}function O(){}function Y(w){let T=w.data;return T.aborted=!0,I.apply(T.target,T.args)}let fe=Hr(g,"open",()=>function(w,T){return w[i]=T[2]==!1,w[a]=T[1],fe.apply(w,T)}),ie="XMLHttpRequest.send",D=je("fetchTaskAborting"),y=je("fetchTaskScheduling"),E=Hr(g,"send",()=>function(w,T){if(t.current[y]===!0||w[i])return E.apply(w,T);{let _={target:w,url:w[a],isPeriodic:!1,args:T,aborted:!1},Ze=um(ie,O,_,F,Y);w&&w[u]===!0&&!_.aborted&&Ze.state===V&&Ze.invoke()}}),I=Hr(g,"abort",()=>function(w,T){let _=v(w);if(_&&typeof _.type=="string"){if(_.cancelFn==null||_.data&&_.data.aborted)return;_.zone.cancelTask(_)}else if(t.current[D]===!0)return I.apply(w,T)})}}),n.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&CO(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),n.__load_patch("PromiseRejectionEvent",(e,t)=>{function r(i){return function(o){FD(e,i).forEach(a=>{let u=e.PromiseRejectionEvent;if(u){let l=new u(i,{promise:o.promise,reason:o.rejection});a.invoke(l)}})}}e.PromiseRejectionEvent&&(t[je("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[je("rejectionHandledHandler")]=r("rejectionhandled"))}),n.__load_patch("queueMicrotask",(e,t,r)=>{kO(e,r)})}function jO(n){n.__load_patch("ZoneAwarePromise",(e,t,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function s($){if($&&$.toString===Object.prototype.toString){let U=$.constructor&&$.constructor.name;return(U||"")+": "+JSON.stringify($)}return $?$.toString():Object.prototype.toString.call($)}let a=r.symbol,u=[],l=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,h=a("Promise"),p=a("then"),g="__creationTrace__";r.onUnhandledError=$=>{if(r.showUncaughtError()){let U=$&&$.rejection;U?console.error("Unhandled Promise rejection:",U instanceof Error?U.message:U,"; Zone:",$.zone.name,"; Task:",$.task&&$.task.source,"; Value:",U,U instanceof Error?U.stack:void 0):console.error($)}},r.microtaskDrainDone=()=>{for(;u.length;){let $=u.shift();try{$.zone.runGuarded(()=>{throw $.throwOriginal?$.rejection:$})}catch(U){C(U)}}};let v=a("unhandledPromiseRejectionHandler");function C($){r.onUnhandledError($);try{let U=t[v];typeof U=="function"&&U.call(this,$)}catch{}}function P($){return $&&typeof $.then=="function"}function M($){return $}function V($){return oe.reject($)}let F=a("state"),O=a("value"),Y=a("finally"),fe=a("parentPromiseValue"),ie=a("parentPromiseState"),D="Promise.then",y=null,E=!0,I=!1,w=0;function T($,U){return R=>{try{_e($,U,R)}catch(j){_e($,!1,j)}}}let _=function(){let $=!1;return function(R){return function(){$||($=!0,R.apply(null,arguments))}}},Ze="Promise resolved with itself",Ge=a("currentTaskTrace");function _e($,U,R){let j=_();if($===R)throw new TypeError(Ze);if($[F]===y){let te=null;try{(typeof R=="object"||typeof R=="function")&&(te=R&&R.then)}catch(ae){return j(()=>{_e($,!1,ae)})(),$}if(U!==I&&R instanceof oe&&R.hasOwnProperty(F)&&R.hasOwnProperty(O)&&R[F]!==y)b(R),_e($,R[F],R[O]);else if(U!==I&&typeof te=="function")try{te.call(R,j(T($,U)),j(T($,!1)))}catch(ae){j(()=>{_e($,!1,ae)})()}else{$[F]=U;let ae=$[O];if($[O]=R,$[Y]===Y&&U===E&&($[F]=$[ie],$[O]=$[fe]),U===I&&R instanceof Error){let Z=t.currentTask&&t.currentTask.data&&t.currentTask.data[g];Z&&o(R,Ge,{configurable:!0,enumerable:!1,writable:!0,value:Z})}for(let Z=0;Z<ae.length;)A($,ae[Z++],ae[Z++],ae[Z++],ae[Z++]);if(ae.length==0&&U==I){$[F]=w;let Z=R;try{throw new Error("Uncaught (in promise): "+s(R)+(R&&R.stack?`
`+R.stack:""))}catch(pe){Z=pe}l&&(Z.throwOriginal=!0),Z.rejection=R,Z.promise=$,Z.zone=t.current,Z.task=t.currentTask,u.push(Z),r.scheduleMicroTask()}}}return $}let G=a("rejectionHandledHandler");function b($){if($[F]===w){try{let U=t[G];U&&typeof U=="function"&&U.call(this,{rejection:$[O],promise:$})}catch{}$[F]=I;for(let U=0;U<u.length;U++)$===u[U].promise&&u.splice(U,1)}}function A($,U,R,j,te){b($);let ae=$[F],Z=ae?typeof j=="function"?j:M:typeof te=="function"?te:V;U.scheduleMicroTask(D,()=>{try{let pe=$[O],Ee=!!R&&Y===R[Y];Ee&&(R[fe]=pe,R[ie]=ae);let Ie=U.run(Z,void 0,Ee&&Z!==V&&Z!==M?[]:[pe]);_e(R,!0,Ie)}catch(pe){_e(R,!1,pe)}},R)}let ee="function ZoneAwarePromise() { [native code] }",ce=function(){},Fe=e.AggregateError;class oe{static toString(){return ee}static resolve(U){return U instanceof oe?U:_e(new this(null),E,U)}static reject(U){return _e(new this(null),I,U)}static withResolvers(){let U={};return U.promise=new oe((R,j)=>{U.resolve=R,U.reject=j}),U}static any(U){if(!U||typeof U[Symbol.iterator]!="function")return Promise.reject(new Fe([],"All promises were rejected"));let R=[],j=0;try{for(let Z of U)j++,R.push(oe.resolve(Z))}catch{return Promise.reject(new Fe([],"All promises were rejected"))}if(j===0)return Promise.reject(new Fe([],"All promises were rejected"));let te=!1,ae=[];return new oe((Z,pe)=>{for(let Ee=0;Ee<R.length;Ee++)R[Ee].then(Ie=>{te||(te=!0,Z(Ie))},Ie=>{ae.push(Ie),j--,j===0&&(te=!0,pe(new Fe(ae,"All promises were rejected")))})})}static race(U){let R,j,te=new this((pe,Ee)=>{R=pe,j=Ee});function ae(pe){R(pe)}function Z(pe){j(pe)}for(let pe of U)P(pe)||(pe=this.resolve(pe)),pe.then(ae,Z);return te}static all(U){return oe.allWithCallback(U)}static allSettled(U){return(this&&this.prototype instanceof oe?this:oe).allWithCallback(U,{thenCallback:j=>({status:"fulfilled",value:j}),errorCallback:j=>({status:"rejected",reason:j})})}static allWithCallback(U,R){let j,te,ae=new this((Ie,We)=>{j=Ie,te=We}),Z=2,pe=0,Ee=[];for(let Ie of U){P(Ie)||(Ie=this.resolve(Ie));let We=pe;try{Ie.then($e=>{Ee[We]=R?R.thenCallback($e):$e,Z--,Z===0&&j(Ee)},$e=>{R?(Ee[We]=R.errorCallback($e),Z--,Z===0&&j(Ee)):te($e)})}catch($e){te($e)}Z++,pe++}return Z-=2,Z===0&&j(Ee),ae}constructor(U){let R=this;if(!(R instanceof oe))throw new Error("Must be an instanceof Promise.");R[F]=y,R[O]=[];try{let j=_();U&&U(j(T(R,E)),j(T(R,I)))}catch(j){_e(R,!1,j)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return oe}then(U,R){let j=this.constructor?.[Symbol.species];(!j||typeof j!="function")&&(j=this.constructor||oe);let te=new j(ce),ae=t.current;return this[F]==y?this[O].push(ae,te,U,R):A(this,ae,te,U,R),te}catch(U){return this.then(null,U)}finally(U){let R=this.constructor?.[Symbol.species];(!R||typeof R!="function")&&(R=oe);let j=new R(ce);j[Y]=Y;let te=t.current;return this[F]==y?this[O].push(te,j,U,U):A(this,te,j,U,U),j}}oe.resolve=oe.resolve,oe.reject=oe.reject,oe.race=oe.race,oe.all=oe.all;let lr=e[h]=e.Promise;e.Promise=oe;let Wt=a("thenPatched");function qn($){let U=$.prototype,R=i(U,"then");if(R&&(R.writable===!1||!R.configurable))return;let j=U.then;U[p]=j,$.prototype.then=function(te,ae){return new oe((pe,Ee)=>{j.call(this,pe,Ee)}).then(te,ae)},$[Wt]=!0}r.patchThen=qn;function Nt($){return function(U,R){let j=$.apply(U,R);if(j instanceof oe)return j;let te=j.constructor;return te[Wt]||qn(te),j}}return lr&&(qn(lr),Hr(e,"fetch",$=>Nt($))),Promise[t.__symbol__("uncaughtPromiseErrors")]=u,oe})}function UO(n){n.__load_patch("toString",e=>{let t=Function.prototype.toString,r=je("OriginalDelegate"),i=je("Promise"),o=je("Error"),s=function(){if(typeof this=="function"){let h=this[r];if(h)return typeof h=="function"?t.call(h):Object.prototype.toString.call(h);if(this===Promise){let p=e[i];if(p)return t.call(p)}if(this===Error){let p=e[o];if(p)return t.call(p)}}return t.call(this)};s[r]=t,Function.prototype.toString=s;let a=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:a.call(this)}})}function BO(n,e,t,r,i){let o=Zone.__symbol__(r);if(e[o])return;let s=e[o]=e[r];e[r]=function(a,u,l){return u&&u.prototype&&i.forEach(function(h){let p=`${t}.${r}::`+h,g=u.prototype;try{if(g.hasOwnProperty(h)){let v=n.ObjectGetOwnPropertyDescriptor(g,h);v&&v.value?(v.value=n.wrapWithCurrentZone(v.value,p),n._redefineProperty(u.prototype,h,v)):g[h]&&(g[h]=n.wrapWithCurrentZone(g[h],p))}else g[h]&&(g[h]=n.wrapWithCurrentZone(g[h],p))}catch{}}),s.call(e,a,u,l)},n.attachOriginToPatched(e[r],s)}function $O(n){n.__load_patch("util",(e,t,r)=>{let i=rm(e);r.patchOnProperties=MD,r.patchMethod=Hr,r.bindArguments=lm,r.patchMacroTask=AO;let o=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[o]=e[s]),e[o]&&(t[o]=t[s]=e[o]),r.patchEventPrototype=PO,r.patchEventTarget=MO,r.isIEOrEdge=RO,r.ObjectDefineProperty=im,r.ObjectGetOwnPropertyDescriptor=qc,r.ObjectCreate=TO,r.ArraySlice=DO,r.patchClass=Hc,r.wrapWithCurrentZone=cm,r.filterProperties=LD,r.attachOriginToPatched=qr,r._redefineProperty=Object.defineProperty,r.patchCallbacks=BO,r.getGlobalObjects=()=>({globalSources:PD,zoneSymbolEventNames:On,eventNames:i,isBrowser:dm,isMix:ND,isNode:yd,TRUE_STR:Br,FALSE_STR:$r,ZONE_SYMBOL_PREFIX:zc,ADD_EVENT_LISTENER_STR:sm,REMOVE_EVENT_LISTENER_STR:am})})}function HO(n){jO(n),UO(n),$O(n)}var VD=wO();HO(VD);VO(VD);var hm;function vd(){return hm}function hr(n){let e=hm;return hm=n,e}var jD=Symbol("NotFound");function Bs(n){return n===jD||n?.name==="\u0275NotFound"}var jt=null,_d=!1,fm=1,qO=null,Ut=Symbol("SIGNAL");function Ce(n){let e=jt;return jt=n,e}function Td(){return jt}var $s={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hs(n){if(_d)throw new Error("");if(jt===null)return;jt.consumerOnSignalRead(n);let e=jt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=jt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:jt.producers,t!==void 0&&t.producer===n)){jt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===jt&&(!r||GO(i,jt)))return;let o=zs(jt),s={producer:n,consumer:jt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};jt.producersTail=s,e!==void 0?e.nextProducer=s:jt.producers=s,o&&HD(n,s)}function UD(){fm++}function Dd(n){if(!(zs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===fm)){if(!n.producerMustRecompute(n)&&!Qc(n)){wd(n);return}n.producerRecomputeValue(n),wd(n)}}function pm(n){if(n.consumers===void 0)return;let e=_d;_d=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||zO(r)}}finally{_d=e}}function gm(){return jt?.consumerAllowSignalWrites!==!1}function zO(n){n.dirty=!0,pm(n),n.consumerMarkedDirty?.(n)}function wd(n){n.dirty=!1,n.lastCleanEpoch=fm}function qs(n){return n&&BD(n),Ce(n)}function BD(n){n.producersTail=void 0,n.recomputing=!0}function Kc(n,e){Ce(e),n&&$D(n)}function $D(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(zs(n))do t=mm(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Qc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Dd(t),r!==t.version))return!0}return!1}function Zc(n){if(zs(n)){let e=n.producers;for(;e!==void 0;)e=mm(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function HD(n,e){let t=n.consumersTail,r=zs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)HD(i.producer,i)}function mm(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!zs(e)){let o=e.producers;for(;o!==void 0;)o=mm(o)}return t}function zs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function bd(n){qO?.(n)}function GO(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cd(n,e){return Object.is(n,e)}function Sd(n,e){let t=Object.create(WO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Dd(t),Hs(t),t.value===Wc)throw t.error;return t.value};return r[Ut]=t,bd(t),r}var Ed=Symbol("UNSET"),Id=Symbol("COMPUTING"),Wc=Symbol("ERRORED"),WO=be(B({},$s),{value:Ed,dirty:!0,error:null,equal:Cd,kind:"computed",producerMustRecompute(n){return n.value===Ed||n.value===Id},producerRecomputeValue(n){if(n.value===Id)throw new Error("");let e=n.value;n.value=Id;let t=qs(n),r,i=!1;try{r=n.computation(),Ce(null),i=e!==Ed&&e!==Wc&&r!==Wc&&n.equal(e,r)}catch(o){r=Wc,n.error=o}finally{Kc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function KO(){throw new Error}var qD=KO;function zD(n){qD(n)}function ym(n){qD=n}var QO=null;function vm(n,e){let t=Object.create(Ad);t.value=n,e!==void 0&&(t.equal=e);let r=()=>GD(t);return r[Ut]=t,bd(t),[r,s=>Gs(t,s),s=>_m(t,s)]}function GD(n){return Hs(n),n.value}function Gs(n,e){gm()||zD(n),n.equal(n.value,e)||(n.value=e,ZO(n))}function _m(n,e){gm()||zD(n),Gs(n,e(n.value))}var Ad=be(B({},$s),{equal:Cd,value:void 0,kind:"signal"});function ZO(n){n.version++,UD(),pm(n),QO?.(n)}function ye(n){return typeof n=="function"}function Ws(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rd=Ws(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){e=o instanceof Rd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{WD(o)}catch(s){e=e??[],s instanceof Rd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)WD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bo(t,e)}remove(e){let{_finalizers:t}=this;t&&bo(t,e),e instanceof n&&e._removeParent(this)}};rt.EMPTY=(()=>{let n=new rt;return n.closed=!0,n})();var Em=rt.EMPTY;function Nd(n){return n instanceof rt||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function WD(n){ye(n)?n():n.unsubscribe()}var Qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ks={setTimeout(n,e,...t){let{delegate:r}=Ks;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ks;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Md(n){Ks.setTimeout(()=>{let{onUnhandledError:e}=Qn;if(e)e(n);else throw n})}function Yc(){}var KD=Im("C",void 0,void 0);function QD(n){return Im("E",void 0,n)}function ZD(n){return Im("N",n,void 0)}function Im(n,e,t){return{kind:n,value:e,error:t}}var Co=null;function Qs(n){if(Qn.useDeprecatedSynchronousErrorHandling){let e=!Co;if(e&&(Co={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Co;if(Co=null,t)throw r}}else n()}function YD(n){Qn.useDeprecatedSynchronousErrorHandling&&Co&&(Co.errorThrown=!0,Co.error=n)}var So=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nd(e)&&e.add(this)):this.destination=XO}static create(e,t,r){return new Di(e,t,r)}next(e){this.isStopped?Tm(ZD(e),this):this._next(e)}error(e){this.isStopped?Tm(QD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tm(KD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YO=Function.prototype.bind;function wm(n,e){return YO.call(n,e)}var Dm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pd(r)}else Pd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pd(t)}}},Di=class extends So{constructor(e,t,r){super();let i;if(ye(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wm(e.next,o),error:e.error&&wm(e.error,o),complete:e.complete&&wm(e.complete,o)}):i=e}this.destination=new Dm(i)}};function Pd(n){Qn.useDeprecatedSynchronousErrorHandling?YD(n):Md(n)}function JO(n){throw n}function Tm(n,e){let{onStoppedNotification:t}=Qn;t&&Ks.setTimeout(()=>t(n,e))}var XO={closed:!0,next:Yc,error:JO,complete:Yc};var Zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vn(n){return n}function kd(...n){return bm(n)}function bm(n){return n.length===0?vn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var we=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=tx(t)?t:new Di(t,r,i);return Qs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=JD(r),new r((i,o)=>{let s=new Di({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Zs](){return this}pipe(...t){return bm(t)(this)}toPromise(t){return t=JD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function JD(n){var e;return(e=n??Qn.Promise)!==null&&e!==void 0?e:Promise}function ex(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}function tx(n){return n&&n instanceof So||ex(n)&&Nd(n)}function Cm(n){return ye(n?.lift)}function ke(n){return e=>{if(Cm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(n,e,t,r,i){return new Sm(n,e,t,r,i)}var Sm=class extends So{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ys(){return ke((n,e)=>{let t=null;n._refCount++;let r=Me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Js=class extends we{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Cm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let t=this.getSubject();e.add(this.source.subscribe(Me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return Ys()(this)}};var XD=Ws(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Od(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new XD}next(t){Qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Em:(this.currentObservers=null,o.push(t),new rt(()=>{this.currentObservers=null,bo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new we;return t.source=this,t}}return n.create=(e,t)=>new Od(e,t),n})(),Od=class extends ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Em}};var Pt=class extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Am={now(){return(Am.delegate||Date).now()},delegate:void 0};var xd=class extends rt{constructor(e,t){super()}schedule(e,t=0){return this}};var Jc={setInterval(n,e,...t){let{delegate:r}=Jc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Jc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Xs=class extends xd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Jc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Jc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ea=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ea.now=Am.now;var ta=class extends ea{constructor(e,t=ea.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Rm=new ta(Xs);var Fd=class extends Xs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ld=class extends ta{};var Nm=new Ld(Fd);var sn=new we(n=>n.complete());function eb(n){return n&&ye(n.schedule)}function tb(n){return n[n.length-1]}function Vd(n){return ye(tb(n))?n.pop():void 0}function bi(n){return eb(tb(n))?n.pop():void 0}function Mm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function rb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function nb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ao(n){return this instanceof Ao?(this.v=n,this):new Ao(n)}function ib(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(C){return Promise.resolve(C).then(v,p)}}function a(v,C){r[v]&&(i[v]=function(P){return new Promise(function(M,V){o.push([v,P,M,V])>1||u(v,P)})},C&&(i[v]=C(i[v])))}function u(v,C){try{l(r[v](C))}catch(P){g(o[0][3],P)}}function l(v){v.value instanceof Ao?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,C){v(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ob(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof nb=="function"?nb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var jd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ud(n){return ye(n?.then)}function Bd(n){return ye(n[Zs])}function $d(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function Hd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qd=nx();function zd(n){return ye(n?.[qd])}function Gd(n){return ib(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ao(t.read());if(i)return yield Ao(void 0);yield yield Ao(r)}}finally{t.releaseLock()}})}function Wd(n){return ye(n?.getReader)}function ut(n){if(n instanceof we)return n;if(n!=null){if(Bd(n))return rx(n);if(jd(n))return ix(n);if(Ud(n))return ox(n);if($d(n))return sb(n);if(zd(n))return sx(n);if(Wd(n))return ax(n)}throw Hd(n)}function rx(n){return new we(e=>{let t=n[Zs]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ix(n){return new we(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ox(n){return new we(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Md)})}function sx(n){return new we(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function sb(n){return new we(e=>{cx(n,e).catch(t=>e.error(t))})}function ax(n){return sb(Gd(n))}function cx(n,e){var t,r,i,o;return rb(this,void 0,void 0,function*(){try{for(t=ob(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function an(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ci(n,e=0){return ke((t,r)=>{t.subscribe(Me(r,i=>an(r,n,()=>r.next(i),e),()=>an(r,n,()=>r.complete(),e),i=>an(r,n,()=>r.error(i),e)))})}function Si(n,e=0){return ke((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ab(n,e){return ut(n).pipe(Si(e),Ci(e))}function cb(n,e){return ut(n).pipe(Si(e),Ci(e))}function ub(n,e){return new we(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function lb(n,e){return new we(t=>{let r;return an(t,e,()=>{r=n[qd](),an(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}function Kd(n,e){if(!n)throw new Error("Iterable cannot be null");return new we(t=>{an(t,e,()=>{let r=n[Symbol.asyncIterator]();an(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function db(n,e){return Kd(Gd(n),e)}function hb(n,e){if(n!=null){if(Bd(n))return ab(n,e);if(jd(n))return ub(n,e);if(Ud(n))return cb(n,e);if($d(n))return Kd(n,e);if(zd(n))return lb(n,e);if(Wd(n))return db(n,e)}throw Hd(n)}function et(n,e){return e?hb(n,e):ut(n)}function he(...n){let e=bi(n);return et(n,e)}function na(n,e){let t=ye(n)?n:()=>n,r=i=>i.error(t());return new we(e?i=>e.schedule(r,0,i):r)}function Pm(n){return!!n&&(n instanceof we||ye(n.lift)&&ye(n.subscribe))}var Zn=Ws(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function km(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Di({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Zn)}});n.subscribe(o)})}function Se(n,e){return ke((t,r)=>{let i=0;t.subscribe(Me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ux}=Array;function lx(n,e){return ux(e)?n(...e):n(e)}function Qd(n){return Se(e=>lx(n,e))}var{isArray:dx}=Array,{getPrototypeOf:hx,prototype:fx,keys:px}=Object;function Zd(n){if(n.length===1){let e=n[0];if(dx(e))return{args:e,keys:null};if(gx(e)){let t=px(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function gx(n){return n&&typeof n=="object"&&hx(n)===fx}function Yd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Jd(...n){let e=bi(n),t=Vd(n),{args:r,keys:i}=Zd(n);if(r.length===0)return et([],e);let o=new we(mx(r,e,i?s=>Yd(i,s):vn));return t?o.pipe(Qd(t)):o}function mx(n,e,t=vn){return r=>{fb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)fb(e,()=>{let l=et(n[u],e),h=!1;l.subscribe(Me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fb(n,e,t){n?an(t,n,e):e()}function pb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?C(P):u.push(P),C=P=>{o&&e.next(P),l++;let M=!1;ut(t(P,h++)).subscribe(Me(e,V=>{i?.(V),o?v(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let V=u.shift();s?an(e,s,()=>C(V)):C(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(Me(e,v,()=>{p=!0,g()})),()=>{a?.()}}function It(n,e,t=1/0){return ye(e)?It((r,i)=>Se((o,s)=>e(r,o,i,s))(ut(n(r,i))),t):(typeof e=="number"&&(t=e),ke((r,i)=>pb(r,i,n,t)))}function gb(n=1/0){return It(vn,n)}function mb(){return gb(1)}function ra(...n){return mb()(et(n,bi(n)))}function Xc(n){return new we(e=>{ut(n()).subscribe(e)})}function Om(...n){let e=Vd(n),{args:t,keys:r}=Zd(n),i=new we(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ut(t[h]).subscribe(Me(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Yd(r,a):a),o.complete())}))}});return e?i.pipe(Qd(e)):i}function _n(n,e){return ke((t,r)=>{let i=0;t.subscribe(Me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ai(n){return ke((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Me(t,void 0,void 0,s=>{o=ut(n(s,Ai(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function yb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(Me(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ia(n,e){return ye(e)?It(n,e,1):It(n,1)}function Ri(n){return ke((e,t)=>{let r=!1;e.subscribe(Me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zr(n){return n<=0?()=>sn:ke((e,t)=>{let r=0;e.subscribe(Me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xd(n=yx){return ke((e,t)=>{let r=!1;e.subscribe(Me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yx(){return new Zn}function eu(n){return ke((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Gr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_n((i,o)=>n(i,o,r)):vn,zr(1),t?Ri(e):Xd(()=>new Zn))}function oa(n){return n<=0?()=>sn:ke((e,t)=>{let r=[];e.subscribe(Me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_n((i,o)=>n(i,o,r)):vn,oa(1),t?Ri(e):Xd(()=>new Zn))}function eh(n,e){return ke(yb(n,e,arguments.length>=2,!0))}function th(...n){let e=bi(n);return ke((t,r)=>{(e?ra(n,t,e):ra(n,t)).subscribe(r)})}function cn(n,e){return ke((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Me(r,u=>{i?.unsubscribe();let l=0,h=o++;ut(n(u,h)).subscribe(i=Me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function nh(n){return ke((e,t)=>{ut(n).subscribe(Me(t,()=>t.complete(),Yc)),!t.closed&&e.subscribe(t)})}function Tt(n,e,t){let r=ye(n)||e||t?{next:n,error:e,complete:t}:n;return r?ke((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vn}function vb(n){let e=Ce(null);try{return n()}finally{Ce(e)}}var No=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Km=new No("20.3.3");var sh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",W=class extends Error{code;constructor(e,t){super(ah(e,t)),this.code=e}};function vx(n){return`NG0${Math.abs(n)}`}function ah(n,e){return`${vx(n)}${e?": "+e:""}`}var iu=globalThis;function Ue(n){for(let e in n)if(n[e]===Ue)return e;throw Error("")}function Ib(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Kr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Kr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Qm(n,e){return n?e?`${n} ${e}`:n:e||""}var _x=Ue({__forward_ref__:Ue});function un(n){return n.__forward_ref__=un,n.toString=function(){return Kr(this())},n}function kt(n){return Zm(n)?n():n}function Zm(n){return typeof n=="function"&&n.hasOwnProperty(_x)&&n.__forward_ref__===un}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ou(n){return Ex(n,ch)}function Ym(n){return ou(n)!==null}function Ex(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Ix(n){let e=n?.[ch]??null;return e||null}function Lm(n){return n&&n.hasOwnProperty(ih)?n[ih]:null}var ch=Ue({\u0275prov:Ue}),ih=Ue({\u0275inj:Ue}),J=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jm(n){return n&&!!n.\u0275providers}var Xm=Ue({\u0275cmp:Ue}),ey=Ue({\u0275dir:Ue}),ty=Ue({\u0275pipe:Ue}),ny=Ue({\u0275mod:Ue}),nu=Ue({\u0275fac:Ue}),Oo=Ue({__NG_ELEMENT_ID__:Ue}),_b=Ue({__NG_ENV_ID__:Ue});function su(n){return typeof n=="string"?n:n==null?"":String(n)}function wb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():su(n)}var Tb=Ue({ngErrorCode:Ue}),wx=Ue({ngErrorMessage:Ue}),Tx=Ue({ngTokenPath:Ue});function ry(n,e){return Db("",-200,e)}function uh(n,e){throw new W(-201,!1)}function Db(n,e,t){let r=new W(e,n);return r[Tb]=e,r[wx]=n,t&&(r[Tx]=t),r}function Dx(n){return n[Tb]}var Vm;function bb(){return Vm}function Qt(n){let e=Vm;return Vm=n,e}function iy(n,e,t){let r=ou(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;uh(n,"Injector")}var bx={},Ro=bx,jm="__NG_DI_FLAG__",Um=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Mo(t)||0;try{return this.injector.get(e,r&8?null:Ro,r)}catch(i){if(Bs(i))return i;throw i}}};function Cx(n,e=0){let t=vd();if(t===void 0)throw new W(-203,!1);if(t===null)return iy(n,void 0,e);{let r=Sx(e),i=t.retrieve(n,r);if(Bs(i)){if(r.optional)return null;throw i}return i}}function de(n,e=0){return(bb()||Cx)(kt(n),e)}function x(n,e){return de(n,Mo(e))}function Mo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Sx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Bm(n){let e=[];for(let t=0;t<n.length;t++){let r=kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Ax(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(de(i,o))}else e.push(de(r))}return e}function Cb(n,e){return n[jm]=e,n.prototype[jm]=e,n}function Ax(n){return n[jm]}function Ni(n,e){let t=n.hasOwnProperty(nu);return t?n[nu]:null}function lh(n,e){n.forEach(t=>Array.isArray(t)?lh(t,e):e(t))}function oy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function au(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Sb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Ab(n,e,t){let r=aa(n,e);return r>=0?n[r|1]=t:(r=~r,Sb(n,r,e,t)),r}function dh(n,e){let t=aa(n,e);if(t>=0)return n[t|1]}function aa(n,e){return Rx(n,e,1)}function Rx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Pi={},En=[],ki=new J(""),sy=new J("",-1),ay=new J(""),ru=class{get(e,t=Ro){if(t===Ro){let i=Db("",-201);throw i.name="\u0275NotFound",i}return t}};function cy(n){return n[ny]||null}function Oi(n){return n[Xm]||null}function uy(n){return n[ey]||null}function Rb(n){return n[ty]||null}function pr(n){return{\u0275providers:n}}function Nb(...n){return{\u0275providers:ly(!0,n),\u0275fromNgModule:!0}}function ly(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return lh(e,s=>{let a=s;oh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mb(i,o),t}function Mb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];dy(i,o=>{e(o,r)})}}function oh(n,e,t,r){if(n=kt(n),!n)return!1;let i=null,o=Lm(n),s=!o&&Oi(n);if(!o&&!s){let u=n.ngModule;if(o=Lm(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)oh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{lh(o.imports,h=>{oh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Mb(l,e)}if(!a){let l=Ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:En},i),e({provide:ay,useValue:i,multi:!0},i),e({provide:ki,useValue:()=>de(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;dy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function dy(n,e){for(let t of n)Jm(t)&&(t=t.\u0275providers),Array.isArray(t)?dy(t,e):e(t)}var Nx=Ue({provide:String,useValue:Ue});function Pb(n){return n!==null&&typeof n=="object"&&Nx in n}function Mx(n){return!!(n&&n.useExisting)}function Px(n){return!!(n&&n.useFactory)}function Po(n){return typeof n=="function"}function kb(n){return!!n.useClass}var cu=new J(""),rh={},Eb={},Fm;function uu(){return Fm===void 0&&(Fm=new ru),Fm}var lt=class{},ko=class extends lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Hm(e,s=>this.processProvider(s)),this.records.set(sy,sa(void 0,this)),i.has("environment")&&this.records.set(lt,sa(void 0,this));let o=this.records.get(cu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ay,En,{self:!0}))}retrieve(e,t){let r=Mo(t)||0;try{return this.get(e,Ro,r)}catch(i){if(Bs(i))return i;throw i}}destroy(){tu(this),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return tu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){tu(this);let t=hr(this),r=Qt(void 0),i;try{return e()}finally{hr(t),Qt(r)}}get(e,t=Ro,r){if(tu(this),e.hasOwnProperty(_b))return e[_b](this);let i=Mo(r),o,s=hr(this),a=Qt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Lx(e)&&ou(e);h&&this.injectableDefInScope(h)?l=sa($m(e),rh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?uu():this.parent;return t=i&8&&t===Ro?null:t,u.get(e,t)}catch(u){let l=Dx(u);throw l===-200||l===-201?new W(l,null):u}finally{Qt(a),hr(s)}}resolveInjectorInitializers(){let e=Ce(null),t=hr(this),r=Qt(void 0),i;try{let o=this.get(ki,En,{self:!0});for(let s of o)s()}finally{hr(t),Qt(r),Ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Kr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kt(e);let t=Po(e)?e:kt(e&&e.provide),r=Ox(e);if(!Po(e)&&e.multi===!0){let i=this.records.get(t);i||(i=sa(void 0,rh,!0),i.factory=()=>Bm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ce(null);try{if(t.value===Eb)throw ry(Kr(e));return t.value===rh&&(t.value=Eb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Fx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function $m(n){let e=ou(n),t=e!==null?e.factory:Ni(n);if(t!==null)return t;if(n instanceof J)throw new W(204,!1);if(n instanceof Function)return kx(n);throw new W(204,!1)}function kx(n){if(n.length>0)throw new W(204,!1);let t=Ix(n);return t!==null?()=>t.factory(n):()=>new n}function Ox(n){if(Pb(n))return sa(void 0,n.useValue);{let e=hy(n);return sa(e,rh)}}function hy(n,e,t){let r;if(Po(n)){let i=kt(n);return Ni(i)||$m(i)}else if(Pb(n))r=()=>kt(n.useValue);else if(Px(n))r=()=>n.useFactory(...Bm(n.deps||[]));else if(Mx(n))r=(i,o)=>de(kt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=kt(n&&(n.useClass||n.provide));if(xx(n))r=()=>new i(...Bm(n.deps));else return Ni(i)||$m(i)}return r}function tu(n){if(n.destroyed)throw new W(205,!1)}function sa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function xx(n){return!!n.deps}function Fx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Lx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Hm(n,e){for(let t of n)Array.isArray(t)?Hm(t,e):t&&Jm(t)?Hm(t.\u0275providers,e):e(t)}function wt(n,e){let t;n instanceof ko?(tu(n),t=n):t=new Um(n);let r,i=hr(t),o=Qt(void 0);try{return e()}finally{hr(i),Qt(o)}}function Ob(){return bb()!==void 0||vd()!=null}var Jn=0,Te=1,ge=2,Ot=3,xn=4,Fn=5,lu=6,ca=7,Bt=8,ua=9,gr=10,it=11,la=12,fy=13,xo=14,Ln=15,Fo=16,Lo=17,Vo=18,du=19,py=20,Wr=21,hh=22,hu=23,In=24,jo=25,Zt=26,$t=27,xb=1;var xi=7,fu=8,pu=9,ln=10;function mr(n){return Array.isArray(n)&&typeof n[xb]=="object"}function Xn(n){return Array.isArray(n)&&n[xb]===!0}function gy(n){return(n.flags&4)!==0}function Fi(n){return n.componentOffset>-1}function gu(n){return(n.flags&1)===1}function yr(n){return!!n.template}function da(n){return(n[ge]&512)!==0}function Uo(n){return(n[ge]&256)===256}var Fb="svg",Lb="math";function Vn(n){for(;Array.isArray(n);)n=n[Jn];return n}function my(n,e){return Vn(e[n])}function er(n,e){return Vn(e[n.index])}function fh(n,e){return n.data[e]}function yy(n,e){return n[e]}function vy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function jn(n,e){let t=e[n];return mr(t)?t:t[Jn]}function ph(n){return(n[ge]&128)===128}function Vb(n){return Xn(n[Ot])}function mu(n,e){return e==null?null:n[e]}function _y(n){n[Lo]=0}function Ey(n){n[ge]&1024||(n[ge]|=1024,ph(n)&&ha(n))}function jb(n,e){for(;n>0;)e=e[xo],n--;return e}function yu(n){return!!(n[ge]&9216||n[In]?.dirty)}function gh(n){n[gr].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),yu(n)&&ha(n)}function ha(n){n[gr].changeDetectionScheduler?.notify(0);let e=Mi(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!ph(e)));)e=Mi(e)}function Iy(n,e){if(Uo(n))throw new W(911,!1);n[Wr]===null&&(n[Wr]=[]),n[Wr].push(e)}function Ub(n,e){if(n[Wr]===null)return;let t=n[Wr].indexOf(e);t!==-1&&n[Wr].splice(t,1)}function Mi(n){let e=n[Ot];return Xn(e)?e[Ot]:e}function Bb(n){return n[ca]??=[]}function $b(n){return n.cleanup??=[]}var Re={lFrame:sC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qm=!1;function Hb(){return Re.lFrame.elementDepthCount}function qb(){Re.lFrame.elementDepthCount++}function zb(){Re.lFrame.elementDepthCount--}function wy(){return Re.bindingsEnabled}function Gb(){return Re.skipHydrationRootTNode!==null}function Wb(n){return Re.skipHydrationRootTNode===n}function Kb(){Re.skipHydrationRootTNode=null}function He(){return Re.lFrame.lView}function dn(){return Re.lFrame.tView}function wn(n){return Re.lFrame.contextLView=n,n[Bt]}function Tn(n){return Re.lFrame.contextLView=null,n}function Ht(){let n=Ty();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ty(){return Re.lFrame.currentTNode}function Qb(){let n=Re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function fa(n,e){let t=Re.lFrame;t.currentTNode=n,t.isParent=e}function Dy(){return Re.lFrame.isParent}function Zb(){Re.lFrame.isParent=!1}function Yb(){return Re.lFrame.contextLView}function by(){return qm}function Cy(n){let e=qm;return qm=n,e}function Jb(){let n=Re.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Xb(n){return Re.lFrame.bindingIndex=n}function vu(){return Re.lFrame.bindingIndex++}function eC(n){let e=Re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function tC(){return Re.lFrame.inI18n}function nC(n,e){let t=Re.lFrame;t.bindingIndex=t.bindingRootIndex=n,mh(e)}function rC(){return Re.lFrame.currentDirectiveIndex}function mh(n){Re.lFrame.currentDirectiveIndex=n}function iC(n){let e=Re.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Sy(n){Re.lFrame.currentQueryIndex=n}function Vx(n){let e=n[Te];return e.type===2?e.declTNode:e.type===1?n[Fn]:null}function Ay(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Vx(o),i===null||(o=o[xo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Re.lFrame=oC();return r.currentTNode=e,r.lView=n,!0}function yh(n){let e=oC(),t=n[Te];Re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function oC(){let n=Re.lFrame,e=n===null?null:n.child;return e===null?sC(n):e}function sC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function aC(){let n=Re.lFrame;return Re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ry=aC;function vh(){let n=aC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cC(n){return(Re.lFrame.contextLView=jb(n,Re.lFrame.contextLView))[Bt]}function Bo(){return Re.lFrame.selectedIndex}function Li(n){Re.lFrame.selectedIndex=n}function _h(){let n=Re.lFrame;return fh(n.tView,n.selectedIndex)}function uC(){return Re.lFrame.currentNamespace}var lC=!0;function Eh(){return lC}function Ih(n){lC=n}function zm(n,e=null,t=null,r){let i=Ny(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ny(n,e=null,t=null,r,i=new Set){let o=[t||En,Nb(n)];return r=r||(typeof n=="object"?void 0:Kr(n)),new ko(o,e||uu(),r||null,i)}var dt=class n{static THROW_IF_NOT_FOUND=Ro;static NULL=new ru;static create(e,t){if(Array.isArray(e))return zm({name:""},t,e,"");{let r=e.name??"";return zm({name:r},e.parent,e.providers,r)}}static \u0275prov=ne({token:n,providedIn:"any",factory:()=>de(sy)});static __NG_ELEMENT_ID__=-1},xt=new J(""),vr=(()=>{class n{static __NG_ELEMENT_ID__=jx;static __NG_ENV_ID__=t=>t}return n})(),Gm=class extends vr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Uo(this._lView)}onDestroy(e){let t=this._lView;return Iy(t,e),()=>Ub(t,e)}};function jx(){return new Gm(He())}var Yn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Yt=new J("",{providedIn:"root",factory:()=>{let n=x(lt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Yn),e.handleError(t))}}}),dC={provide:ki,useValue:()=>void x(Yn),multi:!0};function My(n){return typeof n=="function"&&n[Ut]!==void 0}function hn(n,e){let[t,r,i]=vm(n,e?.equal),o=t,s=o[Ut];return o.set=r,o.update=i,o.asReadonly=hC.bind(o),o}function hC(){let n=this[Ut];if(n.readonlyFn===void 0){let e=()=>this();e[Ut]=n,n.readonlyFn=e}return n.readonlyFn}function Py(n){return My(n)&&typeof n.set=="function"}var Qr=class{},wh=new J("",{providedIn:"root",factory:()=>!1});var ky=new J(""),Oy=new J("");var Th=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Ux}return n})();function Ux(){return new Th(He(),Ht())}var _r=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Pt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new we(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})(),pa=(()=>{class n{internalPendingTasks=x(_r);scheduler=x(Qr);errorHandler=x(Yt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})();function _u(...n){}var xy=(()=>{class n{static \u0275prov=ne({token:n,providedIn:"root",factory:()=>new Wm})}return n})(),Wm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ea(n){return{toString:n}.toString()}var Dh="__parameters__";function Kx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Qx(n,e,t){return Ea(()=>{let r=Kx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Dh)?u[Dh]:Object.defineProperty(u,Dh,{value:[]})[Dh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Dn=Cb(Qx("Optional"),8);function Zx(n){return typeof n=="function"}var Nh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function HC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Yr=(()=>{let n=()=>qC;return n.ngInherit=!0,n})();function qC(n){return n.type.prototype.ngOnChanges&&(n.setInput=Jx),Yx}function Yx(){let n=GC(this),e=n?.current;if(e){let t=n.previous;if(t===Pi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Jx(n,e,t,r,i){let o=this.declaredInputs[r],s=GC(n)||Xx(n,{previous:Pi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Nh(l&&l.currentValue,t,u===Pi),HC(n,e,i,t)}var zC="__ngSimpleChanges__";function GC(n){return n[zC]||null}function Xx(n,e){return n[zC]=e}var fC=[];var qe=function(n,e=null,t){for(let r=0;r<fC.length;r++){let i=fC[r];i(n,e,t)}};function e1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function WC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Sh(n,e,t){KC(n,e,3,t)}function Ah(n,e,t,r){(n[ge]&3)===t&&KC(n,e,t,r)}function Fy(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function KC(n,e,t,r){let i=r!==void 0?n[Lo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Lo]+=65536),(a<o||o==-1)&&(t1(n,t,e,u),n[Lo]=(n[Lo]&4294901760)+u+2),u++}function pC(n,e){qe(4,n,e);let t=Ce(null);try{e.call(n)}finally{Ce(t),qe(5,n,e)}}function t1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[Lo]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,pC(a,o)):pC(a,o)}var ma=-1,Ho=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function n1(n){return(n.flags&8)!==0}function r1(n){return(n.flags&16)!==0}function i1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];o1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function QC(n){return n===3||n===4||n===6}function o1(n){return n.charCodeAt(0)===64}function wu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?gC(n,t,i,null,e[++r]):gC(n,t,i,null,null))}}return n}function gC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function ZC(n){return n!==ma}function Mh(n){return n&32767}function s1(n){return n>>16}function Ph(n,e){let t=s1(n),r=e;for(;t>0;)r=r[xo],t--;return r}var Gy=!0;function kh(n){let e=Gy;return Gy=n,e}var a1=256,YC=a1-1,JC=5,c1=0,Er={};function u1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oo)&&(r=t[Oo]),r==null&&(r=t[Oo]=c1++);let i=r&YC,o=1<<i;e.data[n+(i>>JC)]|=o}function Oh(n,e){let t=XC(n,e);if(t!==-1)return t;let r=e[Te];r.firstCreatePass&&(n.injectorIndex=e.length,Ly(r.data,n),Ly(e,null),Ly(r.blueprint,null));let i=dv(n,e),o=n.injectorIndex;if(ZC(i)){let s=Mh(i),a=Ph(i,e),u=a[Te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ly(n,e){n.push(0,0,0,0,0,0,0,0,e)}function XC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function dv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=i0(i),r===null)return ma;if(t++,i=i[xo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ma}function Wy(n,e,t){u1(n,e,t)}function l1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(QC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function e0(n,e,t){if(t&8||n!==void 0)return n;uh(e,"NodeInjector")}function t0(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ua],o=Qt(void 0);try{return i?i.get(e,r,t&8):iy(e,r,t&8)}finally{Qt(o)}}return e0(r,e,t)}function n0(n,e,t,r=0,i){if(n!==null){if(e[ge]&2048&&!(r&2)){let s=g1(n,e,t,r,Er);if(s!==Er)return s}let o=r0(n,e,t,r,Er);if(o!==Er)return o}return t0(e,t,r,i)}function r0(n,e,t,r,i){let o=f1(t);if(typeof o=="function"){if(!Ay(e,n,r))return r&1?e0(i,t,r):t0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))uh(t);else return s}finally{Ry()}}else if(typeof o=="number"){let s=null,a=XC(n,e),u=ma,l=r&1?e[Ln][Fn]:null;for((a===-1||r&4)&&(u=a===-1?dv(n,e):e[a+8],u===ma||!yC(r,!1)?a=-1:(s=e[Te],a=Mh(u),e=Ph(u,e)));a!==-1;){let h=e[Te];if(mC(o,a,h.data)){let p=d1(a,e,t,s,r,l);if(p!==Er)return p}u=e[a+8],u!==ma&&yC(r,e[Te].data[a+8]===l)&&mC(o,a,e)?(s=h,a=Mh(u),e=Ph(u,e)):a=-1}}return i}function d1(n,e,t,r,i,o){let s=e[Te],a=s.data[n+8],u=r==null?Fi(a)&&Gy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=h1(a,s,t,u,l);return h!==null?xh(e,s,h,a,i):Er}function h1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let C=s[v];if(v<u&&t===C||v>=u&&C.type===t)return v}if(i){let v=s[u];if(v&&yr(v)&&v.type===t)return u}return null}function xh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ho){let a=o;if(a.resolving){let v=wb(s[t]);throw ry(v)}let u=kh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Qt(a.injectImpl):null,g=Ay(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&e1(t,s[t],e)}finally{p!==null&&Qt(p),kh(u),a.resolving=!1,Ry()}}return o}function f1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oo)?n[Oo]:void 0;return typeof e=="number"?e>=0?e&YC:p1:e}function mC(n,e,t){let r=1<<n;return!!(t[e+(n>>JC)]&r)}function yC(n,e){return!(n&2)&&!(n&1&&e)}var $o=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return n0(this._tNode,this._lView,e,Mo(r),t)}};function p1(){return new $o(Ht(),He())}function Un(n){return Ea(()=>{let e=n.prototype.constructor,t=e[nu]||Ky(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[nu]||Ky(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ky(n){return Zm(n)?()=>{let e=Ky(kt(n));return e&&e()}:Ni(n)}function g1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!da(s);){let a=r0(o,s,t,r|2,Er);if(a!==Er)return a;let u=o.parent;if(!u){let l=s[py];if(l){let h=l.get(t,Er,r);if(h!==Er)return h}u=i0(s),s=s[xo]}o=u}return i}function i0(n){let e=n[Te],t=e.type;return t===2?e.declTNode:t===1?n[Fn]:null}function Cu(n){return l1(Ht(),n)}function m1(){return Wh(Ht(),He())}function Wh(n,e){return new wr(er(n,e))}var wr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=m1}return n})();function o0(n){return(n.flags&128)===128}var hv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(hv||{}),s0=new Map,y1=0;function v1(){return y1++}function _1(n){s0.set(n[du],n)}function Qy(n){s0.delete(n[du])}var vC="__ngContext__";function ya(n,e){mr(e)?(n[vC]=e[du],_1(e)):n[vC]=e}function a0(n){return u0(n[la])}function c0(n){return u0(n[xn])}function u0(n){for(;n!==null&&!Xn(n);)n=n[xn];return n}var Zy;function fv(n){Zy=n}function l0(){if(Zy!==void 0)return Zy;if(typeof document<"u")return document;throw new W(210,!1)}var Kh=new J("",{providedIn:"root",factory:()=>E1}),E1="ng",Qh=new J(""),ji=new J("",{providedIn:"platform",factory:()=>"unknown"});var Zh=new J("",{providedIn:"root",factory:()=>l0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var I1="h",w1="b";var d0=!1,h0=new J("",{providedIn:"root",factory:()=>d0});var T1=(n,e,t,r)=>{};function D1(n,e,t,r){T1(n,e,t,r)}function pv(n){return(n.flags&32)===32}var b1=()=>null;function f0(n,e,t=!1){return b1(n,e,t)}function p0(n,e){let t=n.contentQueries;if(t!==null){let r=Ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Sy(o),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function Yy(n,e,t){Sy(0);let r=Ce(null);try{e(n,t)}finally{Ce(r)}}function g0(n,e,t){if(gy(e)){let r=Ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Ce(r)}}}var Zr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Zr||{});var bh;function C1(){if(bh===void 0&&(bh=null,iu.trustedTypes))try{bh=iu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bh}function _C(n){return C1()?.createScriptURL(n)||n}var Fh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sh})`}};function Yh(n){return n instanceof Fh?n.changingThisBreaksApplicationSecurity:n}function gv(n,e){let t=m0(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${sh})`)}return t===e}function m0(n){return n instanceof Fh&&n.getTypeName()||null}var S1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function y0(n){return n=String(n),n.match(S1)?n:"unsafe:"+n}var Jh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Jh||{});function v0(n){let e=E0();return e?e.sanitize(Jh.URL,n)||"":gv(n,"URL")?Yh(n):y0(su(n))}function _0(n){let e=E0();if(e)return _C(e.sanitize(Jh.RESOURCE_URL,n)||"");if(gv(n,"ResourceURL"))return _C(Yh(n));throw new W(904,!1)}function A1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?_0:v0}function mv(n,e,t){return A1(e,t)(n)}function E0(){let n=He();return n&&n[gr].sanitizer}function I0(n){return n instanceof Function?n():n}function R1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var w0="ng-template";function N1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&R1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(yv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function yv(n){return n.type===4&&n.value!==w0}function M1(n,e,t){let r=n.type===4&&!t?w0:n.value;return e===r}function P1(n,e,t){let r=4,i=n.attrs,o=i!==null?x1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tr(r)&&!tr(u))return!1;if(s&&tr(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!M1(n,u,t)||u===""&&e.length===1){if(tr(r))return!1;s=!0}}else if(r&8){if(i===null||!N1(n,i,u,t)){if(tr(r))return!1;s=!0}}else{let l=e[++a],h=k1(u,i,yv(n),t);if(h===-1){if(tr(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tr(r))return!1;s=!0}}}}return tr(r)||s}function tr(n){return(n&1)===0}function k1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return F1(e,n)}function O1(n,e,t=!1){for(let r=0;r<e.length;r++)if(P1(n,e[r],t))return!0;return!1}function x1(n){for(let e=0;e<n.length;e++){let t=n[e];if(QC(t))return e}return n.length}function F1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function EC(n,e){return n?":not("+e.trim()+")":e}function L1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tr(s)&&(e+=EC(o,i),i=""),r=s,o=o||!tr(r);t++}return i!==""&&(e+=EC(o,i)),e}function V1(n){return n.map(L1).join(",")}function j1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!tr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Jr={};function U1(n,e){return n.createText(e)}function B1(n,e,t){n.setValue(e,t)}function T0(n,e,t){return n.createElement(e,t)}function Lh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function D0(n,e,t){n.appendChild(e,t)}function IC(n,e,t,r,i){r!==null?Lh(n,e,t,r,i):D0(n,e,t)}function $1(n,e,t,r){n.removeChild(null,e,t,r)}function H1(n,e,t){n.setAttribute(e,"style",t)}function q1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function b0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&i1(n,e,r),i!==null&&q1(n,e,i),o!==null&&H1(n,e,o)}function vv(n,e,t,r,i,o,s,a,u,l,h){let p=$t+r,g=p+i,v=z1(p,g),C=typeof l=="function"?l():l;return v[Te]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function z1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jr);return t}function G1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=vv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function _v(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Jn]=i,p[ge]=r|4|128|8|64|1024,(l!==null||n&&n[ge]&2048)&&(p[ge]|=2048),_y(p),p[Ot]=p[xo]=n,p[Bt]=t,p[gr]=s||n&&n[gr],p[it]=a||n&&n[it],p[ua]=u||n&&n[ua]||null,p[Fn]=o,p[du]=v1(),p[lu]=h,p[py]=l,p[Ln]=e.type==2?n[Ln]:p,p}function W1(n,e,t){let r=er(e,n),i=G1(t),o=n[gr].rendererFactory,s=Ev(n,_v(n,i,null,C0(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function C0(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function S0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ev(n,e){return n[la]?n[fy][xn]=e:n[la]=e,n[fy]=e,e}function ze(n=1){A0(dn(),He(),Bo()+n,!1)}function A0(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Sh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ah(e,o,0,t)}Li(t)}var Xh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Xh||{});function Jy(n,e,t,r){let i=Ce(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Xh.SignalBased)!==0&&(u=e[o][Ut]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):HC(e,u,o,r)}finally{Ce(i)}}var Ir=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ir||{}),K1;function Iv(n,e){return K1(n,e)}var ef=new Set;function ga(n,e,t,r,i,o){if(r!=null){let s,a=!1;Xn(r)?s=r:mr(r)&&(a=!0,r=r[Jn]);let u=Vn(r);n===0&&t!==null?i==null?D0(e,t,u):Lh(e,t,u,i||null,!0):n===1&&t!==null?Lh(e,t,u,i||null,!0):n===2?wC(o,l=>{$1(e,u,a,l)}):n===3&&wC(o,()=>{e.destroyNode(u)}),s!=null&&aF(e,n,s,t,i)}}function Q1(n,e){R0(n,e),e[Jn]=null,e[Fn]=null}function Z1(n,e,t,r,i,o){r[Jn]=i,r[Fn]=e,tf(n,r,t,1,i,o)}function R0(n,e){e[gr].changeDetectionScheduler?.notify(9),tf(n,e,e[it],2,null,null)}function Y1(n){let e=n[la];if(!e)return Vy(n[Te],n);for(;e;){let t=null;if(mr(e))t=e[la];else{let r=e[ln];r&&(t=r)}if(!t){for(;e&&!e[xn]&&e!==n;)mr(e)&&Vy(e[Te],e),e=e[Ot];e===null&&(e=n),mr(e)&&Vy(e[Te],e),t=e&&e[xn]}e=t}}function wv(n,e){let t=n[pu],r=t.indexOf(e);t.splice(r,1)}function N0(n,e){if(Uo(e))return;let t=e[it];t.destroyNode&&tf(n,e,t,3,null,null),Y1(e)}function Vy(n,e){if(Uo(e))return;let t=Ce(null);try{e[ge]&=-129,e[ge]|=256,e[In]&&Zc(e[In]),eF(n,e),X1(n,e),e[Te].type===1&&e[it].destroy();let r=e[Fo];if(r!==null&&Xn(e[Ot])){r!==e[Ot]&&wv(r,e);let i=e[Vo];i!==null&&i.detachView(n)}Qy(e)}finally{Ce(t)}}function wC(n,e){if(n&&n[Zt]&&n[Zt].leave)if(n[Zt].skipLeaveAnimations)n[Zt].skipLeaveAnimations=!1;else{let t=n[Zt].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[Zt].running=Promise.allSettled(r),n[Zt].leave=void 0}J1(n,e)}function J1(n,e){if(n&&n[Zt]&&n[Zt].running){n[Zt].running.then(()=>{n[Zt]&&n[Zt].running&&(n[Zt].running=void 0),ef.delete(n),e(!0)});return}e(!1)}function X1(n,e){let t=n.cleanup,r=e[ca];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ca]=null);let i=e[Wr];if(i!==null){e[Wr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hu];if(o!==null){e[hu]=null;for(let s of o)s.destroy()}}function eF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ho)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];qe(4,a,u);try{u.call(a)}finally{qe(5,a,u)}}else{qe(4,i,o);try{o.call(i)}finally{qe(5,i,o)}}}}}function tF(n,e,t){return nF(n,e.parent,t)}function nF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Jn];if(Fi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Zr.None||i===Zr.Emulated)return null}return er(r,t)}function rF(n,e,t){return oF(n,e,t)}function iF(n,e,t){return n.type&40?er(n,t):null}var oF=iF,TC;function Tv(n,e,t,r){let i=tF(n,r,e),o=e[it],s=r.parent||e[Fn],a=rF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)IC(o,i,t[u],a,!1);else IC(o,i,t,a,!1);TC!==void 0&&TC(o,r,e,t,i)}function Eu(n,e){if(e!==null){let t=e.type;if(t&3)return er(e,n);if(t&4)return Xy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Eu(n,r);{let i=n[e.index];return Xn(i)?Xy(-1,i):Vn(i)}}else{if(t&128)return Eu(n,e.next);if(t&32)return Iv(e,n)()||Vn(n[e.index]);{let r=M0(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mi(n[Ln]);return Eu(i,r)}else return Eu(n,e.next)}}}return null}function M0(n,e){if(e!==null){let r=n[Ln][Fn],i=e.projection;return r.projection[i]}return null}function Xy(n,e){let t=ln+n+1;if(t<e.length){let r=e[t],i=r[Te].firstChild;if(i!==null)return Eu(r,i)}return e[xi]}function Dv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ya(Vn(a),r),t.flags|=2),!pv(t))if(u&8)Dv(n,e,t.child,r,i,o,!1),ga(e,n,i,a,o,r);else if(u&32){let l=Iv(t,r),h;for(;h=l();)ga(e,n,i,h,o,r);ga(e,n,i,a,o,r)}else u&16?sF(n,e,r,t,i,o):ga(e,n,i,a,o,r);t=s?t.projectionNext:t.next}}function tf(n,e,t,r,i,o){Dv(t,r,n.firstChild,e,i,o,!1)}function sF(n,e,t,r,i,o){let s=t[Ln],u=s[Fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ga(e,n,i,h,o,t)}else{let l=u,h=s[Ot];o0(r)&&(l.flags|=128),Dv(n,e,l,h,i,o,!0)}}function aF(n,e,t,r,i){let o=t[xi],s=Vn(t);o!==s&&ga(e,n,r,o,i);for(let a=ln;a<t.length;a++){let u=t[a];tf(u[Te],u,n,e,r,o)}}function cF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),n.setStyle(t,r,i,o))}}function P0(n,e,t,r,i){let o=Bo(),s=r&2;try{Li(-1),s&&e.length>$t&&A0(n,e,$t,!1),qe(s?2:0,i,t),t(r,i)}finally{Li(o),qe(s?3:1,i,t)}}function bv(n,e,t){gF(n,e,t),(t.flags&64)===64&&mF(n,e,t)}function k0(n,e,t=er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function uF(n,e,t,r){let o=r.get(h0,d0)||t===Zr.ShadowDom,s=n.selectRootElement(e,o);return lF(s),s}function lF(n){dF(n)}var dF=()=>null;function hF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function O0(n,e,t,r,i,o){let s=e[Te];if(Cv(n,s,e,t,r)){Fi(n)&&pF(e,n.index);return}n.type&3&&(t=hF(t)),fF(n,e,t,r,i,o)}function fF(n,e,t,r,i,o){if(n.type&3){let s=er(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function pF(n,e){let t=jn(e,n);t[ge]&16||(t[ge]|=64)}function gF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Fi(t)&&W1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Oh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=xh(e,n,s,t);if(ya(u,e),o!==null&&EF(e,s-r,u,a,t,o),yr(a)){let l=jn(t.index,e);l[Bt]=xh(e,n,s,t)}}}function mF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=rC();try{Li(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];mh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&yF(u,l)}}finally{Li(-1),mh(s)}}function yF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function x0(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];O1(e,o.selectors,!1)&&(r??=[],yr(o)?r.unshift(o):r.push(o))}return r}function vF(n,e,t,r,i,o){let s=er(n,e);_F(e[it],s,o,n.value,t,r,i)}function _F(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?su(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function EF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Jy(r,t,u,l)}}function IF(n,e,t,r,i){let o=$t+t,s=e[Te],a=i(s,e,n,r,t);e[o]=a,fa(n,!0);let u=n.type===2;return u?(b0(e[it],a,n),(Hb()===0||gu(n))&&ya(a,e),qb()):ya(a,e),Eh()&&(!u||!pv(n))&&Tv(s,e,a,n),n}function wF(n){let e=n;return Dy()?Zb():(e=e.parent,fa(e,!1)),e}function TF(n,e){let t=n[ua];if(!t)return;let r;try{r=t.get(Yt,null)}catch{r=null}r?.(e)}function Cv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Jy(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Jy(h,l,r,i),a=!0}return a}function DF(n,e){let t=jn(e,n),r=t[Te];bF(r,t);let i=t[Jn];i!==null&&t[lu]===null&&(t[lu]=f0(i,t[ua])),qe(18),Sv(r,t,t[Bt]),qe(19,t[Bt])}function bF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Sv(n,e,t){yh(e);try{let r=n.viewQuery;r!==null&&Yy(1,r,t);let i=n.template;i!==null&&P0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Vo]?.finishViewCreation(n),n.staticContentQueries&&p0(n,e),n.staticViewQueries&&Yy(2,n.viewQuery,t);let o=n.components;o!==null&&CF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,vh()}}function CF(n,e){for(let t=0;t<e.length;t++)DF(n,e[t])}function SF(n,e,t,r){let i=Ce(null);try{let o=e.tView,a=n[ge]&4096?4096:16,u=_v(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Fo]=l;let h=n[Vo];return h!==null&&(u[Vo]=h.createEmbeddedView(o)),Sv(o,u,t),u}finally{Ce(i)}}function DC(n,e){return!e||e.firstChild===null||o0(n)}function Tu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Vn(o)),Xn(o)&&F0(o,r);let s=t.type;if(s&8)Tu(n,e,t.child,r);else if(s&32){let a=Iv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=M0(e,t);if(Array.isArray(a))r.push(...a);else{let u=Mi(e[Ln]);Tu(u[Te],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function F0(n,e){for(let t=ln;t<n.length;t++){let r=n[t],i=r[Te].firstChild;i!==null&&Tu(r[Te],r,i,e)}n[xi]!==n[Jn]&&e.push(n[xi])}function L0(n){if(n[jo]!==null){for(let e of n[jo])e.impl.addSequence(e);n[jo].length=0}}var V0=[];function AF(n){return n[In]??RF(n)}function RF(n){let e=V0.pop()??Object.create(MF);return e.lView=n,e}function NF(n){n.lView[In]!==n&&(n.lView=null,V0.push(n))}var MF=be(B({},$s),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ha(n.lView)},consumerOnSignalRead(){this.lView[In]=this}});function PF(n){let e=n[In]??Object.create(kF);return e.lView=n,e}var kF=be(B({},$s),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Mi(n.lView);for(;e&&!j0(e[Te]);)e=Mi(e);e&&Ey(e)},consumerOnSignalRead(){this.lView[In]=this}});function j0(n){return n.type!==2}function U0(n){if(n[hu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var OF=100;function B0(n,e=0){let r=n[gr].rendererFactory,i=!1;i||r.begin?.();try{xF(n,e)}finally{i||r.end?.()}}function xF(n,e){let t=by();try{Cy(!0),ev(n,e);let r=0;for(;yu(n);){if(r===OF)throw new W(103,!1);r++,ev(n,1)}}finally{Cy(t)}}function FF(n,e,t,r){if(Uo(e))return;let i=e[ge],o=!1,s=!1;yh(e);let a=!0,u=null,l=null;o||(j0(n)?(l=AF(e),u=qs(l)):Td()===null?(a=!1,l=PF(e),u=qs(l)):e[In]&&(Zc(e[In]),e[In]=null));try{_y(e),Xb(n.bindingStartIndex),t!==null&&P0(n,e,t,2,r),LF(e);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&Sh(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Ah(e,v,0,null),Fy(e,0)}if(s||VF(e),U0(e),$0(e,0),n.contentQueries!==null&&p0(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&Sh(e,v)}else{let v=n.contentHooks;v!==null&&Ah(e,v,1),Fy(e,1)}UF(n,e);let p=n.components;p!==null&&q0(e,p,0);let g=n.viewQuery;if(g!==null&&Yy(2,g,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&Sh(e,v)}else{let v=n.viewHooks;v!==null&&Ah(e,v,2),Fy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[hh]){for(let v of e[hh])v();e[hh]=null}o||(L0(e),e[ge]&=-73)}catch(h){throw o||ha(e),h}finally{l!==null&&(Kc(l,u),a&&NF(l)),vh()}}function LF(n){let e=n[Zt];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function $0(n,e){for(let t=a0(n);t!==null;t=c0(t))for(let r=ln;r<t.length;r++){let i=t[r];H0(i,e)}}function VF(n){for(let e=a0(n);e!==null;e=c0(e)){if(!(e[ge]&2))continue;let t=e[pu];for(let r=0;r<t.length;r++){let i=t[r];Ey(i)}}}function jF(n,e,t){qe(18);let r=jn(e,n);H0(r,t),qe(19,r[Bt])}function H0(n,e){ph(n)&&ev(n,e)}function ev(n,e){let r=n[Te],i=n[ge],o=n[In],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qc(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)FF(r,n,r.template,n[Bt]);else if(i&8192){let a=Ce(null);try{U0(n),$0(n,1);let u=r.components;u!==null&&q0(n,u,1),L0(n)}finally{Ce(a)}}}function q0(n,e,t){for(let r=0;r<e.length;r++)jF(n,e[r],t)}function UF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Li(~i);else{let o=i,s=t[++r],a=t[++r];nC(s,o);let u=e[o];qe(24,u),a(2,u),qe(25,u)}}}finally{Li(-1)}}function Av(n,e){let t=by()?64:1088;for(n[gr].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=Mi(n);if(da(n)&&!r)return n;n=r}return null}function z0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function BF(n,e,t,r=!0){let i=e[Te];if($F(i,e,n,t),r){let s=Xy(t,n),a=e[it],u=a.parentNode(n[xi]);u!==null&&Z1(i,n[Fn],a,e,u,s)}let o=e[lu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function tv(n,e){if(n.length<=ln)return;let t=ln+e,r=n[t];if(r){let i=r[Fo];i!==null&&i!==n&&wv(i,r),e>0&&(n[t-1][xn]=r[xn]);let o=au(n,ln+e);Q1(r[Te],r);let s=o[Vo];s!==null&&s.detachView(o[Te]),r[Ot]=null,r[xn]=null,r[ge]&=-129}return r}function $F(n,e,t,r){let i=ln+r,o=t.length;r>0&&(t[i-1][xn]=e),r<o-ln?(e[xn]=t[i],oy(t,ln+r,e)):(t.push(e),e[xn]=null),e[Ot]=t;let s=e[Fo];s!==null&&t!==s&&G0(s,e);let a=e[Vo];a!==null&&a.insertView(n),gh(e),e[ge]|=128}function G0(n,e){let t=n[pu],r=e[Ot];if(mr(r))n[ge]|=2;else{let i=r[Ot][Ln];e[Ln]!==i&&(n[ge]|=2)}t===null?n[pu]=[e]:t.push(e)}var Vi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Te];return Tu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return Uo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(Xn(e)){let t=e[fu],r=t?t.indexOf(this):-1;r>-1&&(tv(e,r),au(t,r))}this._attachedToViewContainer=!1}N0(this._lView[Te],this._lView)}onDestroy(e){Iy(this._lView,e)}markForCheck(){Av(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){gh(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,B0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=da(this._lView),t=this._lView[Fo];t!==null&&!e&&wv(t,this._lView),R0(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let t=da(this._lView),r=this._lView[Fo];r!==null&&!t&&G0(r,this._lView),gh(this._lView)}};var Su=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=HF;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=SF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Vi(o)}}return n})();function HF(){return W0(Ht(),He())}function W0(n,e){return n.type&4?new Su(e,n,Wh(n,e)):null}function Rv(n,e,t,r,i){let o=n.data[e];if(o===null)o=qF(n,e,t,r,i),tC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Qb();o.injectorIndex=s===null?-1:s.injectorIndex}return fa(o,!0),o}function qF(n,e,t,r,i){let o=Ty(),s=Dy(),a=s?o:o&&o.parent,u=n.data[e]=GF(n,a,t,e,r,i);return zF(n,u,o,s),u}function zF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function GF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Gb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var UK=new RegExp(`^(\\d+)*(${w1}|${I1})*(.*)`);var WF=()=>null;function bC(n,e){return WF(n,e)}var K0=class{},nf=class{},nv=class{resolveComponentFactory(e){throw new W(917,!1)}},Au=class{static NULL=new nv},qo=class{},Xr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>KF()}return n})();function KF(){let n=He(),e=Ht(),t=jn(e.index,n);return(mr(t)?t:n)[it]}var Q0=(()=>{class n{static \u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}return n})();var Rh={},rv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Rh,r);return i!==Rh||t===Rh?i:this.parentInjector.get(e,t,r)}};function CC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Qm(i,a);else if(o==2){let u=a,l=e[++s];r=Qm(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function X(n,e=0){let t=He();if(t===null)return de(n,e);let r=Ht();return n0(r,t,kt(n),e)}function Z0(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}YF(n,e,t,a,o,u,l)}o!==null&&r!==null&&QF(t,r,o)}function QF(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}function ZF(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function YF(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let v=r[g];!u&&yr(v)&&(u=!0,ZF(n,t,g)),Wy(Oh(t,e),n,v.type)}rL(t,n.data.length,a);for(let g=0;g<a;g++){let v=r[g];v.providersResolver&&v.providersResolver(v)}let l=!1,h=!1,p=S0(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let v=r[g];if(t.mergedAttrs=wu(t.mergedAttrs,v.hostAttrs),XF(n,t,e,p,v),nL(p,v,i),s!==null&&s.has(v)){let[P,M]=s.get(v);t.directiveToIndex.set(v.type,[p,P+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let C=v.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}JF(n,t,o)}function JF(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))SC(0,e,i,r),SC(1,e,i,r),RC(e,r,!1);else{let o=t.get(i);AC(0,e,o,r),AC(1,e,o,r),RC(e,r,!0)}}}function SC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Y0(e,o)}}function AC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Y0(e,s)}}function Y0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function RC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||yv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function XF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ni(i.type,!0)),s=new Ho(o,yr(i),X,null);n.blueprint[r]=s,t[r]=s,eL(n,e,r,S0(n,t,i.hostVars,Jr),i)}function eL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;tL(s)!=a&&s.push(a),s.push(t,r,o)}}function tL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function nL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;yr(e)&&(t[""]=n)}}function rL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function J0(n,e,t,r,i,o,s,a){let u=e[Te],l=u.consts,h=mu(l,s),p=Rv(u,n,t,r,h);return o&&Z0(u,e,p,mu(l,a),i),p.mergedAttrs=wu(p.mergedAttrs,p.attrs),p.attrs!==null&&CC(p,p.attrs,!1),p.mergedAttrs!==null&&CC(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function X0(n,e){WC(n,e),gy(e)&&n.queries.elementEnd(e)}function Nv(n){return tS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function eS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function tS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function iL(n,e,t){return n[e]=t}function Ia(n,e,t){if(t===Jr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function jy(n,e,t){return function r(i){let o=Fi(n)?jn(n.index,e):e;Av(o,5);let s=e[Bt],a=NC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=NC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function NC(n,e,t,r){let i=Ce(null);try{return qe(6,e,t),t(r)!==!1}catch(o){return TF(n,o),!1}finally{qe(7,e,t),Ce(i)}}function oL(n,e,t,r,i,o,s,a){let u=gu(n),l=!1,h=null;if(!r&&u&&(h=aL(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=er(n,t),g=r?r(p):p;D1(t,g,o,a);let v=i.listen(g,o,a);if(!sL(o)){let C=r?P=>r(Vn(P[n.index])):n.index;nS(C,e,t,o,a,v,!1)}}return l}function sL(n){return n.startsWith("animation")||n.startsWith("transition")}function aL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ca],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function nS(n,e,t,r,i,o,s){let a=e.firstCreatePass?$b(e):null,u=Bb(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function MC(n,e,t,r,i,o){let s=e[t],a=e[Te],l=a.data[t].outputs[r],p=s[l].subscribe(o);nS(n.index,a,e,i,o,p,!0)}var iv=Symbol("BINDING");var Vh=class extends Au{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Oi(e);return new va(t,this.ngModule)}};function cL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Xh.SignalBased)!==0};return i&&(o.transform=i),o})}function uL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function lL(n,e,t){let r=e instanceof lt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new rv(t,r):t}function dL(n){let e=n.get(qo,null);if(e===null)throw new W(407,!1);let t=n.get(Q0,null),r=n.get(Qr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function hL(n,e){let t=rS(n);return T0(e,t,t==="svg"?Fb:t==="math"?Lb:null)}function rS(n){return(n.selectors[0][0]||"div").toLowerCase()}var va=class extends nf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=cL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=V1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){qe(22);let a=Ce(null);try{let u=this.componentDef,l=fL(r,u,s,o),h=lL(u,i||this.ngModule,e),p=dL(h),g=p.rendererFactory.createRenderer(null,u),v=r?uF(g,r,u.encapsulation,h):hL(u,g),C=s?.some(PC)||o?.some(V=>typeof V!="function"&&V.bindings.some(PC)),P=_v(null,l,null,512|C0(u),null,null,p,g,h,null,f0(v,h,!0));P[$t]=v,yh(P);let M=null;try{let V=J0($t,P,2,"#host",()=>l.directiveRegistry,!0,0);b0(g,v,V),ya(v,P),bv(l,P,V),g0(l,V,P),X0(l,V),t!==void 0&&gL(V,this.ngContentSelectors,t),M=jn(V.index,P),P[Bt]=M[Bt],Sv(l,P,null)}catch(V){throw M!==null&&Qy(M),Qy(P),V}finally{qe(23),vh()}return new jh(this.componentType,P,!!C)}finally{Ce(a)}}};function fL(n,e,t,r){let i=n?["ng-version","20.3.3"]:j1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[iv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[iv].requiredVars;let v=h+1;g.create&&(g.targetIdx=v,(o??=[]).push(g)),g.update&&(g.targetIdx=v,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=uy(p);u.push(g)}return vv(0,null,pL(o,s),1,a,u,null,null,null,[i],null)}function pL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function PC(n){let e=n[iv].kind;return e==="input"||e==="twoWay"}var jh=class extends K0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=fh(t[Te],$t),this.location=Wh(this._tNode,t),this.instance=jn(this._tNode.index,t)[Bt],this.hostView=this.changeDetectorRef=new Vi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Cv(r,i[Te],i,e,t);this.previousInputValues.set(e,t);let s=jn(r.index,i);Av(s,1)}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wo=(()=>{class n{static __NG_ELEMENT_ID__=mL}return n})();function mL(){let n=Ht();return vL(n,He())}var yL=Wo,iS=class extends yL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wh(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){let e=dv(this._hostTNode,this._hostLView);if(ZC(e)){let t=Ph(e,this._hostLView),r=Mh(e),i=t[Te].data[r+8];return new $o(i,t)}else return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=bC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,DC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!Zx(e),l;if(u)l=t;else{let M=t||{};l=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let h=u?e:new va(Oi(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let V=(u?p:this.parentInjector).get(lt,null);V&&(o=V)}let g=Oi(h.componentType??{}),v=bC(this._lContainer,g?.id??null),C=v?.firstChild??null,P=h.create(p,i,C,o,s,a);return this.insertImpl(P.hostView,l,DC(this._hostTNode,v)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Vb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ot],l=new iS(u,u[Fn],u[Ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return BF(s,i,o,r),e.attachToViewContainerRef(),oy(Uy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=tv(this._lContainer,t);r&&(au(Uy(this._lContainer),t),N0(r[Te],r))}detach(e){let t=this._adjustIndex(e,-1),r=tv(this._lContainer,t);return r&&au(Uy(this._lContainer),t)!=null?new Vi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kC(n){return n[fu]}function Uy(n){return n[fu]||(n[fu]=[])}function vL(n,e){let t,r=e[n.index];return Xn(r)?t=r:(t=z0(r,e,null,n),e[n.index]=t,Ev(e,t)),EL(t,e,n,r),new iS(t,n,e)}function _L(n,e){let t=n[it],r=t.createComment(""),i=er(e,n),o=t.parentNode(i);return Lh(t,o,r,t.nextSibling(i),!1),r}var EL=TL,IL=()=>!1;function wL(n,e,t){return IL(n,e,t)}function TL(n,e,t,r){if(n[xi])return;let i;t.type&8?i=Vn(r):i=_L(e,t),n[xi]=i}var OC=new Set;function rf(n){OC.has(n)||(OC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var zo=class{},of=class{};var Uh=class extends zo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Vh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=cy(e);this._bootstrapComponents=I0(o.bootstrap),this._r3Injector=Ny(e,t,[{provide:zo,useValue:this},{provide:Au,useValue:this.componentFactoryResolver},...r],Kr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bh=class extends of{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Uh(this.moduleType,e,[])}};var Du=class extends zo{injector;componentFactoryResolver=new Vh(this);instance=null;constructor(e){super();let t=new ko([...e.providers,{provide:zo,useValue:this},{provide:Au,useValue:this.componentFactoryResolver}],e.parent||uu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ru(n,e,t=null){return new Du({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var DL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ly(!1,t.type),i=r.length>0?Ru([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(de(lt))})}return n})();function Jt(n){return Ea(()=>{let e=oS(n),t=be(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(DL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zr.Emulated,styles:n.styles||En,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&rf("NgStandalone"),sS(t);let r=n.dependencies;return t.directiveDefs=xC(r,bL),t.pipeDefs=xC(r,Rb),t.id=AL(t),t})}function bL(n){return Oi(n)||uy(n)}function ei(n){return Ea(()=>({type:n.type,bootstrap:n.bootstrap||En,declarations:n.declarations||En,imports:n.imports||En,exports:n.exports||En,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function CL(n,e){if(n==null)return Pi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Xh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function SL(n){if(n==null)return Pi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qe(n){return Ea(()=>{let e=oS(n);return sS(e),e})}function Mv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function oS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Pi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||En,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:CL(n.inputs,e),outputs:SL(n.outputs),debugInfo:null}}function sS(n){n.features?.forEach(e=>e(n))}function xC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function AL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function RL(n){return Object.getPrototypeOf(n.prototype).constructor}function Xt(n){let e=RL(n.type),t=!0,r=[n];for(;e;){let i;if(yr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=By(n.inputs),s.declaredInputs=By(n.declaredInputs),s.outputs=By(n.outputs);let a=i.hostBindings;a&&OL(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&PL(n,u),l&&kL(n,l),NL(n,i),Ib(n.outputs,i.outputs),yr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xt&&(t=!1)}}e=Object.getPrototypeOf(e)}ML(r)}function NL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function ML(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wu(i.hostAttrs,t=wu(t,i.hostAttrs))}}function By(n){return n===Pi?{}:n===En?[]:n}function PL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function kL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function OL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function xL(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=wu(n.mergedAttrs,n.attrs);let h=n.tView=vv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),fa(n,!1);let u=LL(t,e,n,r);Eh()&&Tv(t,e,u,n),ya(u,e);let l=z0(u,e,u,n);e[r+$t]=l,Ev(e,l),wL(l,n,e)}function FL(n,e,t,r,i,o,s,a,u,l,h){let p=t+$t,g;return e.firstCreatePass?(g=Rv(e,p,4,s||null,a||null),wy()&&Z0(e,n,g,mu(e.consts,l),x0),WC(e,g)):g=e.data[p],xL(g,n,e,t,r,i,o,u),gu(g)&&bv(e,n,g),l!=null&&k0(n,g,h),g}function bn(n,e,t,r,i,o,s,a){let u=He(),l=dn(),h=mu(l.consts,o);return FL(u,l,n,e,t,r,i,h,void 0,s,a),bn}var LL=VL;function VL(n,e,t,r){return Ih(!0),e[it].createComment("")}var sf=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(sf||{}),Ko=new J(""),aS=!1,ov=class extends ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ob()&&(this.destroyRef=x(vr,{optional:!0})??void 0,this.pendingTasks=x(_r,{optional:!0})??void 0)}emit(e){let t=Ce(null);try{super.next(e)}finally{Ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof rt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ht=ov;function cS(n){let e,t;function r(){n=_u;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function FC(n){return queueMicrotask(()=>n()),()=>{n=_u}}var Pv="isAngularZone",$h=Pv+"_ID",jL=0,Le=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ht(!1);onMicrotaskEmpty=new ht(!1);onStable=new ht(!1);onError=new ht(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=aS}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,$L(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,UL,_u,_u);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},UL={};function kv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function BL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cS(()=>{n.callbackScheduled=!1,sv(n),n.isCheckStableRunning=!0,kv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),sv(n)}function $L(n){let e=()=>{BL(n)},t=jL++;n._inner=n._inner.fork({name:"angular",properties:{[Pv]:!0,[$h]:t,[$h+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(HL(u))return r.invokeTask(o,s,a,u);try{return LC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),VC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return LC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!qL(u)&&e(),VC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,sv(n),kv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function sv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function LC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VC(n){n._nesting--,kv(n)}var Hh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ht;onMicrotaskEmpty=new ht;onStable=new ht;onError=new ht;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function HL(n){return uS(n,"__ignore_ng_zone__")}function qL(n){return uS(n,"__scheduler_tick__")}function uS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ov=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})(),lS=[0,1,2,3],dS=(()=>{class n{ngZone=x(Le);scheduler=x(Qr);errorHandler=x(Yn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Ko,{optional:!0})}execute(){let t=this.sequences.size>0;t&&qe(16),this.executing=!0;for(let r of lS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&qe(17)}register(t){let{view:r}=t;r!==void 0?((r[jo]??=[]).push(t),ha(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(sf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})(),qh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[jo];e&&(this.view[jo]=e.filter(t=>t!==this))}};function af(n,e){let t=e?.injector??x(dt);return rf("NgAfterNextRender"),GL(n,t,e,!0)}function zL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function GL(n,e,t,r){let i=e.get(Ov);i.impl??=e.get(dS);let o=e.get(Ko,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(vr):null,a=e.get(Th,null,{optional:!0}),u=new qh(i.impl,zL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var xv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Fv=new J("");function ti(n){return!!n&&typeof n.then=="function"}function cf(n){return!!n&&typeof n.subscribe=="function"}var hS=new J("");var Lv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(hS,{optional:!0})??[];injector=x(dt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=wt(this.injector,i);if(ti(o))t.push(o);else if(cf(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uf=new J("");function fS(){ym(()=>{let n="";throw new W(600,n)})}function pS(n){return n.isBoundToModule}var WL=10;var ni=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Yt);afterRenderManager=x(Ov);zonelessEnabled=x(wh);rootEffectScheduler=x(xy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(_r);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Se(t=>!t))}constructor(){x(Ko,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=dt.NULL){return this._injector.get(Le).run(()=>{qe(10);let s=t instanceof nf;if(!this._injector.get(Lv).done){let C="";throw new W(405,C)}let u;s?u=t:u=this._injector.get(Au).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=pS(u)?void 0:this._injector.get(zo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,v=p.injector.get(Fv,null);return v?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Iu(this.components,p),v?.unregisterApplication(g)}),this._loadComponent(p),qe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){qe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new W(101,!1);let t=Ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ce(t),this.afterTick.next(),qe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<WL;)qe(14),this.synchronizeOnce(),qe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!yu(i))continue;let o=r&&!this.zonelessEnabled?0:1;B0(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>yu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Iu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(uf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Iu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Iu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ui(n,e,t,r){let i=He(),o=vu();if(Ia(i,o,e)){let s=dn(),a=_h();vF(a,i,n,e,t,r)}return Ui}var WK=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Bn(n,e,t){let r=He(),i=vu();if(Ia(r,i,e)){let o=dn(),s=_h();O0(s,r,n,e,r[it],t)}return Bn}function jC(n,e,t,r,i){Cv(e,n,t,i?"class":"style",r)}function K(n,e,t,r){let i=He(),o=i[Te],s=n+$t,a=o.firstCreatePass?J0(s,i,2,e,x0,wy(),t,r):o.data[s];if(IF(a,i,n,e,KL),gu(a)){let u=i[Te];bv(u,i,a),g0(u,a,i)}return r!=null&&k0(i,a),K}function Q(){let n=dn(),e=Ht(),t=wF(e);return n.firstCreatePass&&X0(n,t),Wb(t)&&Kb(),zb(),t.classesWithoutHost!=null&&n1(t)&&jC(n,t,He(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&r1(t)&&jC(n,t,He(),t.stylesWithoutHost,!1),Q}function wa(n,e,t,r){return K(n,e,t,r),Q(),wa}var KL=(n,e,t,r,i)=>(Ih(!0),T0(e[it],r,uC()));function Qo(){return He()}var Nu="en-US";var QL=Nu;function gS(n){typeof n=="string"&&(QL=n.toLowerCase().replace(/_/g,"-"))}function ot(n,e,t){let r=He(),i=dn(),o=Ht();return mS(i,r,r[it],o,n,e,t),ot}function mS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=jy(r,e,o),oL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],v=h[p+1];u??=jy(r,e,o),MC(r,e,g,v,i,u)}if(l&&l.length)for(let p of l)u??=jy(r,e,o),MC(r,e,p,i,i,u)}}function Vv(n=1){return cC(n)}function Mu(n){let e=Yb();return yy(e,$t+n)}function Ch(n,e){return n<<17|e<<2}function Go(n){return n>>17&32767}function ZL(n){return(n&2)==2}function YL(n,e){return n&131071|e<<17}function av(n){return n|2}function _a(n){return(n&131068)>>2}function $y(n,e){return n&-131069|e<<2}function JL(n){return(n&1)===1}function cv(n){return n|1}function XL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Go(s),u=_a(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||aa(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Go(n[a+1]);n[r+1]=Ch(g,a),g!==0&&(n[g+1]=$y(n[g+1],r)),n[a+1]=YL(n[a+1],r)}else n[r+1]=Ch(a,0),a!==0&&(n[a+1]=$y(n[a+1],r)),a=r;else n[r+1]=Ch(u,0),a===0?a=r:n[u+1]=$y(n[u+1],r),u=r;l&&(n[r+1]=av(n[r+1])),UC(n,h,r,!0),UC(n,h,r,!1),eV(e,h,n,r,o),s=Ch(a,u),o?e.classBindings=s:e.styleBindings=s}function eV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&aa(o,e)>=0&&(t[r+1]=cv(t[r+1]))}function UC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Go(i):_a(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];tV(u,e)&&(a=!0,n[s+1]=r?cv(l):av(l)),s=r?Go(l):_a(l)}a&&(n[t+1]=r?av(i):cv(i))}function tV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?aa(n,e)>=0:!1}function Pu(n,e){return nV(n,e,null,!0),Pu}function nV(n,e,t,r){let i=He(),o=dn(),s=eC(2);if(o.firstUpdatePass&&iV(o,n,s,r),e!==Jr&&Ia(i,s,e)){let a=o.data[Bo()];uV(o,a,i,i[it],n,i[s+1]=lV(e,t),r,s)}}function rV(n,e){return e>=n.expandoStartIndex}function iV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Bo()],s=rV(n,t);dV(o,r)&&e===null&&!s&&(e=!1),e=oV(i,o,e,r),XL(i,o,e,t,s,r)}}function oV(n,e,t,r){let i=iC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Hy(null,n,e,t,r),t=bu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Hy(i,n,e,t,r),o===null){let u=sV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Hy(null,n,e,u[1],r),u=bu(u,e.attrs,r),aV(n,e,r,u))}else o=cV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function sV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(_a(r)!==0)return n[Go(r)]}function aV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Go(i)]=r}function cV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=bu(r,s,t)}return bu(r,e.attrs,t)}function Hy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=bu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function bu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ab(n,s,t?!0:e[++o]))}return n===void 0?null:n}function uV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=JL(l)?BC(u,e,t,i,_a(l),s):void 0;if(!zh(h)){zh(o)||ZL(l)&&(o=BC(u,null,t,i,a,s));let p=my(Bo(),t);cF(r,s,p,i,o)}}function BC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Jr&&(g=p?En:void 0);let v=p?dh(g,r):h===r?g:void 0;if(l&&!zh(v)&&(v=dh(u,r)),zh(v)&&(a=v,s))return a;let C=n[i+1];i=s?Go(C):_a(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=dh(u,r))}return a}function zh(n){return n!==void 0}function lV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Kr(Yh(n)))),n}function dV(n,e){return(n.flags&(e?8:16))!==0}function ue(n,e=""){let t=He(),r=dn(),i=n+$t,o=r.firstCreatePass?Rv(r,i,1,e,null):r.data[i],s=hV(r,t,o,e,n);t[i]=s,Eh()&&Tv(r,t,s,o),fa(o,!1)}var hV=(n,e,t,r,i)=>(Ih(!0),U1(e[it],r));function fV(n,e,t,r=""){return Ia(n,vu(),t)?e+su(t)+r:Jr}function ri(n){return Bi("",n),ri}function Bi(n,e,t){let r=He(),i=fV(r,n,e,t);return i!==Jr&&pV(r,Bo(),i),Bi}function pV(n,e,t){let r=my(e,n);B1(n[it],r,t)}function fn(n,e,t){Py(e)&&(e=e());let r=He(),i=vu();if(Ia(r,i,e)){let o=dn(),s=_h();O0(s,r,n,e,r[it],t)}return fn}function Cn(n,e){let t=Py(n);return t&&n.set(e),t}function pn(n,e){let t=He(),r=dn(),i=Ht();return mS(r,t,t[it],i,n,e),pn}function gV(n,e,t){let r=dn();if(r.firstCreatePass){let i=yr(n);uv(t,r.data,r.blueprint,i,!0),uv(e,r.data,r.blueprint,i,!1)}}function uv(n,e,t,r,i){if(n=kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)uv(n[o],e,t,r,i);else{let o=dn(),s=He(),a=Ht(),u=Po(n)?n:kt(n.provide),l=hy(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Po(n)||!n.multi){let v=new Ho(l,i,X,null),C=zy(u,e,i?h:h+g,p);C===-1?(Wy(Oh(a,s),o,u),qy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[C]=v,s[C]=v)}else{let v=zy(u,e,h+g,p),C=zy(u,e,h,h+g),P=v>=0&&t[v],M=C>=0&&t[C];if(i&&!M||!i&&!P){Wy(Oh(a,s),o,u);let V=vV(i?yV:mV,t.length,i,r,l,n);!i&&M&&(t[C].providerFactory=V),qy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=yS(t[i?C:v],l,!i&&r);qy(o,n,v>-1?v:C,V)}!i&&r&&M&&t[C].componentProviders++}}}function qy(n,e,t,r){let i=Po(e),o=kb(e);if(i||o){let u=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function yS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function zy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function mV(n,e,t,r,i){return lv(this.multi,[])}function yV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=xh(r,r[Te],this.providerFactory.index,i);s=u.slice(0,a),lv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],lv(o,s);return s}function lv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function vV(n,e,t,r,i,o){let s=new Ho(n,t,X,null);return s.multi=[],s.index=e,s.componentProviders=0,yS(s,i,r&&!t),s}function nr(n,e=[]){return t=>{t.providersResolver=(r,i)=>gV(r,i?i(n):n,e)}}function _V(n,e){let t=n[e];return t===Jr?void 0:t}function EV(n,e,t,r,i,o){let s=e+t;return Ia(n,s,i)?iL(n,s+1,o?r.call(o,i):r(i)):_V(n,s+1)}function Zo(n,e){let t=dn(),r,i=n+$t;t.firstCreatePass?(r=IV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ni(r.type,!0)),s,a=Qt(X);try{let u=kh(!1),l=o();return kh(u),vy(t,He(),i,l),l}finally{Qt(a)}}function IV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Yo(n,e,t){let r=n+$t,i=He(),o=yy(i,r);return wV(i,r)?EV(i,Jb(),e,o.transform,t,o):o.transform(t)}function wV(n,e){return n[Te].data[e].pure}function ku(n,e){return W0(n,e)}var Gh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},jv=(()=>{class n{compileModuleSync(t){return new Bh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=cy(t),o=I0(i.declarations).reduce((s,a)=>{let u=Oi(a);return u&&s.push(new va(u)),s},[]);return new Gh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TV=(()=>{class n{zone=x(Le);changeDetectionScheduler=x(Qr);applicationRef=x(ni);applicationErrorHandler=x(Yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Le(be(B({},_S()),{scheduleInRootZone:t})),[{provide:Le,useFactory:n},{provide:ki,multi:!0,useFactory:()=>{let r=x(TV,{optional:!0});return()=>r.initialize()}},{provide:ki,multi:!0,useFactory:()=>{let r=x(DV);return()=>{r.initialize()}}},e===!0?{provide:ky,useValue:!0}:[],{provide:Oy,useValue:t??aS},{provide:Yt,useFactory:()=>{let r=x(Le),i=x(lt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Yn),o.handleError(s))})}}}]}function _S(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var DV=(()=>{class n{subscription=new rt;initialized=!1;zone=x(Le);pendingTasks=x(_r);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ES=(()=>{class n{applicationErrorHandler=x(Yt);appRef=x(ni);taskService=x(_r);ngZone=x(Le);zonelessEnabled=x(wh);tracing=x(Ko,{optional:!0});disableScheduling=x(ky,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new rt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($h):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Oy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?FC:cS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bV(){return typeof $localize<"u"&&$localize.locale||Nu}var lf=new J("",{providedIn:"root",factory:()=>x(lf,{optional:!0,skipSelf:!0})||bV()});function ft(n){return vb(n)}function Ta(n,e){return Sd(n,e?.equal)}var IS=class{[Ut];constructor(e){this[Ut]=e}destroy(){this[Ut].destroy()}};var bS=Symbol("InputSignalNode#UNSET"),qV=be(B({},Ad),{transformFn:void 0,applyValueToInputSignal(n,e){Gs(n,e)}});function CS(n,e){let t=Object.create(qV);t.value=n,t.transformFn=e?.transform;function r(){if(Hs(t),t.value===bS){let i=null;throw new W(-950,i)}return t.value}return r[Ut]=t,r}var hf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Cu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},zV=new J("");zV.__NG_ELEMENT_ID__=n=>{let e=Ht();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new W(204,!1)};function wS(n,e){return CS(n,e)}function GV(n){return CS(bS,n)}var SS=(wS.required=GV,wS);var Uv=new J(""),WV=new J("");function Ou(n){return!n.moduleRef}function KV(n){let e=Ou(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Le);return t.run(()=>{Ou(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Yt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ou(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Uv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Uv);s.add(o),n.moduleRef.onDestroy(()=>{Iu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ZV(r,t,()=>{let o=e.get(_r),s=o.add(),a=e.get(Lv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(lf,Nu);if(gS(u||Nu),!e.get(WV,!0))return Ou(n)?e.get(ni):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ou(n)){let h=e.get(ni);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return QV?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var QV;function ZV(n,e,t){try{let r=t();return ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var df=null;function YV(n=[],e){return dt.create({name:e,providers:[{provide:cu,useValue:"platform"},{provide:Uv,useValue:new Set([()=>df=null])},...n]})}function JV(n=[]){if(df)return df;let e=YV(n);return df=e,fS(),XV(e),e}function XV(n){let e=n.get(Qh,null);wt(n,()=>{e?.forEach(t=>t())})}function zv(){return!1}var $i=(()=>{class n{static __NG_ELEMENT_ID__=e2}return n})();function e2(n){return t2(Ht(),He(),(n&16)===16)}function t2(n,e,t){if(Fi(n)&&!t){let r=jn(n.index,e);return new Vi(r,r)}else if(n.type&175){let r=e[Ln];return new Vi(r,e)}return null}var Bv=class{constructor(){}supports(e){return Nv(e)}create(e){return new $v(e)}},n2=(n,e)=>e,$v=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||n2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<TS(r,i,o)?t:r,a=TS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,C=v+g;h<=C&&C<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Nv(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,eS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Hv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ff),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ff),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Hv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},qv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ff=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new qv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function DS(){return new Gv([new Bv])}var Gv=(()=>{class n{factories;static \u0275prov=ne({token:n,providedIn:"root",factory:DS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(t,r||DS())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new W(901,!1)}}return n})();function AS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;qe(8);try{let o=i?.injector??JV(r),s=[vS({}),{provide:Qr,useExisting:ES},dC,...t||[]],a=new Du({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return KV({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{qe(9)}}function Jo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var MS=null;function $n(){return MS}function Wv(n){MS??=n}var xu=class{},Kv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>x(PS),providedIn:"platform"})}return n})();var PS=(()=>{class n extends Kv{_location;_history;_doc=x(xt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $n().getBaseHref(this._doc)}onPopState(t){let r=$n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=$n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function kS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function RS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Hi(n){return n&&n[0]!=="?"?`?${n}`:n}var ba=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>x(xS),providedIn:"root"})}return n})(),OS=new J(""),xS=(()=>{class n extends ba{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(de(Kv),de(OS,8))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ca=(()=>{class n{_subject=new ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=o2(RS(NS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Hi(r))}normalize(t){return n.stripTrailingSlash(i2(this._basePath,NS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Hi;static joinWithSlash=kS;static stripTrailingSlash=RS;static \u0275fac=function(r){return new(r||n)(de(ba))};static \u0275prov=ne({token:n,factory:()=>r2(),providedIn:"root"})}return n})();function r2(){return new Ca(de(ba))}function i2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function NS(n){return n.replace(/\/index.html$/,"")}function o2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var pf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),FS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);FS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(Wo),X(Su),X(Gv))};static \u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function FS(n,e){n.context.$implicit=e.item}var Xo=(()=>{class n{_viewContainer;_context=new gf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){LS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){LS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(Wo),X(Su))};static \u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),gf=class{$implicit=null;ngIf=null};function LS(n,e){if(n&&!n.createEmbeddedView)throw new W(2020,!1)}function s2(n,e){return new W(2100,!1)}var Qv=class{createSubscription(e,t,r){return ft(()=>e.subscribe({next:t,error:r}))}dispose(e){ft(()=>e.unsubscribe())}},Zv=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},a2=new Zv,c2=new Qv,es=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=x(Yt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(ti(t))return a2;if(cf(t))return c2;throw s2(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(X($i,16))};static \u0275pipe=Mv({name:"async",type:n,pure:!1})}return n})();var zi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=fr({})}return n})();function Yv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Fu=class{};var VS="browser";var yf=new J(""),n_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(de(yf),de(Le))};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),Lu=class{_doc;constructor(e){this._doc=e}manager},Jv="ng-app-id";function US(n){for(let e of n)e.remove()}function BS(n,e){let t=e.createElement("style");return t.textContent=n,t}function u2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Jv}="${e}"],link[${Jv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Jv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function e_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var r_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,u2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,BS);r?.forEach(i=>this.addUsage(i,this.external,e_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(US(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])US(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,BS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,e_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(de(xt),de(Kh),de(Zh,8),de(ji))};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),Xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},i_=/%COMP%/g;var HS="%COMP%",l2=`_nghost-${HS}`,d2=`_ngcontent-${HS}`,h2=!0,f2=new J("",{providedIn:"root",factory:()=>h2});function p2(n){return d2.replace(i_,n)}function g2(n){return l2.replace(i_,n)}function qS(n,e){return e.map(t=>t.replace(i_,n))}var o_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Vu(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof mf?i.applyToHost(t):i instanceof ju&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Zr.Emulated:o=new mf(u,l,r,this.appId,h,s,a,p,g);break;case Zr.ShadowDom:return new t_(u,l,t,r,s,a,this.nonce,p,g);default:o=new ju(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(de(n_),de(r_),de(Kh),de(f2),de(xt),de(ji),de(Le),de(Zh),de(Ko,8))};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),Vu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($S(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($S(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Xv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Xv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(t,r,i&Ir.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=$n().getGlobalEventTarget(this.doc,e),!e))throw new W(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function $S(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var t_=class extends Vu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=qS(i.id,h);for(let g of h){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=g,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let g of p){let v=e_(g,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ju=class extends Vu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?qS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ef.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mf=class extends ju{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=p2(h),this.hostAttr=g2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var vf=class n extends xu{supportsDOMEvents=!0;static makeCurrent(){Wv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=m2();return t==null?null:y2(t)}resetBaseElement(){Uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yv(document.cookie,e)}},Uu=null;function m2(){return Uu=Uu||document.head.querySelector("base"),Uu?Uu.getAttribute("href"):null}function y2(n){return new URL(n,document.baseURI).pathname}var v2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),GS=(()=>{class n extends Lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(de(xt))};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),zS=["alt","control","meta","shift"],_2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},WS=(()=>{class n extends Lu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$n().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=_2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),zS.forEach(s=>{if(s!==i){let a=E2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(de(xt))};static \u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function s_(n,e,t){let r=B({rootComponent:n,platformRef:t?.platformRef},I2(e));return AS(r)}function I2(n){return{appProviders:[...C2,...n?.providers??[]],platformProviders:b2}}function w2(){vf.makeCurrent()}function T2(){return new Yn}function D2(){return fv(document),document}var b2=[{provide:ji,useValue:VS},{provide:Qh,useValue:w2,multi:!0},{provide:xt,useFactory:D2}];var C2=[{provide:cu,useValue:"root"},{provide:Yn,useFactory:T2},{provide:yf,useClass:GS,multi:!0,deps:[xt]},{provide:yf,useClass:WS,multi:!0,deps:[xt]},o_,r_,n_,{provide:qo,useExisting:o_},{provide:Fu,useClass:v2},[]];var KS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(de(xt))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var De="primary",tl=Symbol("RouteTitle"),d_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function rs(n){return new d_(n)}function nA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function A2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tr(n[t],e[t]))return!1;return!0}function Tr(n,e){let t=n?h_(n):void 0,r=e?h_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rA(n[i],e[i]))return!1;return!0}function h_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function iA(n){return n.length>0?n[n.length-1]:null}function si(n){return Pm(n)?n:ti(n)?et(Promise.resolve(n)):he(n)}var R2={exact:sA,subset:aA},oA={exact:N2,subset:M2,ignored:()=>!0};function QS(n,e,t){return R2[t.paths](n.root,e.root,t.matrixParams)&&oA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function N2(n,e){return Tr(n,e)}function sA(n,e,t){if(!ts(n.segments,e.segments)||!If(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sA(n.children[r],e.children[r],t))return!1;return!0}function M2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rA(n[t],e[t]))}function aA(n,e,t){return cA(n,e,e.segments,t)}function cA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ts(i,t)||e.hasChildren()||!If(i,t,r))}else if(n.segments.length===t.length){if(!ts(n.segments,t)||!If(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!aA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ts(n.segments,i)||!If(n.segments,i,r)||!n.children[De]?!1:cA(n.children[De],e,o,r)}}function If(n,e,t){return e.every((r,i)=>oA[t](n[i].parameters,r.parameters))}var br=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){return O2.serialize(this)}},Ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wf(this)}},Gi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=rs(this.parameters),this._parameterMap}toString(){return lA(this)}};function P2(n,e){return ts(n,e)&&n.every((t,r)=>Tr(t.parameters,e[r].parameters))}function ts(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function k2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===De&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==De&&(t=t.concat(e(i,r)))}),t}var nl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>new is,providedIn:"root"})}return n})(),is=class{parse(e){let t=new p_(e);return new br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Bu(e.root,!0)}`,r=L2(e.queryParams),i=typeof e.fragment=="string"?`#${x2(e.fragment)}`:"";return`${t}${r}${i}`}},O2=new is;function wf(n){return n.segments.map(e=>lA(e)).join("/")}function Bu(n,e){if(!n.hasChildren())return wf(n);if(e){let t=n.children[De]?Bu(n.children[De],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==De&&r.push(`${i}:${Bu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=k2(n,(r,i)=>i===De?[Bu(n.children[De],!1)]:[`${i}:${Bu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[De]!=null?`${wf(n)}/${t[0]}`:`${wf(n)}/(${t.join("//")})`}}function uA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _f(n){return uA(n).replace(/%3B/gi,";")}function x2(n){return encodeURI(n)}function f_(n){return uA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tf(n){return decodeURIComponent(n)}function ZS(n){return Tf(n.replace(/\+/g,"%20"))}function lA(n){return`${f_(n.path)}${F2(n.parameters)}`}function F2(n){return Object.entries(n).map(([e,t])=>`;${f_(e)}=${f_(t)}`).join("")}function L2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${_f(t)}=${_f(i)}`).join("&"):`${_f(t)}=${_f(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var V2=/^[^\/()?;#]+/;function a_(n){let e=n.match(V2);return e?e[0]:""}var j2=/^[^\/()?;=#]+/;function U2(n){let e=n.match(j2);return e?e[0]:""}var B2=/^[^=?&#]+/;function $2(n){let e=n.match(B2);return e?e[0]:""}var H2=/^[^&#]+/;function q2(n){let e=n.match(H2);return e?e[0]:""}var p_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[De]=new Ve(e,t)),r}parseSegment(){let e=a_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Gi(Tf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=U2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=a_(this.remaining);i&&(r=i,this.capture(r))}e[Tf(t)]=Tf(r)}parseQueryParam(e){let t=$2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=q2(this.remaining);s&&(r=s,this.capture(r))}let i=ZS(t),o=ZS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=a_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=De);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[De]:new Ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function dA(n){return n.segments.length>0?new Ve([],{[De]:n}):n}function hA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=hA(i);if(r===De&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ve(n.segments,e);return z2(t)}function z2(n){if(n.numberOfChildren===1&&n.children[De]){let e=n.children[De];return new Ve(n.segments.concat(e.segments),e.children)}return n}function Wi(n){return n instanceof br}function fA(n,e,t=null,r=null){let i=pA(n);return gA(i,e,t,r)}function pA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ve(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=dA(r);return e??i}function gA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return c_(i,i,i,t,r);let o=G2(e);if(o.toRoot())return c_(i,i,new Ve([],{}),t,r);let s=W2(o,i,n),a=s.processChildren?Hu(s.segmentGroup,s.index,o.commands):yA(s.segmentGroup,s.index,o.commands);return c_(i,s.segmentGroup,a,t,r)}function Df(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gu(n){return typeof n=="object"&&n!=null&&n.outlets}function c_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=mA(n,e,t);let a=dA(hA(s));return new br(a,o,i)}function mA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=mA(o,e,t)}),new Ve(n.segments,r)}var bf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Df(r[0]))throw new W(4003,!1);let i=r.find(Gu);if(i&&i!==iA(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function G2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new bf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new bf(t,e,r)}var Ra=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function W2(n,e,t){if(n.isAbsolute)return new Ra(e,!0,0);if(!t)return new Ra(e,!1,NaN);if(t.parent===null)return new Ra(t,!0,0);let r=Df(n.commands[0])?0:1,i=t.segments.length-1+r;return K2(t,i,n.numberOfDoubleDots)}function K2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Ra(r,!1,i-o)}function Q2(n){return Gu(n[0])?n[0].outlets:{[De]:n}}function yA(n,e,t){if(n??=new Ve([],{}),n.segments.length===0&&n.hasChildren())return Hu(n,e,t);let r=Z2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ve(n.segments.slice(0,r.pathIndex),{});return o.children[De]=new Ve(n.segments.slice(r.pathIndex),n.children),Hu(o,0,i)}else return r.match&&i.length===0?new Ve(n.segments,{}):r.match&&!n.hasChildren()?g_(n,e,t):r.match?Hu(n,0,i):g_(n,e,t)}function Hu(n,e,t){if(t.length===0)return new Ve(n.segments,{});{let r=Q2(t),i={};if(Object.keys(r).some(o=>o!==De)&&n.children[De]&&n.numberOfChildren===1&&n.children[De].segments.length===0){let o=Hu(n.children[De],e,t);return new Ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ve(n.segments,i)}}function Z2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Gu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!JS(u,l,s))return o;r+=2}else{if(!JS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function g_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Gu(o)){let u=Y2(o.outlets);return new Ve(r,u)}if(i===0&&Df(t[0])){let u=n.segments[e];r.push(new Gi(u.path,YS(t[0]))),i++;continue}let s=Gu(o)?o.outlets[De]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Df(a)?(r.push(new Gi(s,YS(a))),i+=2):(r.push(new Gi(s,{})),i++)}return new Ve(r,{})}function Y2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=g_(new Ve([],{}),0,r))}),e}function YS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function JS(n,e,t){return n==t.path&&Tr(e,t.parameters)}var qu="imperative",Dt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Dt||{}),An=class{id;url;constructor(e,t){this.id=e,this.url=t}},os=class extends An{type=Dt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends An{urlAfterRedirects;type=Dt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(en||{}),Wu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Wu||{}),Dr=class extends An{reason;code;type=Dt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends An{reason;code;type=Dt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ma=class extends An{error;target;type=Dt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ku=class extends An{urlAfterRedirects;state;type=Dt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends An{urlAfterRedirects;state;type=Dt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class extends An{urlAfterRedirects;state;shouldActivate;type=Dt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Af=class extends An{urlAfterRedirects;state;type=Dt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rf=class extends An{urlAfterRedirects;state;type=Dt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class{route;type=Dt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mf=class{route;type=Dt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pf=class{snapshot;type=Dt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kf=class{snapshot;type=Dt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{snapshot;type=Dt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xf=class{snapshot;type=Dt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Qu=class{},Pa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function J2(n){return!(n instanceof Qu)&&!(n instanceof Pa)}function X2(n,e){return n.providers&&!n._injector&&(n._injector=Ru(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rr(n){return n.outlet||De}function ej(n,e){let t=n.filter(r=>rr(r)===e);return t.push(...n.filter(r=>rr(r)!==e)),t}function xa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ff=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return xa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Fa(this.rootInjector)}},Fa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ff(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(de(lt))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=m_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=m_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=y_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return y_(e,this._root).map(t=>t.value)}};function m_(n,e){if(n===e.value)return e;for(let t of e.children){let r=m_(n,t);if(r)return r}return null}function y_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=y_(n,t);if(r.length)return r.unshift(e),r}return[]}var Sn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Aa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Zu=class extends Lf{snapshot;constructor(e,t){super(e),this.snapshot=t,b_(this,e)}toString(){return this.snapshot.toString()}};function vA(n){let e=tj(n),t=new Pt([new Gi("",{})]),r=new Pt({}),i=new Pt({}),o=new Pt({}),s=new Pt(""),a=new oi(t,r,o,s,i,De,n,e.root);return a.snapshot=e.root,new Zu(new Sn(a,[]),e)}function tj(n){let e={},t={},r={},o=new ns([],e,r,"",t,De,n,null,{});return new Yu("",new Sn(o,[]))}var oi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Se(l=>l[tl]))??he(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(e=>rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(e=>rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&EA(i)&&(r.resolve[tl]=i.title),r}var ns=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[tl]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Yu=class extends Lf{url;constructor(e,t){super(t),this.url=e,b_(this,t)}toString(){return _A(this._root)}};function b_(n,e){e.value._routerState=n,e.children.forEach(t=>b_(n,t))}function _A(n){let e=n.children.length>0?` { ${n.children.map(_A).join(", ")} } `:"";return`${n.value}${e}`}function u_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tr(e.params,t.params)||n.paramsSubject.next(t.params),A2(e.url,t.url)||n.urlSubject.next(t.url),Tr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function v_(n,e){let t=Tr(n.params,e.params)&&P2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||v_(n.parent,e.parent))}function EA(n){return typeof n.title=="string"||n.title===null}var IA=new J(""),rl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new ht;deactivateEvents=new ht;attachEvents=new ht;detachEvents=new ht;routerOutletData=SS(void 0);parentContexts=x(Fa);location=x(Wo);changeDetector=x($i);inputBinder=x($f,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new __(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Yr]})}return n})(),__=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===oi?this.route:e===Fa?this.childContexts:e===IA?this.outletData:this.parent.get(e,t)}},$f=new J("");var C_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Jt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&wa(0,"router-outlet")},dependencies:[rl],encapsulation:2})}return n})();function S_(n){let e=n.children&&n.children.map(S_),t=e?be(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==De&&(t.component=C_),t}function nj(n,e,t){let r=Ju(n,e._root,t?t._root:void 0);return new Zu(r,e)}function Ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=rj(n,e,t);return new Sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ju(n,a)),s}}let r=ij(e.value),i=e.children.map(o=>Ju(n,o));return new Sn(r,i)}}function rj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ju(n,r,i);return Ju(n,r)})}function ij(n){return new oi(new Pt(n.url),new Pt(n.params),new Pt(n.queryParams),new Pt(n.fragment),new Pt(n.data),n.outlet,n.component,n)}var ka=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wA="ngNavigationCancelingError";function jf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TA(!1,en.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function TA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wA]=!0,t.cancellationCode=e,t}function oj(n){return DA(n)&&Wi(n.url)}function DA(n){return!!n&&n[wA]}var sj=(n,e,t,r)=>Se(i=>(new E_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),E_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),u_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Aa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Aa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Aa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Aa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(u_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),u_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Uf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Na=class{component;route;constructor(e,t){this.component=e,this.route=t}};function aj(n,e,t){let r=n._root,i=e?e._root:null;return $u(r,i,t,[r.value])}function cj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function La(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ym(n)?n:e.get(n):r}function $u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Aa(e);return n.children.forEach(s=>{uj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>zu(a,t.getContext(s),i)),i}function uj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=lj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Uf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$u(n,e,a?a.children:null,r,i):$u(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Na(a.outlet.component,s))}else s&&zu(e,a,i),i.canActivateChecks.push(new Uf(r)),o.component?$u(n,null,a?a.children:null,r,i):$u(n,null,t,r,i);return i}function lj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ts(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ts(n.url,e.url)||!Tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!v_(n,e)||!Tr(n.queryParams,e.queryParams);case"paramsChange":default:return!v_(n,e)}}function zu(n,e,t){let r=Aa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?zu(s,e.children.getContext(o),t):zu(s,null,t):zu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Na(e.outlet.component,i)):t.canDeactivateChecks.push(new Na(null,i)):t.canDeactivateChecks.push(new Na(null,i))}function il(n){return typeof n=="function"}function dj(n){return typeof n=="boolean"}function hj(n){return n&&il(n.canLoad)}function fj(n){return n&&il(n.canActivate)}function pj(n){return n&&il(n.canActivateChild)}function gj(n){return n&&il(n.canDeactivate)}function mj(n){return n&&il(n.canMatch)}function bA(n){return n instanceof Zn||n?.name==="EmptyError"}var Ef=Symbol("INITIAL_VALUE");function Oa(){return cn(n=>Jd(n.map(e=>e.pipe(zr(1),th(Ef)))).pipe(Se(e=>{for(let t of e)if(t!==!0){if(t===Ef)return Ef;if(t===!1||yj(t))return t}return!0}),_n(e=>e!==Ef),zr(1)))}function yj(n){return Wi(n)||n instanceof ka}function vj(n,e){return It(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?he(be(B({},t),{guardsResult:!0})):_j(s,r,i,n).pipe(It(a=>a&&dj(a)?Ej(r,o,n,e):he(a)),Se(a=>be(B({},t),{guardsResult:a})))})}function _j(n,e,t,r){return et(n).pipe(It(i=>bj(i.component,i.route,t,e,r)),Gr(i=>i!==!0,!0))}function Ej(n,e,t,r){return et(e).pipe(ia(i=>ra(wj(i.route.parent,r),Ij(i.route,r),Dj(n,i.path,t),Tj(n,i.route,t))),Gr(i=>i!==!0,!0))}function Ij(n,e){return n!==null&&e&&e(new Of(n)),he(!0)}function wj(n,e){return n!==null&&e&&e(new Pf(n)),he(!0)}function Tj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return he(!0);let i=r.map(o=>Xc(()=>{let s=xa(e)??t,a=La(o,s),u=fj(a)?a.canActivate(e,n):wt(s,()=>a(e,n));return si(u).pipe(Gr())}));return he(i).pipe(Oa())}function Dj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>cj(s)).filter(s=>s!==null).map(s=>Xc(()=>{let a=s.guards.map(u=>{let l=xa(s.node)??t,h=La(u,l),p=pj(h)?h.canActivateChild(r,n):wt(l,()=>h(r,n));return si(p).pipe(Gr())});return he(a).pipe(Oa())}));return he(o).pipe(Oa())}function bj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return he(!0);let s=o.map(a=>{let u=xa(e)??i,l=La(a,u),h=gj(l)?l.canDeactivate(n,e,t,r):wt(u,()=>l(n,e,t,r));return si(h).pipe(Gr())});return he(s).pipe(Oa())}function Cj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return he(!0);let o=i.map(s=>{let a=La(s,n),u=hj(a)?a.canLoad(e,t):wt(n,()=>a(e,t));return si(u)});return he(o).pipe(Oa(),CA(r))}function CA(n){return kd(Tt(e=>{if(typeof e!="boolean")throw jf(n,e)}),Se(e=>e===!0))}function Sj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return he(!0);let o=i.map(s=>{let a=La(s,n),u=mj(a)?a.canMatch(e,t):wt(n,()=>a(e,t));return si(u)});return he(o).pipe(Oa(),CA(r))}var Xu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},el=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Sa(n){return na(new Xu(n))}function Aj(n){return na(new W(4e3,!1))}function Rj(n){return na(TA(!1,en.GuardRejected))}var I_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return he(r);if(i.numberOfChildren>1||!i.children[De])return Aj(`${e.redirectTo}`);i=i.children[De]}}applyRedirectCommands(e,t,r,i,o){return Nj(t,i,o).pipe(Se(s=>{if(s instanceof br)throw new el(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new el(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new br(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Nj(n,e,t){if(typeof n=="string")return he(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return si(wt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var w_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mj(n,e,t,r,i){let o=SA(n,e,t);return o.matched?(r=X2(e,r),Sj(r,e,t,i).pipe(Se(s=>s===!0?o:B({},w_)))):he(o)}function SA(n,e,t){if(e.path==="**")return Pj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},w_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nA)(t,n,e);if(!i)return B({},w_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Pj(n){return{matched:!0,parameters:n.length>0?iA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function XS(n,e,t,r){return t.length>0&&xj(n,t,r)?{segmentGroup:new Ve(e,Oj(r,new Ve(t,n.children))),slicedSegments:[]}:t.length===0&&Fj(n,t,r)?{segmentGroup:new Ve(n.segments,kj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ve(n.segments,n.children),slicedSegments:t}}function kj(n,e,t,r){let i={};for(let o of t)if(Hf(n,e,o)&&!r[rr(o)]){let s=new Ve([],{});i[rr(o)]=s}return B(B({},r),i)}function Oj(n,e){let t={};t[De]=e;for(let r of n)if(r.path===""&&rr(r)!==De){let i=new Ve([],{});t[rr(r)]=i}return t}function xj(n,e,t){return t.some(r=>Hf(n,e,r)&&rr(r)!==De)}function Fj(n,e,t){return t.some(r=>Hf(n,e,r))}function Hf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Lj(n,e,t){return e.length===0&&!n.children[t]}var T_=class{};function Vj(n,e,t,r,i,o,s="emptyOnly"){return new D_(n,e,t,r,i,s,o).recognize()}var jj=31,D_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new I_(this.urlSerializer,this.urlTree)}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=XS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Se(({children:t,rootSnapshot:r})=>{let i=new Sn(r,t),o=new Yu("",i),s=fA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ns([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,t).pipe(Se(r=>({children:r,rootSnapshot:t})),Ai(r=>{if(r instanceof el)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Se(s=>s instanceof Sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return et(o).pipe(ia(s=>{let a=r.children[s],u=ej(t,s);return this.processSegmentGroup(e,u,a,s,i)}),eh((s,a)=>(s.push(...a),s)),Ri(null),xm(),It(s=>{if(s===null)return Sa(r);let a=AA(s);return Uj(a),he(a)}))}processSegment(e,t,r,i,o,s,a){return et(t).pipe(ia(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Ai(l=>{if(l instanceof Xu)return he(null);throw l}))),Gr(u=>!!u),Ai(u=>{if(bA(u))return Lj(r,i,o)?he(new T_):Sa(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return rr(r)!==s&&(s===De||!Hf(i,o,r))?Sa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Sa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=SA(t,i,o);if(!u)return Sa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jj&&(this.allowRedirects=!1));let v=new ns(o,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,eA(i),rr(i),i.component??i._loadedComponent??null,i,tA(i)),C=Vf(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(C.params),v.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e).pipe(cn(M=>this.applyRedirects.lineralizeSegments(i,M)),It(M=>this.processSegment(e,r,t,M.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Mj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(cn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,C=new ns(g,p,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,eA(r),rr(r),r.component??r._loadedComponent??null,r,tA(r)),P=Vf(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(P.params),C.data=Object.freeze(P.data);let{segmentGroup:M,slicedSegments:V}=XS(t,g,v,l);if(V.length===0&&M.hasChildren())return this.processChildren(h,l,M,C).pipe(Se(O=>new Sn(C,O)));if(l.length===0&&V.length===0)return he(new Sn(C,[]));let F=rr(r)===o;return this.processSegment(h,l,M,V,F?De:o,!0,C).pipe(Se(O=>new Sn(C,O instanceof Sn?[O]:[])))}))):Sa(t)))}getChildConfig(e,t,r){return t.children?he({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?he({routes:t._loadedRoutes,injector:t._loadedInjector}):Cj(e,t,r,this.urlSerializer).pipe(It(i=>i?this.configLoader.loadChildren(e,t).pipe(Tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Rj(t))):he({routes:[],injector:e})}};function Uj(n){n.sort((e,t)=>e.value.outlet===De?-1:t.value.outlet===De?1:e.value.outlet.localeCompare(t.value.outlet))}function Bj(n){let e=n.value.routeConfig;return e&&e.path===""}function AA(n){let e=[],t=new Set;for(let r of n){if(!Bj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=AA(r.children);e.push(new Sn(r.value,i))}return e.filter(r=>!t.has(r))}function eA(n){return n.data||{}}function tA(n){return n.resolve||{}}function $j(n,e,t,r,i,o){return It(s=>Vj(n,e,t,r,s.extractedUrl,i,o).pipe(Se(({state:a,tree:u})=>be(B({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Hj(n,e){return It(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return he(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of RA(u))s.add(l);let a=0;return et(s).pipe(ia(u=>o.has(u)?qj(u,r,n,e):(u.data=Vf(u,u.parent,n).resolve,he(void 0))),Tt(()=>a++),oa(1),It(u=>a===s.size?he(t):sn))})}function RA(n){let e=n.children.map(t=>RA(t)).flat();return[n,...e]}function qj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!EA(i)&&(o[tl]=i.title),Xc(()=>(n.data=Vf(n,n.parent,t).resolve,zj(o,n,e,r).pipe(Se(s=>(n._resolvedData=s,n.data=B(B({},n.data),s),null)))))}function zj(n,e,t,r){let i=h_(n);if(i.length===0)return he({});let o={};return et(i).pipe(It(s=>Gj(n[s],e,t,r).pipe(Gr(),Tt(a=>{if(a instanceof ka)throw jf(new is,a);o[s]=a}))),oa(1),Se(()=>o),Ai(s=>bA(s)?sn:na(s)))}function Gj(n,e,t,r){let i=xa(e)??r,o=La(n,i),s=o.resolve?o.resolve(e,t):wt(i,()=>o(e,t));return si(s)}function l_(n){return cn(e=>{let t=n(e);return t?et(t).pipe(Se(()=>e)):he(e)})}var A_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(t){return t.data[tl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>x(NA),providedIn:"root"})}return n})(),NA=(()=>{class n extends A_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(de(KS))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Va=new J("",{providedIn:"root",factory:()=>({})}),ol=new J(""),MA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(jv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return he(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=si(wt(t,()=>r.loadComponent())).pipe(Se(kA),cn(OA),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),eu(()=>{this.componentLoaders.delete(r)})),o=new Js(i,()=>new ct).pipe(Ys());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=PA(r,this.compiler,t,this.onLoadEndListener).pipe(eu(()=>{this.childrenLoaders.delete(r)})),s=new Js(o,()=>new ct).pipe(Ys());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PA(n,e,t,r){return si(wt(t,()=>n.loadChildren())).pipe(Se(kA),cn(OA),It(i=>i instanceof of||Array.isArray(i)?he(i):et(e.compileModuleAsync(i))),Se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ol,[],{optional:!0,self:!0}).flat()),{routes:s.map(S_),injector:o}}))}function Wj(n){return n&&typeof n=="object"&&"default"in n}function kA(n){return Wj(n)?n.default:n}function OA(n){return he(n)}var qf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>x(Kj),providedIn:"root"})}return n})(),Kj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xA=new J("");var FA=new J(""),LA=(()=>{class n{currentNavigation=hn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ct;transitionAbortWithErrorSubject=new ct;configLoader=x(MA);environmentInjector=x(lt);destroyRef=x(vr);urlSerializer=x(nl);rootContexts=x(Fa);location=x(Ca);inputBindingEnabled=x($f,{optional:!0})!==null;titleStrategy=x(A_);options=x(Va,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(qf);createViewTransition=x(xA,{optional:!0});navigationErrorHandler=x(FA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>he(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Nf(i)),r=i=>this.events.next(new Mf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ft(()=>{this.transitions?.next(be(B({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Pt(null),this.transitions.pipe(_n(r=>r!==null),cn(r=>{let i=!1;return he(r).pipe(cn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",en.SupersededByNewNavigation),sn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?be(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ii(o.id,this.urlSerializer.serialize(o.rawUrl),"",Wu.IgnoredSameUrlNavigation)),o.resolve(!1),sn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return he(o).pipe(cn(u=>(this.events.next(new os(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?sn:Promise.resolve(u))),$j(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Ku(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,v=new os(u,this.urlSerializer.serialize(l),h,p);this.events.next(v);let C=vA(this.rootComponentType).snapshot;return this.currentTransition=r=be(B({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:be(B({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=l,P)),he(r)}else return this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Wu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),sn}),Tt(o=>{let s=new Cf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Se(o=>(this.currentTransition=r=be(B({},o),{guards:aj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),vj(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw jf(this.urlSerializer,o.guardsResult);let s=new Sf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),_n(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",en.GuardRejected),!1)),l_(o=>{if(o.guards.canActivateChecks.length!==0)return he(o).pipe(Tt(s=>{let a=new Af(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),cn(s=>{let a=!1;return he(s).pipe(Hj(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",en.NoDataFromResolver)}}))}),Tt(s=>{let a=new Rf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),l_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=xa(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Tt(h=>{a.component=h}),Se(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Jd(s(o.targetSnapshot.root)).pipe(Ri(null),zr(1))}),l_(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?et(a).pipe(Se(()=>r)):he(r)}),Se(o=>{let s=nj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=be(B({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Tt(()=>{this.events.next(new Qu)}),sj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),zr(1),nh(new we(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(_n(()=>!i&&!r.targetRouterState),Tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",en.Aborted)}))),Tt({next:o=>{i=!0,this.lastSuccessfulNavigation=ft(this.currentNavigation),this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),nh(this.transitionAbortWithErrorSubject.pipe(Tt(o=>{throw o}))),eu(()=>{i||this.cancelNavigationTransition(r,"",en.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ai(o=>{if(this.destroyed)return r.resolve(!1),sn;if(i=!0,DA(o))this.events.next(new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),oj(o)?this.events.next(new Pa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ma(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=wt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ka){let{message:u,cancellationCode:l}=jf(this.urlSerializer,a);this.events.next(new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Pa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return sn}))}))}cancelNavigationTransition(t,r,i){let o=new Dr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ft(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qj(n){return n!==qu}var VA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>x(Zj),providedIn:"root"})}return n})(),Bf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Zj=(()=>{class n extends Bf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jA=(()=>{class n{urlSerializer=x(nl);options=x(Va,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Ca);urlHandlingStrategy=x(qf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof br?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=vA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:()=>x(Yj),providedIn:"root"})}return n})(),Yj=(()=>{class n extends jA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof os?this.updateStateMemento():t instanceof ii?this.commitTransition(r):t instanceof Ku?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Qu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Dr&&t.code!==en.SupersededByNewNavigation&&t.code!==en.Redirect?this.restoreHistory(r):t instanceof Ma?this.restoreHistory(r,!0):t instanceof Cr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=B(B({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=B(B({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R_(n,e){n.events.pipe(_n(t=>t instanceof Cr||t instanceof Dr||t instanceof Ma||t instanceof ii),Se(t=>t instanceof Cr||t instanceof ii?0:(t instanceof Dr?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?2:1),_n(t=>t!==2),zr(1)).subscribe(()=>{e()})}var Jj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(xv);stateManager=x(jA);options=x(Va,{optional:!0})||{};pendingTasks=x(_r);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(LA);urlSerializer=x(nl);location=x(Ca);urlHandlingStrategy=x(qf);injector=x(lt);_events=new ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(VA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(ol,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x($f,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ft(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dr&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cr)this.navigated=!0;else if(r instanceof Pa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qj(i.source)},s);this.scheduleNavigation(a,qu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}J2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Yt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ft(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(S_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=pA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return gA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qu,null,r)}navigate(t,r={skipLocationChange:!1}){return eU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},Jj):r===!1?i=B({},Xj):i=r,Wi(t))return QS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return QS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return R_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}var ja=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=hn(null);get href(){return ft(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ct;applicationErrorHandler=x(Yt);options=x(Va,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new hf("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Cr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Wi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(X(tn),X(oi),Cu("tabindex"),X(Xr),X(wr),X(ba))};static \u0275dir=Qe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ot("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ui("href",i.reactiveHref(),mv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Jo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Jo],replaceUrl:[2,"replaceUrl","replaceUrl",Jo],routerLink:"routerLink"},features:[Yr]})}return n})();var nU=new J("");function N_(n,...e){return pr([{provide:ol,multi:!0,useValue:n},[],{provide:oi,useFactory:rU,deps:[tn]},{provide:uf,multi:!0,useFactory:iU},e.map(t=>t.\u0275providers)])}function rU(n){return n.routerState.root}function iU(){let n=x(dt);return e=>{let t=n.get(ni);if(e!==t.components[0])return;let r=n.get(tn),i=n.get(oU);n.get(sU)===1&&r.initialNavigation(),n.get(aU,null,{optional:!0})?.setUpPreloading(),n.get(nU,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oU=new J("",{factory:()=>new ct}),sU=new J("",{providedIn:"root",factory:()=>1});var aU=new J("");var QA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(X(Xr),X(wr))};static \u0275dir=Qe({type:n})}return n})(),ep=(()=>{class n extends QA{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,features:[Xt]})}return n})(),hl=new J("");var cU={provide:hl,useExisting:un(()=>Qi),multi:!0};function uU(){let n=$n()?$n().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lU=new J(""),Qi=(()=>{class n extends QA{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!uU())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(X(Xr),X(wr),X(lU,8))};static \u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ot("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[nr([cU]),Xt]})}return n})();function dU(n){return n==null||hU(n)===0}function hU(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var fl=new J(""),ZA=new J("");function fU(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function pU(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function gU(n){return dU(n.value)?{required:!0}:null}function UA(n){return null}function YA(n){return n!=null}function JA(n){return ti(n)?et(n):n}function XA(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function eR(n,e){return e.map(t=>t(n))}function mU(n){return!n.validate}function tR(n){return n.map(e=>mU(e)?e:t=>e.validate(t))}function yU(n){if(!n)return null;let e=n.filter(YA);return e.length==0?null:function(t){return XA(eR(t,e))}}function k_(n){return n!=null?yU(tR(n)):null}function vU(n){if(!n)return null;let e=n.filter(YA);return e.length==0?null:function(t){let r=eR(t,e).map(JA);return Om(r).pipe(Se(XA))}}function O_(n){return n!=null?vU(tR(n)):null}function BA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _U(n){return n._rawValidators}function EU(n){return n._rawAsyncValidators}function M_(n){return n?Array.isArray(n)?n:[n]:[]}function Wf(n,e){return Array.isArray(n)?n.includes(e):n===e}function $A(n,e){let t=M_(e);return M_(n).forEach(i=>{Wf(t,i)||t.push(i)}),t}function HA(n,e){return M_(e).filter(t=>!Wf(n,t))}var Kf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=k_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=O_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},$a=class extends Kf{name;get formDirective(){return null}get path(){return null}},dl=class extends Kf{_parent=null;name=null;valueAccessor=null},Qf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},IU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qie=be(B({},IU),{"[class.ng-submitted]":"isSubmitted"}),Ha=(()=>{class n extends Qf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(dl,2))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xt]})}return n})(),qa=(()=>{class n extends Qf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X($a,10))};static \u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Xt]})}return n})();var sl="VALID",Gf="INVALID",Ua="PENDING",al="DISABLED",Ki=class{},Zf=class extends Ki{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ul=class extends Ki{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ll=class extends Ki{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ba=class extends Ki{status;source;constructor(e,t){super(),this.status=e,this.source=t}},P_=class extends Ki{source;constructor(e){super(),this.source=e}},Yf=class extends Ki{source;constructor(e){super(),this.source=e}};function nR(n){return(tp(n)?n.validators:n)||null}function wU(n){return Array.isArray(n)?k_(n):n||null}function rR(n,e){return(tp(e)?e.asyncValidators:n)||null}function TU(n){return Array.isArray(n)?O_(n):n||null}function tp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function DU(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")}function bU(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new W(1002,"")})}var Jf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ft(this.statusReactive)}set status(e){ft(()=>this.statusReactive.set(e))}_status=Ta(()=>this.statusReactive());statusReactive=hn(void 0);get valid(){return this.status===sl}get invalid(){return this.status===Gf}get pending(){return this.status==Ua}get disabled(){return this.status===al}get enabled(){return this.status!==al}errors;get pristine(){return ft(this.pristineReactive)}set pristine(e){ft(()=>this.pristineReactive.set(e))}_pristine=Ta(()=>this.pristineReactive());pristineReactive=hn(!0);get dirty(){return!this.pristine}get touched(){return ft(this.touchedReactive)}set touched(e){ft(()=>this.touchedReactive.set(e))}_touched=Ta(()=>this.touchedReactive());touchedReactive=hn(!1);get untouched(){return!this.touched}_events=new ct;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($A(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($A(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HA(e,this._rawAsyncValidators))}hasValidator(e){return Wf(this._rawValidators,e)}hasAsyncValidator(e){return Wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ll(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ll(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ul(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ul(!0,r))}markAsPending(e={}){this.status=Ua;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ba(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=al,this.errors=null,this._forEachChild(i=>{i.disable(be(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zf(this.value,r)),this._events.next(new Ba(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=sl,this._forEachChild(r=>{r.enable(be(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sl||this.status===Ua)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zf(this.value,t)),this._events.next(new Ba(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?al:sl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=JA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ba(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?al:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ua)?Ua:this._anyControlsHaveStatus(Gf)?Gf:sl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ul(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ll(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=TU(this._rawAsyncValidators)}},Xf=class extends Jf{constructor(e,t,r){super(nR(t),rR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bU(this,!0,e),Object.keys(e).forEach(r=>{DU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Yf(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var x_=new J("",{providedIn:"root",factory:()=>F_}),F_="always";function CU(n,e){return[...e.path,n]}function iR(n,e,t=F_){oR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),AU(n,e),NU(n,e),RU(n,e),SU(n,e)}function qA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function SU(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function oR(n,e){let t=_U(n);e.validator!==null?n.setValidators(BA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=EU(n);e.asyncValidator!==null?n.setAsyncValidators(BA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();qA(e._rawValidators,i),qA(e._rawAsyncValidators,i)}function AU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&sR(n,e)})}function RU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&sR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function sR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function NU(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function MU(n,e){n==null,oR(n,e)}function PU(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function kU(n){return Object.getPrototypeOf(n.constructor)===ep}function OU(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function xU(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Qi?t=o:kU(o)?r=o:i=o}),i||r||t||null}var FU={provide:$a,useExisting:un(()=>ss)},cl=Promise.resolve(),ss=(()=>{class n extends $a{callSetDisabledState;get submitted(){return ft(this.submittedReactive)}_submitted=Ta(()=>this.submittedReactive());submittedReactive=hn(!1);_directives=new Set;form;ngSubmit=new ht;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Xf({},k_(t),O_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){cl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),iR(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){cl.then(()=>{let r=this._findContainer(t.path),i=new Xf({});MU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){cl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),OU(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new P_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(X(fl,10),X(ZA,10),X(x_,8))};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ot("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[nr([FU]),Xt]})}return n})();function zA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var LU=class extends Jf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(nR(t),rR(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(GA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Yf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){GA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VU={provide:dl,useExisting:un(()=>as)},WA=Promise.resolve(),as=(()=>{class n extends dl{_changeDetectorRef;callSetDisabledState;control=new LU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ht;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=xU(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),PU(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){iR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){WA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Jo(r);WA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?CU(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(X($a,9),X(fl,10),X(ZA,10),X(hl,10),X($i,8),X(x_,8))};static \u0275dir=Qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[nr([VU]),Xt,Yr]})}return n})();var za=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),jU={provide:hl,useExisting:un(()=>L_),multi:!0},L_=(()=>{class n extends ep{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ot("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[nr([jU]),Xt]})}return n})();var UU={provide:hl,useExisting:un(()=>np),multi:!0};function aR(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function BU(n){return n.split(":")[0]}var np=(()=>{class n extends ep{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=x(ni).injector;destroyRef=x(vr);cdr=x($i);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,af({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=aR(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=BU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ot("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[nr([UU]),Xt]})}return n})(),cR=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(aR(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(X(wr),X(Xr),X(np,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),$U={provide:hl,useExisting:un(()=>uR),multi:!0};function KA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function HU(n){return n.split(":")[0]}var uR=(()=>{class n extends ep{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=HU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ot("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[nr([$U]),Xt]})}return n})(),lR=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(KA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(KA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(X(wr),X(Xr),X(uR,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function dR(n){return typeof n=="number"?n:parseFloat(n)}var V_=(()=>{class n{_validator=UA;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):UA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,features:[Yr]})}return n})(),qU={provide:fl,useExisting:un(()=>j_),multi:!0},j_=(()=>{class n extends V_{max;inputName="max";normalizeInput=t=>dR(t);createValidator=t=>pU(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ui("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[nr([qU]),Xt]})}return n})(),zU={provide:fl,useExisting:un(()=>U_),multi:!0},U_=(()=>{class n extends V_{min;inputName="min";normalizeInput=t=>dR(t);createValidator=t=>fU(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ui("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[nr([zU]),Xt]})}return n})(),GU={provide:fl,useExisting:un(()=>cs),multi:!0};var cs=(()=>{class n extends V_{required;inputName="required";normalizeInput=Jo;createValidator=t=>gU;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ui("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[nr([GU]),Xt]})}return n})();var WU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=fr({})}return n})();var Ga=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:x_,useValue:t.callSetDisabledState??F_}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=fr({imports:[WU]})}return n})();var hR=()=>{};var gR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},rp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(t[h],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new H_;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},H_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QU=function(n){let e=gR(n);return rp.encodeByteArray(e,!0)},gl=function(n){return QU(n).replace(/\./g,"")},ip=function(n){try{return rp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZU=()=>z_().__FIREBASE_DEFAULTS__,YU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ip(n[1]);return e&&JSON.parse(e)},op=()=>{try{return hR()||ZU()||YU()||JU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},G_=n=>{var e,t;return(t=(e=op())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mR=n=>{let e=G_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},W_=()=>{var n;return(n=op())===null||n===void 0?void 0:n.config},K_=n=>{var e;return(e=op())===null||e===void 0?void 0:e[`_${n}`]};var us=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Zi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sp(n){return(await fetch(n,{credentials:"include"})).ok}function yR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gl(JSON.stringify(t)),gl(JSON.stringify(s)),""].join(".")}var pl={};function XU(){let n={prod:[],emulator:[]};for(let e of Object.keys(pl))pl[e]?n.emulator.push(e):n.prod.push(e);return n}function eB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var fR=!1;function ap(n,e){if(typeof window>"u"||typeof document>"u"||!Zi(window.location.host)||pl[n]===e||pl[n]||fR)return;pl[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=XU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{fR=!0,s()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=eB(r),v=t("text"),C=document.getElementById(v)||document.createElement("span"),P=t("learnmore"),M=document.getElementById(P)||document.createElement("a"),V=t("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let O=g.element;a(O),h(M,P);let Y=l();u(F,V),O.append(F,C,M,Y),document.body.appendChild(O)}o?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function tB(){var n;let e=(n=op())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ER(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){let n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TR(){return!tB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ml(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var nB="FirebaseError",Rn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}},ir=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?rB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rn(i,a,r)}};function rB(n,e){return n.replace(iB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var iB=/\{\$([^}]+)}/g;function bR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(pR(o)&&pR(s)){if(!Sr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function pR(n){return n!==null&&typeof n=="object"}function yl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ka(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CR(n,e){let t=new q_(n,e);return t.subscribe.bind(t)}var q_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=$_),i.error===void 0&&(i.error=$_),i.complete===void 0&&(i.complete=$_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $_(){}var Qie=14400*1e3;function Ct(n){return n&&n._delegate?n._delegate:n}var nn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ls="[DEFAULT]";var Q_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new us;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aB(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sB(n){return n===ls?void 0:n}function aB(n){return n.instantiationMode==="EAGER"}var cp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Q_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var cB=[],Ne=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ne||{}),uB={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},lB=Ne.INFO,dB={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},hB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=dB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ar=class{constructor(e){this.name=e,this._logLevel=lB,this._logHandler=hB,this._userLogHandler=null,cB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var fB=(n,e)=>e.some(t=>n instanceof t),SR,AR;function pB(){return SR||(SR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gB(){return AR||(AR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RR=new WeakMap,Y_=new WeakMap,NR=new WeakMap,Z_=new WeakMap,X_=new WeakMap;function mB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Rr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&RR.set(t,n)}).catch(()=>{}),X_.set(e,n),e}function yB(n){if(Y_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Y_.set(n,e)}var J_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Y_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||NR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function MR(n){J_=n(J_)}function vB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(up(this),e,...t);return NR.set(r,e.sort?e.sort():[e]),Rr(r)}:gB().includes(n)?function(...e){return n.apply(up(this),e),Rr(RR.get(this))}:function(...e){return Rr(n.apply(up(this),e))}}function _B(n){return typeof n=="function"?vB(n):(n instanceof IDBTransaction&&yB(n),fB(n,pB())?new Proxy(n,J_):n)}function Rr(n){if(n instanceof IDBRequest)return mB(n);if(Z_.has(n))return Z_.get(n);let e=_B(n);return e!==n&&(Z_.set(n,e),X_.set(e,n)),e}var up=n=>X_.get(n);function kR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Rr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Rr(s.result),u.oldVersion,u.newVersion,Rr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var EB=["get","getKey","getAll","getAllKeys","count"],IB=["put","add","delete","clear"],eE=new Map;function PR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(eE.get(e))return eE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=IB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EB.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return eE.set(e,o),o}MR(n=>be(B({},n),{get:(e,t,r)=>PR(e,t)||n.get(e,t,r),has:(e,t)=>!!PR(e,t)||n.has(e,t)}));var nE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function wB(n){let e=n.getComponent();return e?.type==="VERSION"}var rE="@firebase/app",OR="0.13.2";var ai=new Ar("@firebase/app"),TB="@firebase/app-compat",DB="@firebase/analytics-compat",bB="@firebase/analytics",CB="@firebase/app-check-compat",SB="@firebase/app-check",AB="@firebase/auth",RB="@firebase/auth-compat",NB="@firebase/database",MB="@firebase/data-connect",PB="@firebase/database-compat",kB="@firebase/functions",OB="@firebase/functions-compat",xB="@firebase/installations",FB="@firebase/installations-compat",LB="@firebase/messaging",VB="@firebase/messaging-compat",jB="@firebase/performance",UB="@firebase/performance-compat",BB="@firebase/remote-config",$B="@firebase/remote-config-compat",HB="@firebase/storage",qB="@firebase/storage-compat",zB="@firebase/firestore",GB="@firebase/ai",WB="@firebase/firestore-compat",KB="firebase",QB="11.10.0";var iE="[DEFAULT]",ZB={[rE]:"fire-core",[TB]:"fire-core-compat",[bB]:"fire-analytics",[DB]:"fire-analytics-compat",[SB]:"fire-app-check",[CB]:"fire-app-check-compat",[AB]:"fire-auth",[RB]:"fire-auth-compat",[NB]:"fire-rtdb",[MB]:"fire-data-connect",[PB]:"fire-rtdb-compat",[kB]:"fire-fn",[OB]:"fire-fn-compat",[xB]:"fire-iid",[FB]:"fire-iid-compat",[LB]:"fire-fcm",[VB]:"fire-fcm-compat",[jB]:"fire-perf",[UB]:"fire-perf-compat",[BB]:"fire-rc",[$B]:"fire-rc-compat",[HB]:"fire-gcs",[qB]:"fire-gcs-compat",[zB]:"fire-fst",[WB]:"fire-fst-compat",[GB]:"fire-vertex","fire-js":"fire-js",[KB]:"fire-js-all"};var vl=new Map,YB=new Map,oE=new Map;function xR(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function or(n){let e=n.name;if(oE.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;oE.set(e,n);for(let t of vl.values())xR(t,n);for(let t of YB.values())xR(t,n);return!0}function Qa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gn(n){return n==null?!1:n.settings!==void 0}var JB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new ir("app","Firebase",JB);var sE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}};var Ji=QB;function uE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:iE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(t||(t=W_()),!t)throw Yi.create("no-options");let o=vl.get(i);if(o){if(Sr(t,o.options)&&Sr(r,o.config))return o;throw Yi.create("duplicate-app",{appName:i})}let s=new cp(i);for(let u of oE.values())s.addComponent(u);let a=new sE(t,r,s);return vl.set(i,a),a}function ds(n=iE){let e=vl.get(n);if(!e&&n===iE&&W_())return uE();if(!e)throw Yi.create("no-app",{appName:n});return e}function lp(){return Array.from(vl.values())}function st(n,e,t){var r;let i=(r=ZB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}or(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var XB="firebase-heartbeat-database",e$=1,_l="firebase-heartbeat-store",tE=null;function jR(){return tE||(tE=kR(XB,e$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yi.create("idb-open",{originalErrorMessage:n.message})})),tE}async function t$(n){try{let t=(await jR()).transaction(_l),r=await t.objectStore(_l).get(UR(n));return await t.done,r}catch(e){if(e instanceof Rn)ai.warn(e.message);else{let t=Yi.create("idb-get",{originalErrorMessage:e?.message});ai.warn(t.message)}}}async function FR(n,e){try{let r=(await jR()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,UR(n)),await r.done}catch(t){if(t instanceof Rn)ai.warn(t.message);else{let r=Yi.create("idb-set",{originalErrorMessage:t?.message});ai.warn(r.message)}}}function UR(n){return`${n.name}!${n.options.appId}`}var n$=1024,r$=30,aE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new cE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>r$){let s=o$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=LR(),{heartbeatsToSend:r,unsentEntries:i}=i$(this._heartbeatsCache.heartbeats),o=gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ai.warn(t),""}}};function LR(){return new Date().toISOString().substring(0,10)}function i$(n,e=n$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),VR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var cE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ml()?DR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await t$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return FR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return FR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function VR(n){return gl(JSON.stringify({version:2,heartbeats:n})).length}function o$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function s$(n){or(new nn("platform-logger",e=>new nE(e),"PRIVATE")),or(new nn("heartbeat",e=>new aE(e),"PRIVATE")),st(rE,OR,n),st(rE,OR,"esm2017"),st("fire-js","")}s$("");var a$="firebase",c$="11.10.0";st(a$,c$,"app");function BR(n){n===void 0&&(n=x(dt));let e=n.get(pa);return t=>new we(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Xi=new No("ANGULARFIRE2_VERSION");function El(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ya=(n,e)=>{let t=e?[e]:lp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Za=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Za||{}),$R=zv()&&typeof Zone<"u"?Za.WARN:Za.SILENT;var dp=class{zone;delegate;constructor(e,t=Nm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},eo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(Le);this.outsideAngular=t.runOutsideAngular(()=>new dp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new dp(typeof Zone>"u"?void 0:Zone.current,Rm))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HR=!1;function u$(n,e){!HR&&($R>Za.SILENT||zv())&&(HR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),$R>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function l$(n){let e=x(Le,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hs(n){let e=x(Le,{optional:!0});return e?e.run(()=>n()):n()}var d$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),wt(t,()=>hs(()=>n.apply(void 0,r)))),St=(n,e,t)=>(t||=e?Za.WARN:Za.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(eo),s=x(pa),a=x(lt)}catch{return u$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=hs(()=>s.add())),i[l]=d$(i[l],r,a));let u=l$(()=>n.apply(this,i));return e?u instanceof we?u.pipe(Si(o.outsideAngular),Ci(o.insideAngular),BR(a)):u instanceof Promise?hs(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>wt(a,()=>hs(()=>h(g))),g=>wt(a,()=>hs(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:hs(()=>u):u instanceof we?u.pipe(Si(o.outsideAngular),Ci(o.insideAngular)):hs(()=>u)});var ci=class{constructor(e){return e}},fs=class{constructor(){return lp()}};function h$(n){return n&&n.length===1?n[0]:new ci(ds())}var lE=new J("angularfire2._apps"),f$={provide:ci,useFactory:h$,deps:[[new Dn,lE]]},p$={provide:fs,deps:[[new Dn,lE]]};function g$(n){return(e,t)=>{let r=t.get(ji);st("angularfire",Xi.full,"core"),st("angularfire",Xi.full,"app"),st("angular",Km.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ci(i)}}function qR(n,...e){return pr([f$,p$,{provide:lE,useFactory:g$(n),multi:!0,deps:[Le,dt,eo,...e]}])}var zR=St(uE,!0);var m$=new Map,y$={activated:!1,tokenObservers:[]},v$={initialized:!1,enabled:!1};function sr(n){return m$.get(n)||Object.assign({},y$)}function QR(){return v$}var _$="https://content-firebaseappcheck.googleapis.com/v1";var E$="exchangeDebugToken",GR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Qoe=1440*60*1e3;var fE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new us,this.pending.promise.catch(t=>{}),await I$(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new us,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function I$(n){return new Promise(e=>{setTimeout(e,n)})}var w$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},to=new ir("appCheck","AppCheck",w$);function ZR(n){if(!sr(n).activated)throw to.create("use-before-activation",{appName:n.name})}async function YR({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw to.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw to.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw to.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw to.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function JR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_$}/projects/${t}/apps/${r}:${E$}?key=${i}`,body:{debug_token:e}}}var T$="firebase-app-check-database",D$=1,pE="firebase-app-check-store";var hp=null;function b$(){return hp||(hp=new Promise((n,e)=>{try{let t=indexedDB.open(T$,D$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(to.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pE,{keyPath:"compositeKey"})}}}catch(t){e(to.create("storage-open",{originalErrorMessage:t?.message}))}}),hp)}function C$(n,e){return S$(A$(n),e)}async function S$(n,e){let r=(await b$()).transaction(pE,"readwrite"),o=r.objectStore(pE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(to.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function A$(n){return`${n.options.appId}-${n.name}`}var Il=new Ar("@firebase/app-check");function dE(n,e){return ml()?C$(n,e).catch(t=>{Il.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XR(){return QR().enabled}async function eN(){let n=QR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var R$={error:"UNKNOWN_ERROR"};function N$(n){return rp.encodeString(JSON.stringify(n),!1)}async function gE(n,e=!1,t=!1){let r=n.app;ZR(r);let i=sr(r),o=i.token,s;if(o&&!wl(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(wl(l)?o=l:await dE(r,void 0))}if(!e&&o&&wl(o))return{token:o.token};let a=!1;if(XR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=YR(JR(r,await eN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await dE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Il.warn(l.message):t&&Il.error(l),hE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await sr(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Il.warn(l.message):t&&Il.error(l),s=l}let u;return o?s?wl(o)?u={token:o.token,internalError:s}:u=hE(s):(u={token:o.token},i.token=o,await dE(r,o)):u=hE(s),a&&O$(r,u),u}async function M$(n){let e=n.app;ZR(e);let{provider:t}=sr(e);if(XR()){let r=await eN(),{token:i}=await YR(JR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function P$(n,e,t,r){let{app:i}=n,o=sr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&wl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),WR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WR(n))}function tN(n,e){let t=sr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function WR(n){let{app:e}=n,t=sr(e),r=t.tokenRefresher;r||(r=k$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function k$(n){let{app:e}=n;return new fE(async()=>{let t=sr(e),r;if(t.token?r=await gE(n,!0):r=await gE(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=sr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},GR.RETRIAL_MIN_WAIT,GR.RETRIAL_MAX_WAIT)}function O$(n,e){let t=sr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function wl(n){return n.expireTimeMillis-Date.now()>0}function hE(n){return{token:N$(R$),error:n}}var mE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=sr(this.app);for(let t of e)tN(this.app,t.next);return Promise.resolve()}};function x$(n,e){return new mE(n,e)}function F$(n){return{getToken:e=>gE(n,e),getLimitedUseToken:()=>M$(n),addTokenListener:e=>P$(n,"INTERNAL",e),removeTokenListener:e=>tN(n.app,e)}}var L$="@firebase/app-check",V$="0.10.1";var j$="app-check",KR="app-check-internal";function U$(){or(new nn(j$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return x$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KR).initialize()})),or(new nn(KR,n=>{let e=n.getProvider("app-check").getImmediate();return F$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),st(L$,V$)}U$();var B$="app-check";var Ja=class{constructor(){return Ya(B$)}};var $$=["localhost","0.0.0.0","127.0.0.1"],ase=typeof window<"u"&&$$.includes(window.location.hostname);function yN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vN=yN,_N=new ir("auth","Firebase",yN());var vp=new Ar("@firebase/auth");function H$(n,...e){vp.logLevel<=Ne.WARN&&vp.warn(`Auth (${Ji}): ${n}`,...e)}function pp(n,...e){vp.logLevel<=Ne.ERROR&&vp.error(`Auth (${Ji}): ${n}`,...e)}function Mr(n,...e){throw BE(n,...e)}function ps(n,...e){return BE(n,...e)}function EN(n,e,t){let r=Object.assign(Object.assign({},vN()),{[e]:t});return new ir("auth","Firebase",r).create(e,{appName:n.name})}function di(n){return EN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _N.create(n,...e)}function le(n,e,...t){if(!n)throw BE(e,...t)}function ui(n){let e="INTERNAL ASSERTION FAILED: "+n;throw pp(e),new Error(e)}function io(n,e){n||ui(e)}function EE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function q$(){return nN()==="http:"||nN()==="https:"}function nN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q$()||ER()||"connection"in navigator)?navigator.onLine:!0}function G$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile=vR()||IR()}get(){return z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $E(n,e){io(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var _p=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var W$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var K$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q$=new gs(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function so(n,e,t,r,i={}){return IN(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=yl(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return _R()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(l.credentials="include"),_p.fetch()(await wN(n,n.config.apiHost,t,a),l)})}async function IN(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},W$),e);try{let i=new IE(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw fp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw fp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw fp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw EN(n,h,l);Mr(n,h)}}catch(i){if(i instanceof Rn)throw i;Mr(n,"network-request-failed",{message:String(i)})}}async function Ml(n,e,t,r,i={}){let o=await so(n,e,t,r,i);return"mfaPendingCredential"in o&&Mr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function wN(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?$E(n.config,i):`${n.config.apiScheme}://${i}`;return K$.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Z$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var IE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),Q$.get())})}};function fp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ps(n,e,r);return i.customData._tokenResponse=t,i}function rN(n){return n!==void 0&&n.enterprise!==void 0}var wE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function Y$(n,e){return so(n,"GET","/v2/recaptchaConfig",oo(n,e))}async function J$(n,e){return so(n,"POST","/v1/accounts:delete",e)}async function Ep(n,e){return so(n,"POST","/v1/accounts:lookup",e)}function Dl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HE(n,e=!1){let t=Ct(n),r=await t.getIdToken(e),i=qE(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Dl(yE(i.auth_time)),issuedAtTime:Dl(yE(i.iat)),expirationTime:Dl(yE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yE(n){return Number(n)*1e3}function qE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pp("JWT malformed, contained fewer than 3 sections"),null;try{let i=ip(t);return i?JSON.parse(i):(pp("Failed to decode base64 JWT payload"),null)}catch(i){return pp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function iN(n){let e=qE(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Rn&&X$(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function X$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var TE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Sl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ip(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Cl(n,Ep(t,{idToken:r}));le(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TN(o.providerUserInfo):[],a=e6(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Sl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function zE(n){let e=Ct(n);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TN(n){return n.map(e=>{var{providerId:t}=e,r=Mm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function t6(n,e){let t=await IN(n,{},async()=>{let r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await wN(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(u.credentials="include"),_p.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function n6(n,e){return so(n,"POST","/v2/accounts:revokeToken",oo(n,e))}var bl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=iN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await t6(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ui("not implemented")}};function no(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ro=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sl(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HE(this,e)}reload(){return zE(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(di(this.auth));let e=await this.getIdToken();return await Cl(this,J$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,F=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:O,emailVerified:Y,isAnonymous:fe,providerData:ie,stsTokenManager:D}=t;le(O&&D,e,"internal-error");let y=bl.fromJSON(this.name,D);le(typeof O=="string",e,"internal-error"),no(p,e.name),no(g,e.name),le(typeof Y=="boolean",e,"internal-error"),le(typeof fe=="boolean",e,"internal-error"),no(v,e.name),no(C,e.name),no(P,e.name),no(M,e.name),no(V,e.name),no(F,e.name);let E=new n({uid:O,auth:e,email:g,emailVerified:Y,displayName:p,isAnonymous:fe,photoURL:C,phoneNumber:v,tenantId:P,stsTokenManager:y,createdAt:V,lastLoginAt:F});return ie&&Array.isArray(ie)&&(E.providerData=ie.map(I=>Object.assign({},I))),M&&(E._redirectEventId=M),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new bl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ip(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new bl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var oN=new Map;function li(n){io(n instanceof Function,"Expected a class definition");let e=oN.get(n);return e?(io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oN.set(n,e),e)}var r6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),DE=r6;function gp(n,e,t){return`firebase:${n}:${e}:${t}`}var wp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gp(this.userKey,i.apiKey,o),this.fullPersistenceKey=gp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Ep(this.auth,{idToken:e}).catch(()=>{});return t?ro._fromGetAccountInfoResponse(this.auth,t,e):null}return ro._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(li(DE),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||li(DE),s=gp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await Ep(e,{idToken:h}).catch(()=>{});if(!g)break;p=await ro._fromGetAccountInfoResponse(e,g,h)}else p=ro._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function sN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RN(e))return"Blackberry";if(NN(e))return"Webos";if(bN(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(AN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function DN(n=bt()){return/firefox\//i.test(n)}function bN(n=bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(n=bt()){return/crios\//i.test(n)}function SN(n=bt()){return/iemobile/i.test(n)}function AN(n=bt()){return/android/i.test(n)}function RN(n=bt()){return/blackberry/i.test(n)}function NN(n=bt()){return/webos/i.test(n)}function GE(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i6(n=bt()){var e;return GE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o6(){return wR()&&document.documentMode===10}function MN(n=bt()){return GE(n)||AN(n)||NN(n)||RN(n)||/windows phone/i.test(n)||SN(n)}function PN(n,e=[]){let t;switch(n){case"Browser":t=sN(bt());break;case"Worker":t=`${sN(bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ji}/${r}`}var bE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function s6(n,e={}){return so(n,"GET","/v2/passwordPolicy",oo(n,e))}var a6=6,CE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:a6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var SE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tp(this),this.idTokenSubscription=new Tp(this),this.beforeStateQueue=new bE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await wp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Ep(this,{idToken:e}),r=await ro._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(di(this));let t=e?Ct(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await s6(this),t=new CE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ir("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await n6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&li(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=await wp.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&H$(`Error while retrieving App Check token: ${t.error}`),t?.token}};function ys(n){return Ct(n)}var Tp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c6(n){Np=n}function kN(n){return Np.loadJS(n)}function u6(){return Np.recaptchaEnterpriseScript}function l6(){return Np.gapiScript}function ON(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var AE=class{constructor(){this.enterprise=new RE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},RE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var d6="recaptcha-enterprise",xN="NO_RECAPTCHA",NE=class{constructor(e){this.type=d6,this.auth=ys(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Y$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new wE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;rN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(xN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&rN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=u6();u.length!==0&&(u+=a),kN(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Tl(n,e,t,r=!1,i=!1){let o=new NE(n),s;if(i)s=xN;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ME(n,e,t,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Tl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await Tl(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await Tl(n,e,t);return r(n,a).catch(async u=>{var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=await Tl(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{let a=await Tl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function WE(n,e){let t=Qa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Sr(o,e??{}))return i;Mr(i,"already-initialized")}return t.initialize({options:e})}function h6(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function KE(n,e,t){let r=ys(n);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=FN(e),{host:s,port:a}=f6(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Sr(l,r.config.emulator)&&Sr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Zi(s)?(sp(`${o}//${s}${u}`),ap("Auth",!0)):i||p6()}function FN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f6(n){let e=FN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:aN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:aN(s)}}}function aN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function p6(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Al=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}};async function g6(n,e){return so(n,"POST","/v1/accounts:signUp",e)}async function m6(n,e){return Ml(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))}async function y6(n,e){return Ml(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}async function v6(n,e){return Ml(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}var Rl=class n extends Al{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ME(e,t,"signInWithPassword",m6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y6(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ME(e,r,"signUpPassword",g6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v6(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function vE(n,e){return Ml(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))}function _6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E6(n){let e=Wa(Ka(n)).link,t=e?Wa(Ka(e)).deep_link_id:null,r=Wa(Ka(n)).deep_link_id;return(r?Wa(Ka(r)).link:null)||r||t||e||n}var Dp=class n{constructor(e){var t,r,i,o,s,a;let u=Wa(Ka(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=_6((i=u.mode)!==null&&i!==void 0?i:null);le(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=E6(e);try{return new n(t)}catch{return null}}};var LN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Rl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Dp.parseLink(r);return le(i,"argument-error"),Rl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),bp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var PE=class extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function I6(n,e){return Ml(n,"POST","/v1/accounts:signUp",oo(n,e))}var Xa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await ro._fromIdTokenResponse(e,r,i),s=cN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=cN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function cN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var kE=class n extends Rn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function VN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kE._fromErrorAndOperation(n,o,e,r):o})}async function w6(n,e,t=!1){let r=await Cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xa._forOperation(n,"link",r)}async function T6(n,e,t=!1){let{auth:r}=n;if(gn(r.app))return Promise.reject(di(r));let i="reauthenticate";try{let o=await Cl(n,VN(r,i,e,n),t);le(o.idToken,r,"internal-error");let s=qE(o.idToken);le(s,r,"internal-error");let{sub:a}=s;return le(n.uid===a,r,"user-mismatch"),Xa._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mr(r,"user-mismatch"),o}}async function jN(n,e,t=!1){if(gn(n.app))return Promise.reject(di(n));let r="signIn",i=await VN(n,r,e),o=await Xa._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function QE(n,e){return jN(ys(n),e)}async function UN(n){let e=ys(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZE(n,e,t){if(gn(n.app))return Promise.reject(di(n));let r=ys(n),s=await ME(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I6,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&UN(n),u}),a=await Xa._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function YE(n,e,t){return gn(n.app)?Promise.reject(di(n)):QE(Ct(n),LN.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UN(n),r})}function JE(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function XE(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function eI(n){return Ct(n).signOut()}var Cp="__sak";var Sp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var D6=1e3,b6=10,C6=(()=>{class n extends Sp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);o6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,b6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),BN=C6;var S6=(()=>{class n extends Sp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),tI=S6;function A6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var R6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await A6(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function $N(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var OE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=$N("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Nr(){return window}function N6(n){Nr().location.href=n}function HN(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function M6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function k6(){return HN()?self:null}var qN="firebaseLocalStorageDb",O6=1,Ap="firebaseLocalStorage",zN="fbase_key",ms=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Mp(n,e){return n.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function x6(){let n=indexedDB.deleteDatabase(qN);return new ms(n).toPromise()}function xE(){let n=indexedDB.open(qN,O6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ap,{keyPath:zN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Ap)?e(r):(r.close(),await x6(),e(await xE()))})})}async function uN(n,e,t){let r=Mp(n,!0).put({[zN]:e,value:t});return new ms(r).toPromise()}async function F6(n,e){let t=Mp(n,!1).get(e),r=await new ms(t).toPromise();return r===void 0?null:r.value}function lN(n,e){let t=Mp(n,!0).delete(e);return new ms(t).toPromise()}var L6=800,V6=3,j6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xE(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>V6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=R6._getInstance(k6()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await M6(),!this.activeServiceWorker)return;this.sender=new OE(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||P6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await xE();return await uN(t,Cp,"1"),await lN(t,Cp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>uN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>F6(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>lN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=Mp(o,!1).getAll();return new ms(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),GN=j6;var gse=ON("rcb"),mse=new gs(3e4,6e4);function U6(n,e){return e?li(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Nl=class extends Al{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function B6(n){return jN(n.auth,new Nl(n),n.bypassAuthState)}function $6(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),T6(t,new Nl(n),n.bypassAuthState)}async function H6(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),w6(t,new Nl(n),n.bypassAuthState)}var FE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B6;case"linkViaPopup":case"linkViaRedirect":return H6;case"reauthViaPopup":case"reauthViaRedirect":return $6;default:Mr(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yse=new gs(2e3,1e4);var q6="pendingRedirect",mp=new Map,LE=class extends FE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mp.get(this.auth._key());if(!e){try{let r=await z6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mp.set(this.auth._key(),e)}return this.bypassAuthState||mp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function z6(n,e){let t=K6(e),r=W6(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function G6(n,e){mp.set(n._key(),e)}function W6(n){return li(n._redirectPersistence)}function K6(n){return gp(q6,n.config.apiKey,n.name)}async function Q6(n,e,t=!1){if(gn(n.app))return Promise.reject(di(n));let r=ys(n),i=U6(r,e),s=await new LE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var Z6=600*1e3,VE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ps(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z6&&this.cachedEventUids.clear(),this.cachedEventUids.has(dN(e))}saveEventToCache(e){this.cachedEventUids.add(dN(e)),this.lastProcessedEventTime=Date.now()}};function dN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WN(n);default:return!1}}async function J6(n,e={}){return so(n,"GET","/v1/projects",e)}var X6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eH=/^https?/;async function tH(n){if(n.config.emulator)return;let{authorizedDomains:e}=await J6(n);for(let t of e)try{if(nH(t))return}catch{}Mr(n,"unauthorized-domain")}function nH(n){let e=EE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!eH.test(t))return!1;if(X6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var rH=new gs(3e4,6e4);function hN(){let n=Nr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iH(n){return new Promise((e,t)=>{var r,i,o;function s(){hN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hN(),t(ps(n,"network-request-failed"))},timeout:rH.get()})}if(!((i=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Nr().gapi)===null||o===void 0)&&o.load)s();else{let a=ON("iframefcb");return Nr()[a]=()=>{gapi.load?s():t(ps(n,"network-request-failed"))},kN(`${l6()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw yp=null,e})}var yp=null;function oH(n){return yp=yp||iH(n),yp}var sH=new gs(5e3,15e3),aH="__/auth/iframe",cH="emulator/auth/iframe",uH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dH(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?$E(e,cH):`https://${n.config.authDomain}/${aH}`,r={apiKey:e.apiKey,appName:n.name,v:Ji},i=lH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${yl(r).slice(1)}`}async function hH(n){let e=await oH(n),t=Nr().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:dH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=ps(n,"network-request-failed"),a=Nr().setTimeout(()=>{o(s)},sH.get());function u(){Nr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var fH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pH=500,gH=600,mH="_blank",yH="http://localhost",Rp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function vH(n,e,t,r=pH,i=gH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},fH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=bt().toLowerCase();t&&(a=CN(l)?mH:t),DN(l)&&(e=e||yH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,C])=>`${g}${v}=${C},`,"");if(i6(l)&&a!=="_self")return _H(e||"",a),new Rp(null);let p=window.open(e||"",a,h);le(p,n,"popup-blocked");try{p.focus()}catch{}return new Rp(p)}function _H(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var EH="__/auth/handler",IH="emulator/auth/handler",wH=encodeURIComponent("fac");async function fN(n,e,t,r,i,o){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ji,eventId:i};if(e instanceof bp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",bR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof PE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${wH}=${encodeURIComponent(u)}`:"";return`${TH(n)}?${yl(a).slice(1)}${l}`}function TH({config:n}){return n.emulator?$E(n,IH):`https://${n.authDomain}/${EH}`}var _E="webStorageSupport",jE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=Q6,this._overrideRedirectResult=G6}async _openPopup(e,t,r,i){var o;io((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await fN(e,t,r,EE(),i);return vH(e,s,$N())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await fN(e,t,r,EE(),i);return N6(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(io(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await hH(e),r=new VE(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_E,{type:_E},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[_E];s!==void 0&&t(!!s),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MN()||bN()||GE()}},KN=jE;var pN="@firebase/auth",gN="1.10.8";var UE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function DH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bH(n){or(new nn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PN(n)},l=new SE(r,i,o,u);return h6(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),or(new nn("auth-internal",e=>{let t=ys(e.getProvider("auth").getImmediate());return(r=>new UE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(pN,gN,DH(n)),st(pN,gN,"esm2017")}var CH=300,SH=K_("authIdTokenMaxAge")||CH,mN=null,AH=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>SH)return;let i=t?.token;mN!==i&&(mN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nI(n=ds()){let e=Qa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=WE(n,{popupRedirectResolver:KN,persistence:[GN,BN,tI]}),r=K_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=AH(o.toString());XE(t,s,()=>s(t.currentUser)),JE(t,a=>s(a))}}let i=G_("auth");return i&&KE(t,`http://${i}`),t}function RH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}c6({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ps("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",RH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bH("Browser");var QN="auth",Nn=class{constructor(e){return e}},Pl=class{constructor(){return Ya(QN)}};var rI=new J("angularfire2.auth-instances");function v4(n,e){let t=El(QN,n,e);return t&&new Nn(t)}function _4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Nn(r)}}var E4={provide:Pl,deps:[[new Dn,rI]]},I4={provide:Nn,useFactory:v4,deps:[[new Dn,rI],ci]};function ZN(n,...e){return st("angularfire",Xi.full,"auth"),pr([I4,E4,{provide:rI,useFactory:_4(n),multi:!0,deps:[Le,dt,eo,fs,[new Dn,Ja],...e]}])}var YN=St(ZE,!0,2);var JN=St(nI,!0);var XN=St(YE,!0,2);var ec=St(eI,!0,2);var eM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tM={};var hi,oI;(function(){var n;function e(D,y){function E(){}E.prototype=y.prototype,D.D=y.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(I,w,T){for(var _=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)_[Ze-2]=arguments[Ze];return y.prototype[w].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)I[w]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(w=0;16>w;++w)I[w]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=D.g[0],E=D.g[1],w=D.g[2];var T=D.g[3],_=y+(T^E&(w^T))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[1]+3905402710&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[2]+606105819&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(T^E&(w^T))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[5]+1200080426&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[6]+2821735955&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(T^E&(w^T))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[9]+2336552879&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[10]+4294925233&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(T^E&(w^T))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=T+(w^y&(E^w))+I[13]+4254626195&4294967295,T=y+(_<<12&4294967295|_>>>20),_=w+(E^T&(y^E))+I[14]+2792965006&4294967295,w=T+(_<<17&4294967295|_>>>15),_=E+(y^w&(T^y))+I[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(w^T&(E^w))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[6]+3225465664&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[11]+643717713&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^T&(E^w))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[10]+38016083&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[15]+3634488961&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^T&(E^w))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[14]+3275163606&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[3]+4107603335&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^T&(E^w))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=T+(E^w&(y^E))+I[2]+4243563512&4294967295,T=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(T^y))+I[7]+1735328473&4294967295,w=T+(_<<14&4294967295|_>>>18),_=E+(T^y&(w^T))+I[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(E^w^T)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[8]+2272392833&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[11]+1839030562&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^T)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[4]+1272893353&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[7]+4139469664&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^T)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[0]+3936430074&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[3]+3572445317&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^T)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=T+(y^E^w)+I[12]+3873151461&4294967295,T=y+(_<<11&4294967295|_>>>21),_=w+(T^y^E)+I[15]+530742520&4294967295,w=T+(_<<16&4294967295|_>>>16),_=E+(w^T^y)+I[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(w^(E|~T))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[7]+1126891415&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[14]+2878612391&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~T))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[3]+2399980690&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[10]+4293915773&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~T))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[15]+4264355552&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[6]+2734768916&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~T))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=T+(E^(y|~w))+I[11]+3174756917&4294967295,T=y+(_<<10&4294967295|_>>>22),_=w+(y^(T|~E))+I[2]+718787259&4294967295,w=T+(_<<15&4294967295|_>>>17),_=E+(T^(w|~y))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+w&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var E=y-this.blockSize,I=this.B,w=this.h,T=0;T<y;){if(w==0)for(;T<=E;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(I[w++]=D.charCodeAt(T++),w==this.blockSize){i(this,I),w=0;break}}else for(;T<y;)if(I[w++]=D[T++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var E=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=E&255,E/=256;for(this.u(D),D=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)D[E++]=this.g[y]>>>I&255;return D};function o(D,y){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=y(D)}function s(D,y){this.h=y;for(var E=[],I=!0,w=D.length-1;0<=w;w--){var T=D[w]|0;I&&T==y||(E[w]=T,I=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var y=[],E=1,I=0;D>=E;I++)y[I]=D/E|0,E*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return M(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,w=0;w<D.length;w+=8){var T=Math.min(8,D.length-w),_=parseInt(D.substring(w,w+T),y);8>T?(T=l(Math.pow(y,T)),I=I.j(T).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),g=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-M(this).m();for(var D=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);D+=(0<=I?I:4294967296+I)*y,y*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(P(this))return"-"+M(this).toString(D);for(var y=l(Math.pow(D,6)),E=this,I="";;){var w=Y(E,y).g;E=V(E,w.j(y));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=w,C(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function P(D){return D.h==-1}n.l=function(D){return D=V(this,D),P(D)?-1:C(D)?0:1};function M(D){for(var y=D.g.length,E=[],I=0;I<y;I++)E[I]=~D.g[I];return new s(E,~D.h).add(g)}n.abs=function(){return P(this)?M(this):this},n.add=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0,w=0;w<=y;w++){var T=I+(this.i(w)&65535)+(D.i(w)&65535),_=(T>>>16)+(this.i(w)>>>16)+(D.i(w)>>>16);I=_>>>16,T&=65535,_&=65535,E[w]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function V(D,y){return D.add(M(y))}n.j=function(D){if(C(this)||C(D))return p;if(P(this))return P(D)?M(this).j(M(D)):M(M(this).j(D));if(P(D))return M(this.j(M(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var w=0;w<D.g.length;w++){var T=this.i(I)>>>16,_=this.i(I)&65535,Ze=D.i(w)>>>16,Ge=D.i(w)&65535;E[2*I+2*w]+=_*Ge,F(E,2*I+2*w),E[2*I+2*w+1]+=T*Ge,F(E,2*I+2*w+1),E[2*I+2*w+1]+=_*Ze,F(E,2*I+2*w+1),E[2*I+2*w+2]+=T*Ze,F(E,2*I+2*w+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function F(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function O(D,y){this.g=D,this.h=y}function Y(D,y){if(C(y))throw Error("division by zero");if(C(D))return new O(p,p);if(P(D))return y=Y(M(D),y),new O(M(y.g),M(y.h));if(P(y))return y=Y(D,M(y)),new O(M(y.g),y.h);if(30<D.g.length){if(P(D)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var E=g,I=y;0>=I.l(D);)E=fe(E),I=fe(I);var w=ie(E,1),T=ie(I,1);for(I=ie(I,2),E=ie(E,2);!C(I);){var _=T.add(I);0>=_.l(D)&&(w=w.add(E),T=_),I=ie(I,1),E=ie(E,1)}return y=V(D,w.j(y)),new O(w,y)}for(w=p;0<=D.l(y);){for(E=Math.max(1,Math.floor(D.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(E),_=T.j(y);P(_)||0<_.l(D);)E-=I,T=l(E),_=T.j(y);C(T)&&(T=g),w=w.add(T),D=V(D,_)}return new O(w,D)}n.A=function(D){return Y(this,D).h},n.and=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&D.i(I);return new s(E,this.h&D.h)},n.or=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|D.i(I);return new s(E,this.h|D.h)},n.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^D.i(I);return new s(E,this.h^D.h)};function fe(D){for(var y=D.g.length+1,E=[],I=0;I<y;I++)E[I]=D.i(I)<<1|D.i(I-1)>>>31;return new s(E,D.h)}function ie(D,y){var E=y>>5;y%=32;for(var I=D.g.length-E,w=[],T=0;T<I;T++)w[T]=0<y?D.i(T+E)>>>y|D.i(T+E+1)<<32-y:D.i(T+E);return new s(w,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oI=tM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,hi=tM.Integer=s}).apply(typeof eM<"u"?eM:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fi={};var sI,w4,tc,aI,kl,kp,cI,uI,lI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in f))break e;f=f[S]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,S={next:function(){if(!m&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,S,N){for(var H=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)H[Ke-2]=arguments[Ke];return d.prototype[S].apply(m,H)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let S=c.length||0,N=m.length||0;c.length=S+N;for(let H=0;H<N;H++)c[S+H]=m[H]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function F(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var fe=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function ie(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)c[f]=m[f];for(let N=0;N<E.length;N++)f=E[N],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function w(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=A;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,f){let m=Ge.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ge=new V(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let G,b=!1,A=new Ze,ee=()=>{let c=a.Promise.resolve(void 0);G=()=>{c.then(ce)}};var ce=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){T(f)}var d=Ge;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}b=!1};function Fe(){this.s=this.s,this.C=this.C}Fe.prototype.s=!1,Fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var lr=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Wt(c,d){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(fe){e:{try{Y(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Wt.aa.h.call(this)}}C(Wt,oe);var qn={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),$=0;function U(c,d,f,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++$,this.da=this.fa=!1}function R(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function j(c){this.src=c,this.g={},this.h=0}j.prototype.add=function(c,d,f,m,S){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var H=ae(c,d,m,S);return-1<H?(d=c[H],f||(d.fa=!1)):(d=new U(d,this.src,N,!!m,S),d.fa=f,c.push(d)),d};function te(c,d){var f=d.type;if(f in c.g){var m=c.g[f],S=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=S)&&Array.prototype.splice.call(m,S,1),N&&(R(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ae(c,d,f,m){for(var S=0;S<c.length;++S){var N=c[S];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return S}return-1}var Z="closure_lm_"+(1e6*Math.random()|0),pe={};function Ee(c,d,f,m,S){if(m&&m.once)return $e(c,d,f,m,S);if(Array.isArray(d)){for(var N=0;N<d.length;N++)Ee(c,d[N],f,m,S);return null}return f=vo(f),c&&c[Nt]?c.K(d,f,l(m)?!!m.capture:!!m,S):Ie(c,d,f,!1,m,S)}function Ie(c,d,f,m,S,N){if(!d)throw Error("Invalid event type");var H=l(S)?!!S.capture:!!S,Ke=xs(c);if(Ke||(c[Z]=Ke=new j(c)),f=Ke.add(d,f,m,H,N),f.proxy)return f;if(m=We(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)lr||(S=H),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(Vr(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function We(){function c(f){return d.call(c.src,c.listener,f)}let d=Sc;return c}function $e(c,d,f,m,S){if(Array.isArray(d)){for(var N=0;N<d.length;N++)$e(c,d[N],f,m,S);return null}return f=vo(f),c&&c[Nt]?c.L(d,f,l(m)?!!m.capture:!!m,S):Ie(c,d,f,!0,m,S)}function zn(c,d,f,m,S){if(Array.isArray(d))for(var N=0;N<d.length;N++)zn(c,d[N],f,m,S);else m=l(m)?!!m.capture:!!m,f=vo(f),c&&c[Nt]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=ae(N,f,m,S),-1<f&&(R(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=xs(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ae(d,f,m,S)),(f=-1<c?d[c]:null)&&rn(f))}function rn(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Nt])te(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Vr(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=xs(d))?(te(f,c),f.h==0&&(f.src=null,d[Z]=null)):R(c)}}}function Vr(c){return c in pe?pe[c]:pe[c]="on"+c}function Sc(c,d){if(c.da)c=!0;else{d=new Wt(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&rn(c),c=f.call(m,d)}return c}function xs(c){return c=c[Z],c instanceof j?c:null}var Ac="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(c){return typeof c=="function"?c:(c[Ac]||(c[Ac]=function(d){return c.handleEvent(d)}),c[Ac])}function _t(){Fe.call(this),this.i=new j(this),this.M=this,this.F=null}C(_t,Fe),_t.prototype[Nt]=!0,_t.prototype.removeEventListener=function(c,d,f,m){zn(this,c,d,f,m)};function tt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new oe(d,c);else if(d instanceof oe)d.target=d.target||c;else{var S=d;d=new oe(m,c),I(d,S)}if(S=!0,f)for(var N=f.length-1;0<=N;N--){var H=d.g=f[N];S=_o(H,m,!0,d)&&S}if(H=d.g=c,S=_o(H,m,!0,d)&&S,S=_o(H,m,!1,d)&&S,f)for(N=0;N<f.length;N++)H=d.g=f[N],S=_o(H,m,!1,d)&&S}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)R(f[m]);delete c.g[d],c.h--}}this.F=null},_t.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},_t.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function _o(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,N=0;N<d.length;++N){var H=d[N];if(H&&!H.da&&H.capture==f){var Ke=H.listener,Mt=H.ha||H.src;H.fa&&te(c.i,H),S=Ke.call(Mt,m)!==!1&&S}}return S&&!m.defaultPrevented}function Eo(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Rc(c){c.g=Eo(()=>{c.g=null,c.i&&(c.i=!1,Rc(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Xl extends Fe{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(c){Fe.call(this),this.h=c,this.g={}}C(Gn,Fe);var on=[];function mn(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&rn(d)},c),c.g={}}Gn.prototype.N=function(){Gn.aa.N.call(this),mn(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vg=a.JSON.stringify,zk=a.JSON.parse,Gk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jg(){}jg.prototype.h=null;function RT(c){return c.h||(c.h=c.i())}function NT(){}var Nc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ug(){oe.call(this,"d")}C(Ug,oe);function Bg(){oe.call(this,"c")}C(Bg,oe);var Io={},MT=null;function ed(){return MT=MT||new _t}Io.La="serverreachability";function PT(c){oe.call(this,Io.La,c)}C(PT,oe);function Mc(c){let d=ed();tt(d,new PT(d))}Io.STAT_EVENT="statevent";function kT(c,d){oe.call(this,Io.STAT_EVENT,c),this.stat=d}C(kT,oe);function Kt(c){let d=ed();tt(d,new kT(d,c))}Io.Ma="timingevent";function OT(c,d){oe.call(this,Io.Ma,c),this.size=d}C(OT,oe);function Pc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function kc(){this.g=!0}kc.prototype.xa=function(){this.g=!1};function Wk(c,d,f,m,S,N){c.info(function(){if(c.g)if(N)for(var H="",Ke=N.split("&"),Mt=0;Mt<Ke.length;Mt++){var xe=Ke[Mt].split("=");if(1<xe.length){var Lt=xe[0];xe=xe[1];var Vt=Lt.split("_");H=2<=Vt.length&&Vt[1]=="type"?H+(Lt+"="+xe+"&"):H+(Lt+"=redacted&")}}else H=null;else H=N;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+H})}function Kk(c,d,f,m,S,N,H){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+N+" "+H})}function Fs(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Zk(c,f)+(m?" "+m:"")})}function Qk(c,d){c.info(function(){return"TIMEOUT: "+d})}kc.prototype.info=function(){};function Zk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if(N!="noop"&&N!="stop"&&N!="close")for(var H=1;H<S.length;H++)S[H]=""}}}}return Vg(f)}catch{return d}}var td={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$g;function nd(){}C(nd,jg),nd.prototype.g=function(){return new XMLHttpRequest},nd.prototype.i=function(){return{}},$g=new nd;function Ii(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FT}function FT(){this.i=null,this.g="",this.h=!1}var LT={},Hg={};function qg(c,d,f){c.L=1,c.v=sd(jr(d)),c.m=f,c.P=!0,VT(c,null)}function VT(c,d){c.F=Date.now(),rd(c),c.A=jr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),JT(f.i,"t",m),c.C=0,f=c.j.J,c.h=new FT,c.g=mD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Xl(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(on[0]=S.toString()),S=on);for(var N=0;N<S.length;N++){var H=Ee(f,S[N],m||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Mc(),Wk(c.i,c.u,c.A,c.l,c.R,c.m)}Ii.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ur(c)==3?d.j():this.Y(c)},Ii.prototype.Y=function(c){try{if(c==this.g)e:{let Vt=Ur(this.g);var d=this.g.Ba();let js=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||oD(this.g)))){this.J||Vt!=4||d==7||(d==8||0>=js?Mc(3):Mc(2)),zg(this);var f=this.g.Z();this.X=f;t:if(jT(this)){var m=oD(this.g);c="";var S=m.length,N=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),Oc(this);var H="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(N&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,Kk(this.i,this.u,this.A,this.l,this.R,Vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Mt=this.g;if((Ke=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ke)){var xe=Ke;break t}}xe=null}if(f=xe)Fs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,f);else{this.o=!1,this.s=3,Kt(12),wo(this),Oc(this);break e}}if(this.P){f=!0;let Wn;for(;!this.J&&this.C<H.length;)if(Wn=Yk(this,H),Wn==Hg){Vt==4&&(this.s=4,Kt(14),f=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==LT){this.s=4,Kt(15),Fs(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Fs(this.i,this.l,Wn,null),Gg(this,Wn);if(jT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||H.length!=0||this.h.h||(this.s=1,Kt(16),f=!1),this.o=this.o&&f,!f)Fs(this.i,this.l,H,"[Invalid Chunked Response]"),wo(this),Oc(this);else if(0<H.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Jg(Lt),Lt.M=!0,Kt(11))}}else Fs(this.i,this.l,H,null),Gg(this,H);Vt==4&&wo(this),this.o&&!this.J&&(Vt==4?hD(this.j,this):(this.o=!1,rd(this)))}else pO(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),wo(this),Oc(this)}}}catch{}finally{}};function jT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Yk(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Hg:(f=Number(d.substring(f,m)),isNaN(f)?LT:(m+=1,m+f>d.length?Hg:(d=d.slice(m,m+f),c.C=m+f,d)))}Ii.prototype.cancel=function(){this.J=!0,wo(this)};function rd(c){c.S=Date.now()+c.I,UT(c,c.I)}function UT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pc(g(c.ba,c),d)}function zg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ii.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Qk(this.i,this.A),this.L!=2&&(Mc(),Kt(17)),wo(this),this.s=2,Oc(this)):UT(this,this.S-c)};function Oc(c){c.j.G==0||c.J||hD(c.j,c)}function wo(c){zg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,mn(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Wg(f.h,c))){if(!c.K&&Wg(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)dd(f),ud(f);else break e;Yg(f),Kt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Pc(g(f.Za,f),6e3));if(1>=HT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Do(f,11)}else if((c.K||f.g==c)&&dd(f),!F(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let xe=S[d];if(f.T=xe[0],xe=xe[1],f.G==2)if(xe[0]=="c"){f.K=xe[1],f.ia=xe[2];let Lt=xe[3];Lt!=null&&(f.la=Lt,f.j.info("VER="+f.la));let Vt=xe[4];Vt!=null&&(f.Aa=Vt,f.j.info("SVER="+f.Aa));let js=xe[5];js!=null&&typeof js=="number"&&0<js&&(m=1.5*js,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Wn=c.g;if(Wn){let fd=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fd){var N=m.h;N.g||fd.indexOf("spdy")==-1&&fd.indexOf("quic")==-1&&fd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Kg(N,N.h),N.h=null))}if(m.D){let Xg=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xg&&(m.ya=Xg,Ye(m.I,m.D,Xg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var H=c;if(m.qa=gD(m,m.J?m.ia:null,m.W),H.K){qT(m.h,H);var Ke=H,Mt=m.L;Mt&&(Ke.I=Mt),Ke.B&&(zg(Ke),rd(Ke)),m.g=H}else lD(m);0<f.i.length&&ld(f)}else xe[0]!="stop"&&xe[0]!="close"||Do(f,7);else f.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Do(f,7):Zg(f):xe[0]!="noop"&&f.l&&f.l.ta(xe),f.v=0)}}Mc(4)}catch{}}var Jk=class{constructor(c,d){this.g=c,this.map=d}};function BT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $T(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function HT(c){return c.h?1:c.g?c.g.size:0}function Wg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kg(c,d){c.g?c.g.add(d):c.h=d}function qT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}BT.prototype.cancel=function(){if(this.i=zT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function zT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function Xk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function eO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function GT(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=eO(c),m=Xk(c),S=m.length,N=0;N<S;N++)d.call(void 0,m[N],f&&f[N],c)}var WT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tO(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),S=null;if(0<=m){var N=c[f].substring(0,m);S=c[f].substring(m+1)}else N=c[f];d(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function To(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof To){this.h=c.h,id(this,c.j),this.o=c.o,this.g=c.g,od(this,c.s),this.l=c.l;var d=c.i,f=new Lc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),KT(this,f),this.m=c.m}else c&&(d=String(c).match(WT))?(this.h=!1,id(this,d[1]||"",!0),this.o=xc(d[2]||""),this.g=xc(d[3]||"",!0),od(this,d[4]),this.l=xc(d[5]||"",!0),KT(this,d[6]||"",!0),this.m=xc(d[7]||"")):(this.h=!1,this.i=new Lc(null,this.h))}To.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Fc(d,QT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Fc(d,QT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Fc(f,f.charAt(0)=="/"?iO:rO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Fc(f,sO)),c.join("")};function jr(c){return new To(c)}function id(c,d,f){c.j=f?xc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function od(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function KT(c,d,f){d instanceof Lc?(c.i=d,aO(c.i,c.h)):(f||(d=Fc(d,oO)),c.i=new Lc(d,c.h))}function Ye(c,d,f){c.i.set(d,f)}function sd(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,nO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var QT=/[#\/\?@]/g,rO=/[#\?:]/g,iO=/[#\?]/g,oO=/[#\?@]/g,sO=/#/g;function Lc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function wi(c){c.g||(c.g=new Map,c.h=0,c.i&&tO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Lc.prototype,n.add=function(c,d){wi(this),this.i=null,c=Ls(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function ZT(c,d){wi(c),d=Ls(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function YT(c,d){return wi(c),d=Ls(c,d),c.g.has(d)}n.forEach=function(c,d){wi(this),this.g.forEach(function(f,m){f.forEach(function(S){c.call(d,S,m,this)},this)},this)},n.na=function(){wi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=c[m];for(let N=0;N<S.length;N++)f.push(d[m])}return f},n.V=function(c){wi(this);let d=[];if(typeof c=="string")YT(this,c)&&(d=d.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return wi(this),this.i=null,c=Ls(this,c),YT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function JT(c,d,f){ZT(c,d),0<f.length&&(c.i=null,c.g.set(Ls(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),H=this.V(m);for(m=0;m<H.length;m++){var S=N;H[m]!==""&&(S+="="+encodeURIComponent(String(H[m]))),c.push(S)}}return this.i=c.join("&")};function Ls(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function aO(c,d){d&&!c.j&&(wi(c),c.i=null,c.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(ZT(this,m),JT(this,S,f))},c)),c.j=d}function cO(c,d){let f=new kc;if(a.Image){let m=new Image;m.onload=v(Ti,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Ti,f,"TestLoadImage: error",!1,d,m),m.onabort=v(Ti,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Ti,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function uO(c,d){let f=new kc,m=new AbortController,S=setTimeout(()=>{m.abort(),Ti(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(N=>{clearTimeout(S),N.ok?Ti(f,"TestPingServer: ok",!0,d):Ti(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Ti(f,"TestPingServer: error",!1,d)})}function Ti(c,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function lO(){this.g=new Gk}function dO(c,d,f){let m=f||"";try{GT(c,function(S,N){let H=S;l(S)&&(H=Vg(S)),d.push(m+N+"="+encodeURIComponent(H))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function Vc(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Vc,jg),Vc.prototype.g=function(){return new ad(this.l,this.j)},Vc.prototype.i=(function(c){return function(){return c}})({});function ad(c,d){_t.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ad,_t),n=ad.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Uc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function XT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?jc(this):Uc(this),this.readyState==3&&XT(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jc(this))},n.Qa=function(c){this.g&&(this.response=c,jc(this))},n.ga=function(){this.g&&jc(this)};function jc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Uc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Uc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eD(c){let d="";return ie(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Qg(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=eD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ye(c,d,f))}function nt(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,_t);var hO=/^https?$/i,fO=["POST","PUT"];n=nt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$g.g(),this.v=this.o?RT(this.o):RT($g),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){tD(this,N);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fO,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,H]of f)this.g.setRequestHeader(N,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iD(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){tD(this,N)}};function tD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,nD(c),cd(c)}function nD(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),cd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cd(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rD(this):this.bb())},n.bb=function(){rD(this)};function rD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ur(c)!=4||c.Z()!=2)){if(c.u&&Ur(c)==4)Eo(c.Ea,0,c);else if(tt(c,"readystatechange"),Ur(c)==4){c.h=!1;try{let H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=H===0){var S=String(c.D).match(WT)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!hO.test(S?S.toLowerCase():"")}f=m}if(f)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var N=2<Ur(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",nD(c)}}finally{cd(c)}}}}function cd(c,d){if(c.g){iD(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||tt(c,"ready");try{f.onreadystatechange=m}catch{}}}function iD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Ur(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),zk(d)}};function oD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pO(c){let d={};c=(c.g&&2<=Ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(F(c[m]))continue;var f=w(c[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[S]||[];d[S]=N,N.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function sD(c){this.Aa=0,this.i=[],this.j=new kc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bc("baseRetryDelayMs",5e3,c),this.cb=Bc("retryDelaySeedMs",1e4,c),this.Wa=Bc("forwardChannelMaxRetries",2,c),this.wa=Bc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new BT(c&&c.concurrentRequestLimit),this.Da=new lO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sD.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Kt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=gD(this,null,this.W),ld(this)};function Zg(c){if(aD(c),c.G==3){var d=c.U++,f=jr(c.I);if(Ye(f,"SID",c.K),Ye(f,"RID",d),Ye(f,"TYPE","terminate"),$c(c,f),d=new Ii(c,c.j,d),d.L=2,d.v=sd(jr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rd(d)}pD(c)}function ud(c){c.g&&(Jg(c),c.g.cancel(),c.g=null)}function aD(c){ud(c),c.u&&(a.clearTimeout(c.u),c.u=null),dd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ld(c){if(!$T(c.h)&&!c.s){c.s=!0;var d=c.Ga;G||ee(),b||(G(),b=!0),A.add(d,c),c.B=0}}function gO(c,d){return HT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pc(g(c.Ga,c,d),fD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new Ii(this,this.j,c),N=this.o;if(this.S&&(N?(N=y(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(S.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=uD(this,S,d),f=jr(this.I),Ye(f,"RID",c),Ye(f,"CVER",22),this.D&&Ye(f,"X-HTTP-Session-Id",this.D),$c(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(eD(N)))+"&"+d:this.m&&Qg(f,this.m,N)),Kg(this.h,S),this.Ua&&Ye(f,"TYPE","init"),this.P?(Ye(f,"$req",d),Ye(f,"SID","null"),S.T=!0,qg(S,f,null)):qg(S,f,d),this.G=2}}else this.G==3&&(c?cD(this,c):this.i.length==0||$T(this.h)||cD(this))};function cD(c,d){var f;d?f=d.l:f=c.U++;let m=jr(c.I);Ye(m,"SID",c.K),Ye(m,"RID",f),Ye(m,"AID",c.T),$c(c,m),c.m&&c.o&&Qg(m,c.m,c.o),f=new Ii(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=uD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kg(c.h,f),qg(f,m,d)}function $c(c,d){c.H&&ie(c.H,function(f,m){Ye(d,m,f)}),c.l&&GT({},function(f,m){Ye(d,m,f)})}function uD(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var S=c.i;let N=-1;for(;;){let H=["count="+f];N==-1?0<f?(N=S[0].g,H.push("ofs="+N)):N=0:H.push("ofs="+N);let Ke=!0;for(let Mt=0;Mt<f;Mt++){let xe=S[Mt].g,Lt=S[Mt].map;if(xe-=N,0>xe)N=Math.max(0,S[Mt].g-100),Ke=!1;else try{dO(Lt,H,"req"+xe+"_")}catch{m&&m(Lt)}}if(Ke){m=H.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function lD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;G||ee(),b||(G(),b=!0),A.add(d,c),c.v=0}}function Yg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pc(g(c.Fa,c),fD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,dD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ud(this),dD(this))};function Jg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dD(c){c.g=new Ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=jr(c.qa);Ye(d,"RID","rpc"),Ye(d,"SID",c.K),Ye(d,"AID",c.T),Ye(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(d,"TO",c.ja),Ye(d,"TYPE","xmlhttp"),$c(c,d),c.m&&c.o&&Qg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=sd(jr(d)),f.m=null,f.P=!0,VT(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ud(this),Yg(this),Kt(19))};function dd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hD(c,d){var f=null;if(c.g==d){dd(c),Jg(c),c.g=null;var m=2}else if(Wg(c.h,d))f=d.D,qT(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=ed(),tt(m,new OT(m,f)),ld(c)}else lD(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&gO(c,d)||m==2&&Yg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:Do(c,5);break;case 4:Do(c,10);break;case 3:Do(c,6);break;default:Do(c,2)}}}function fD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Do(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let S=!m;m=new To(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||id(m,"https"),sd(m),S?cO(m.toString(),f):uO(m.toString(),f)}else Kt(2);c.G=0,c.l&&c.l.sa(d),pD(c),aD(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function pD(c){if(c.G=0,c.ka=[],c.l){let d=zT(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function gD(c,d,f){var m=f instanceof To?jr(f):new To(f);if(m.g!="")d&&(m.g=d+"."+m.g),od(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var N=new To(null);m&&id(N,m),d&&(N.g=d),S&&od(N,S),f&&(N.l=f),m=N}return f=c.D,d=c.ya,f&&d&&Ye(m,f,d),Ye(m,"VER",c.la),$c(c,m),m}function mD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new nt(new Vc({eb:f})):new nt(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yD(){}n=yD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hd(){}hd.prototype.g=function(c,d){return new yn(c,d)};function yn(c,d){_t.call(this),this.g=new sD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!F(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!F(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Vs(this)}C(yn,_t),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Zg(this.g)},yn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Vg(c),c=f);d.i.push(new Jk(d.Ya++,c)),d.G==3&&ld(d)},yn.prototype.N=function(){this.g.l=null,delete this.j,Zg(this.g),delete this.g,yn.aa.N.call(this)};function vD(c){Ug.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(vD,Ug);function _D(){Bg.call(this),this.status=1}C(_D,Bg);function Vs(c){this.g=c}C(Vs,yD),Vs.prototype.ua=function(){tt(this.g,"a")},Vs.prototype.ta=function(c){tt(this.g,new vD(c))},Vs.prototype.sa=function(c){tt(this.g,new _D)},Vs.prototype.ra=function(){tt(this.g,"b")},hd.prototype.createWebChannel=hd.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,lI=fi.createWebChannelTransport=function(){return new hd},uI=fi.getStatEventTarget=function(){return ed()},cI=fi.Event=Io,kp=fi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},td.NO_ERROR=0,td.TIMEOUT=8,td.HTTP_ERROR=6,kl=fi.ErrorCode=td,xT.COMPLETE="complete",aI=fi.EventType=xT,NT.EventType=Nc,Nc.OPEN="a",Nc.CLOSE="b",Nc.ERROR="c",Nc.MESSAGE="d",_t.prototype.listen=_t.prototype.K,tc=fi.WebChannel=NT,w4=fi.FetchXmlHttpFactory=Vc,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,sI=fi.XhrIo=nt}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var nM="@firebase/firestore",rM="4.8.0";var At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");var Ic="11.10.0";var Ts=new Ar("@firebase/firestore");function nc(){return Ts.logLevel}function z(n,...e){if(Ts.logLevel<=Ne.DEBUG){let t=e.map(Xw);Ts.debug(`Firestore (${Ic}): ${n}`,...t)}}function gi(n,...e){if(Ts.logLevel<=Ne.ERROR){let t=e.map(Xw);Ts.error(`Firestore (${Ic}): ${n}`,...t)}}function fo(n,...e){if(Ts.logLevel<=Ne.WARN){let t=e.map(Xw);Ts.warn(`Firestore (${Ic}): ${n}`,...t)}}function Xw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ZM(n,r,t)}function ZM(n,e,t){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gi(r),new Error(r)}function Be(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||ZM(e,i,r)}function me(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends Rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Up=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(At.UNAUTHENTICATED))}shutdown(){}},mI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},yI=class{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new Up(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new At(e)}},vI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},_I=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new vI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},EI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Bp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function T4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function YM(){return new TextEncoder}var jl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=T4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Ae(n,e){return n<e?-1:n>e?1:0}function II(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ae(r,i);{let o=YM(),s=D4(o.encode(iM(n,t)),o.encode(iM(e,t)));return s!==0?s:Ae(r,i)}}t+=r>65535?2:1}return Ae(n.length,e.length)}function iM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function D4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ae(n[t],e[t]);return Ae(n.length,e.length)}function lc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var oM="__name__",$p=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):II(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}},Xe=class n extends $p{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},b4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mn=class n extends $p{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return b4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oM}static keyField(){return new n([oM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(Xe.fromString(e))}static fromName(e){return new n(Xe.fromString(e).popFirst(5))}static empty(){return new n(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Xe(e.slice()))}};function JM(n,e,t){if(!t)throw new q(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C4(n,e,t,r){if(e===!0&&r===!0)throw new q(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sM(n){if(!re.isDocumentKey(n))throw new q(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aM(n){if(re.isDocumentKey(n))throw new q(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XM(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function Is(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Eg(n);throw new q(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Zl(n,e){if(!XM(n))throw new q(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new q(k.INVALID_ARGUMENT,t);return!0}var cM=-62135596800,uM=1e6,vt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cM)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uM}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-cM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:yt("string",vt._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};var ve=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new vt(0,0))}static max(){return new n(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ul=-1,wI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};wI.UNKNOWN_ID=-1;function S4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new vt(t+1,0):new vt(t,r));return new Ds(i,re.empty(),e)}function A4(n){return new Ds(n.readTime,n.key,Ul)}var Ds=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),re.empty(),Ul)}static max(){return new n(ve.max(),re.empty(),Ul)}};function R4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:Ae(n.largestBatchId,e.largestBatchId))}var N4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function wc(n){if(n.code!==k.FAILED_PRECONDITION||n.message!==N4)throw n;z("LocalStore","Unexpectedly lost primary lease")}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function M4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tc(n){return n.name==="IndexedDbTransactionError"}var eT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),tT=-1;function Ig(n){return n==null}function Bl(n){return n===0&&1/n==-1/0}function P4(n){return typeof n=="number"&&Number.isInteger(n)&&!Bl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var eP="";function k4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lM(e)),e=O4(n.get(t),e);return lM(e)}function O4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case eP:t+="";break;default:t+=o}}return t}function lM(n){return n+eP+""}var x4="remoteDocuments",tP="owner";var nP="mutationQueues";var rP="mutations";var iP="documentMutations",F4="remoteDocumentsV14";var oP="remoteDocumentGlobal";var sP="targets";var aP="targetDocuments";var cP="targetGlobal",uP="collectionParents";var lP="clientMetadata";var dP="bundles";var hP="namedQueries";var L4="indexConfiguration";var V4="indexState";var j4="indexEntries";var fP="documentOverlays";var U4="globals";var B4=[nP,rP,iP,x4,sP,tP,cP,aP,lP,oP,uP,dP,hP],gae=[...B4,fP],$4=[nP,rP,iP,F4,sP,tP,cP,aP,lP,oP,uP,dP,hP,fP],H4=$4,q4=[...H4,L4,V4,j4];var mae=[...q4,U4];function dM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ps(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var at=class n{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}},sc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}};kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class n{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hp(this.data.getIterator())}getIteratorFrom(e){return new Hp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Hp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pr=class n{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Rt(Mn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var qp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qp("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gt.EMPTY_BYTE_STRING=new Gt("");var z4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(Be(!!n,39018),typeof n=="string"){let e=0,t=z4.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(n.seconds),nanos:Je(n.nanos)}}function Je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yi(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}var gP="server_timestamp",mP="__type__",yP="__previous_value__",vP="__local_write_time__";function nT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mP])===null||t===void 0?void 0:t.stringValue)===gP}function wg(n){let e=n.mapValue.fields[yP];return nT(e)?wg(e):e}function $l(n){let e=mi(n.mapValue.fields[vP].timestampValue);return new vt(e.seconds,e.nanos)}var DI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},zp="(default)",Gp=class n{constructor(e,t){this.projectId=e,this.database=t||zp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===zp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rT="__type__",_P="__max__",Op={mapValue:{fields:{__type__:{stringValue:_P}}}},iT="__vector__",dc="value";function po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nT(n)?4:IP(n)?9007199254740991:EP(n)?10:11:se(28295,{value:n})}function Fr(n,e){if(n===e)return!0;let t=po(n);if(t!==po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mi(i.timestampValue),a=mi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Je(i.geoPointValue.latitude)===Je(o.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Je(i.integerValue)===Je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Je(i.doubleValue),a=Je(o.doubleValue);return s===a?Bl(s)===Bl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dM(s)!==dM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Fr(s[u],a[u])))return!1;return!0})(n,e);default:return se(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function hc(n,e){if(n===e)return 0;let t=po(n),r=po(e);if(t!==r)return Ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Je(o.integerValue||o.doubleValue),u=Je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return hM(n.timestampValue,e.timestampValue);case 4:return hM($l(n),$l(e));case 5:return II(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=yi(o),u=yi(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ae(a[l],u[l]);if(h!==0)return h}return Ae(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Ae(Je(o.latitude),Je(s.latitude));return a!==0?a:Ae(Je(o.longitude),Je(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fM(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},v=(a=p[dc])===null||a===void 0?void 0:a.arrayValue,C=(u=g[dc])===null||u===void 0?void 0:u.arrayValue,P=Ae(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:fM(v,C)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Op.mapValue&&s===Op.mapValue)return 0;if(o===Op.mapValue)return 1;if(s===Op.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=II(u[p],h[p]);if(g!==0)return g;let v=hc(a[u[p]],l[h[p]]);if(v!==0)return v}return Ae(u.length,h.length)})(n.mapValue,e.mapValue);default:throw se(23264,{le:t})}}function hM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ae(n,e);let t=mi(n),r=mi(e),i=Ae(t.seconds,r.seconds);return i!==0?i:Ae(t.nanos,r.nanos)}function fM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=hc(t[i],r[i]);if(o)return o}return Ae(t.length,r.length)}function fc(n){return bI(n)}function bI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=mi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return yi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return re.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=bI(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${bI(t.fields[s])}`;return i+"}"})(n.mapValue):se(61005,{value:n})}function Lp(n){switch(po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=wg(n);return e?16+Lp(e):16;case 5:return 2*n.stringValue.length;case 6:return yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Lp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ps(r.fields,(o,s)=>{i+=o.length+Lp(s)}),i})(n.mapValue);default:throw se(13486,{value:n})}}function pM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CI(n){return!!n&&"integerValue"in n}function oT(n){return!!n&&"arrayValue"in n}function gM(n){return!!n&&"nullValue"in n}function mM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function EP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||t===void 0?void 0:t.stringValue)===iT}function xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ps(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_P}var vae={mapValue:{fields:{[rT]:{stringValue:iT},[dc]:{arrayValue:{}}}}};var ar=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=Mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=xl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ps(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(xl(this.value))}};function wP(n){let e=[];return Ps(n.fields,(t,r)=>{let i=new Mn([t]);if(Vp(r)){let o=wP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Pr(e)}var cr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),ar.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pc=class{constructor(e,t){this.position=e,this.inclusive=t}};function yM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),t.key):r=hc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}var bs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function G4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Wp=class{},mt=class n extends Wp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new AI(e,t,r):t==="array-contains"?new MI(e,r):t==="in"?new PI(e,r):t==="not-in"?new kI(e,r):t==="array-contains-any"?new OI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new RI(e,r):new NI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hc(t,this.value)):t!==null&&po(this.value)===po(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ur=class n extends Wp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return TP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function TP(n){return n.op==="and"}function DP(n){return W4(n)&&TP(n)}function W4(n){for(let e of n.filters)if(e instanceof ur)return!1;return!0}function SI(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+fc(n.value);if(DP(n))return n.filters.map(e=>SI(e)).join(",");{let e=n.filters.map(t=>SI(t)).join(",");return`${n.op}(${e})`}}function bP(n,e){return n instanceof mt?(function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)})(n,e):n instanceof ur?(function(r,i){return i instanceof ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bP(s,i.filters[a]),!0):!1})(n,e):void se(19439)}function CP(n){return n instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${fc(t.value)}`})(n):n instanceof ur?(function(t){return t.op.toString()+" {"+t.getFilters().map(CP).join(" ,")+"}"})(n):"Filter"}var AI=class extends mt{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},RI=class extends mt{constructor(e,t){super(e,"in",t),this.keys=SP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},NI=class extends mt{constructor(e,t){super(e,"not-in",t),this.keys=SP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function SP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>re.fromName(r.referenceValue))}var MI=class extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oT(t)&&Hl(t.arrayValue,this.value)}},PI=class extends mt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}},kI=class extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}},OI=class extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}};var xI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function _M(n,e=null,t=[],r=[],i=null,o=null,s=null){return new xI(n,e,t,r,i,o,s)}function sT(n){let e=me(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Ig(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fc(r)).join(",")),e.Pe=t}return e.Pe}function aT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!G4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vM(n.startAt,e.startAt)&&vM(n.endAt,e.endAt)}function FI(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var go=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function K4(n,e,t,r,i,o,s,a){return new go(n,e,t,r,i,o,s,a)}function cT(n){return new go(n)}function EM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AP(n){return n.collectionGroup!==null}function Fl(n){let e=me(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(Mn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new bs(o,r))}),t.has(Mn.keyField().canonicalString())||e.Te.push(new bs(Mn.keyField(),r))}return e.Te}function Or(n){let e=me(n);return e.Ie||(e.Ie=Q4(e,Fl(n))),e.Ie}function Q4(n,e){if(n.limitType==="F")return _M(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bs(i.field,o)});let t=n.endAt?new pc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pc(n.startAt.position,n.startAt.inclusive):null;return _M(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function LI(n,e){let t=n.filters.concat([e]);return new go(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function VI(n,e,t){return new go(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tg(n,e){return aT(Or(n),Or(e))&&n.limitType===e.limitType}function RP(n){return`${sT(Or(n))}|lt:${n.limitType}`}function rc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>CP(i)).join(", ")}]`),Ig(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`})(Or(n))}; limitType=${n.limitType})`}function Dg(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Fl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=yM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Fl(r),i)||r.endAt&&!(function(s,a,u){let l=yM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Fl(r),i))})(n,e)}function Z4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NP(n){return(e,t)=>{let r=!1;for(let i of Fl(n)){let o=Y4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Y4(n,e,t){let r=n.field.isKeyField()?re.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?hc(u,l):se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:n.dir})}}var vi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return pP(this.inner)}size(){return this.innerSize}};var J4=new at(re.comparator);function _i(){return J4}var MP=new at(re.comparator);function Ol(...n){let e=MP;for(let t of n)e=e.insert(t.key,t);return e}function PP(n){let e=MP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vs(){return Ll()}function kP(){return Ll()}function Ll(){return new vi(n=>n.toString(),(n,e)=>n.isEqual(e))}var X4=new at(re.comparator),e3=new Rt(re.comparator);function Pe(...n){let e=e3;for(let t of n)e=e.add(t);return e}var t3=new Rt(Ae);function n3(){return t3}function uT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function OP(n){return{integerValue:""+n}}function r3(n,e){return P4(e)?OP(e):uT(n,e)}var gc=class{constructor(){this._=void 0}};function i3(n,e,t){return n instanceof mc?(function(i,o){let s={fields:{[mP]:{stringValue:gP},[vP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nT(o)&&(o=wg(o)),o&&(s.fields[yP]=o),{mapValue:s}})(t,e):n instanceof Cs?FP(n,e):n instanceof Ss?LP(n,e):(function(i,o){let s=xP(i,o),a=IM(s)+IM(i.Ee);return CI(s)&&CI(i.Ee)?OP(a):uT(i.serializer,a)})(n,e)}function o3(n,e,t){return n instanceof Cs?FP(n,e):n instanceof Ss?LP(n,e):t}function xP(n,e){return n instanceof yc?(function(r){return CI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var mc=class extends gc{},Cs=class extends gc{constructor(e){super(),this.elements=e}};function FP(n,e){let t=VP(e);for(let r of n.elements)t.some(i=>Fr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ss=class extends gc{constructor(e){super(),this.elements=e}};function LP(n,e){let t=VP(e);for(let r of n.elements)t=t.filter(i=>!Fr(i,r));return{arrayValue:{values:t}}}var yc=class extends gc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function IM(n){return Je(n.integerValue||n.doubleValue)}function VP(n){return oT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function s3(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Cs&&i instanceof Cs||r instanceof Ss&&i instanceof Ss?lc(r.elements,i.elements,Fr):r instanceof yc&&i instanceof yc?Fr(r.Ee,i.Ee):r instanceof mc&&i instanceof mc})(n.transform,e.transform)}var jI=class{constructor(e,t){this.version=e,this.transformResults=t}},ao=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vc=class{};function jP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kp(n.key,ao.none()):new As(n.key,n.data,ao.none());{let t=n.data,r=ar.empty(),i=new Rt(Mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ei(n.key,r,new Pr(i.toArray()),ao.none())}}function a3(n,e,t){n instanceof As?(function(i,o,s){let a=i.value.clone(),u=TM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Ei?(function(i,o,s){if(!jp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=TM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Vl(n,e,t,r){return n instanceof As?(function(o,s,a,u){if(!jp(o.precondition,s))return a;let l=o.value.clone(),h=DM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ei?(function(o,s,a,u){if(!jp(o.precondition,s))return a;let l=DM(o.fieldTransforms,u,s),h=s.data;return h.setAll(UP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return jp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function c3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=xP(r.transform,i||null);o!=null&&(t===null&&(t=ar.empty()),t.set(r.field,o))}return t||null}function wM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lc(r,i,(o,s)=>s3(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var As=class extends vc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ei=class extends vc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function UP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function TM(n,e,t){let r=new Map;Be(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,o3(s,a,t[i]))}return r}function DM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,i3(o,s,e))}return r}var Kp=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},UI=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var BI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&a3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Vl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=kP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=jP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,r)=>wM(t,r))&&lc(this.baseMutations,e.baseMutations,(t,r)=>wM(t,r))}},$I=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Be(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return X4})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var HI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var qI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var pt,Oe;function u3(n){switch(n){case k.OK:return se(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return se(15467,{code:n})}}function BP(n){if(n===void 0)return gi("GRPC error has no .code"),k.UNKNOWN;switch(n){case pt.OK:return k.OK;case pt.CANCELLED:return k.CANCELLED;case pt.UNKNOWN:return k.UNKNOWN;case pt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case pt.INTERNAL:return k.INTERNAL;case pt.UNAVAILABLE:return k.UNAVAILABLE;case pt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case pt.NOT_FOUND:return k.NOT_FOUND;case pt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case pt.ABORTED:return k.ABORTED;case pt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case pt.DATA_LOSS:return k.DATA_LOSS;default:return se(39323,{code:n})}}(Oe=pt||(pt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var bM=null;var l3=new hi([4294967295,4294967295],0);function CM(n){let e=YM().encode(n),t=new oI;return t.update(e),new Uint8Array(t.digest())}function SM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hi([t,r],0),new hi([i,o],0)]}var zI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=hi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(hi.fromNumber(r)));return i.compare(l3)===1&&(i=new hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=CM(e),[r,i]=SM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=CM(e),[r,i]=SM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Qp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new at(Ae),_i(),Pe())}},ql=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Pe(),Pe(),Pe())}};var ac=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Zp=class{constructor(e,t){this.targetId=e,this.De=t}},Yp=class{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Jp=class{constructor(){this.ve=0,this.Ce=AM(),this.Fe=Gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pe(),t=Pe(),r=Pe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:o})}}),new ql(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=AM()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},GI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=_i(),this.je=xp(),this.Je=xp(),this.He=new at(Ae)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(FI(o))if(r===0){let s=new re(o.path);this.Xe(t,s,cr.newNoDocument(s,ve.min()))}else Be(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}bM?.ct((function(h,p,g,v,C){var P,M,V,F,O,Y;let fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ie=p.unchangedNames;return ie&&(fe.bloomFilter={applied:C===0,hashCount:(P=ie?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(F=(V=(M=ie?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&F!==void 0?F:0,padding:(Y=(O=ie?.bits)===null||O===void 0?void 0:O.padding)!==null&&Y!==void 0?Y:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),fe})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=yi(r).toUint8Array()}catch(u){if(u instanceof qp)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new zI(s,i,o)}catch(u){return fo(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&FI(a.target)){let u=new re(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,cr.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Pe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Qp(e,t,this.He,this.ze,r);return this.ze=_i(),this.je=xp(),this.Je=xp(),this.He=new at(Ae),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Jp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Rt(Ae),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Rt(Ae),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Jp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function xp(){return new at(re.comparator)}function AM(){return new at(re.comparator)}var d3={asc:"ASCENDING",desc:"DESCENDING"},h3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f3={and:"AND",or:"OR"},WI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function KI(n,e){return n.useProto3Json||Ig(e)?e:{value:e}}function Xp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $P(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p3(n,e){return Xp(n,e.toTimestamp())}function xr(n){return Be(!!n,49232),ve.fromTimestamp((function(t){let r=mi(t);return new vt(r.seconds,r.nanos)})(n))}function lT(n,e){return QI(n,e).canonicalString()}function QI(n,e){let t=(function(i){return new Xe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function HP(n){let e=Xe.fromString(n);return Be(KP(e),10190,{key:e.toString()}),e}function ZI(n,e){return lT(n.databaseId,e.path)}function dI(n,e){let t=HP(e);if(t.get(1)!==n.databaseId.projectId)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(zP(t))}function qP(n,e){return lT(n.databaseId,e)}function g3(n){let e=HP(n);return e.length===4?Xe.emptyPath():zP(e)}function YI(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zP(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RM(n,e,t){return{name:ZI(n,e),fields:t.value.mapValue.fields}}function m3(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Be(h===void 0||typeof h=="string",58123),Gt.fromBase64String(h||"")):(Be(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Gt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?k.UNKNOWN:BP(l.code);return new q(h,l.message||"")})(s);t=new Yp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=dI(n,r.document.name),o=xr(r.document.updateTime),s=r.document.createTime?xr(r.document.createTime):ve.min(),a=new ar({mapValue:{fields:r.document.fields}}),u=cr.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ac(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=dI(n,r.document),o=r.readTime?xr(r.readTime):ve.min(),s=cr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ac([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=dI(n,r.document),o=r.removedTargetIds||[];t=new ac([],o,i,null)}else{if(!("filter"in e))return se(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new qI(i,o),a=r.targetId;t=new Zp(a,s)}}return t}function y3(n,e){let t;if(e instanceof As)t={update:RM(n,e.key,e.value)};else if(e instanceof Kp)t={delete:ZI(n,e.key)};else if(e instanceof Ei)t={update:RM(n,e.key,e.data),updateMask:C3(e.fieldMask)};else{if(!(e instanceof UI))return se(16599,{Rt:e.type});t={verify:ZI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof mc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw se(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:p3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se(27497)})(n,e.precondition)),t}function v3(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?xr(i.updateTime):xr(o);return s.isEqual(ve.min())&&(s=xr(o)),new jI(s,i.transformResults||[])})(t,e))):[]}function _3(n,e){return{documents:[qP(n,e.path)]}}function E3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qP(n,i);let o=(function(l){if(l.length!==0)return WP(ur.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:ic(g.field),direction:T3(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=KI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function I3(n){let e=g3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Be(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=GP(p);return g instanceof ur&&DP(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(C){return new bs(oc(C.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Ig(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,v=p.values||[];return new pc(v,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,v=p.values||[];return new pc(v,g)})(t.endAt)),K4(e,i,s,o,a,"F",u,l)}function w3(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=oc(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oc(t.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oc(t.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oc(t.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return mt.create(oc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ur.create(t.compositeFilter.filters.map(r=>GP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}})(t.compositeFilter.op))})(n):se(30097,{filter:n})}function T3(n){return d3[n]}function D3(n){return h3[n]}function b3(n){return f3[n]}function ic(n){return{fieldPath:n.canonicalString()}}function oc(n){return Mn.fromServerFormat(n.fieldPath)}function WP(n){return n instanceof mt?(function(t){if(t.op==="=="){if(mM(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NAN"}};if(gM(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mM(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NAN"}};if(gM(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(t.field),op:D3(t.op),value:t.value}}})(n):n instanceof ur?(function(t){let r=t.getFilters().map(i=>WP(i));return r.length===1?r[0]:{compositeFilter:{op:b3(t.op),filters:r}}})(n):se(54877,{filter:n})}function C3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zl=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=Gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var JI=class{constructor(e){this.gt=e}};function S3(n){let e=I3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?VI(e,e.limit,"L"):e}var eg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Je(e.integerValue));else if("doubleValue"in e){let r=Je(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Bl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=mi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(yi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?IP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):EP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):se(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=dc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Je(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),re.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};eg.Ut=new eg;var XI=class{constructor(){this.Dn=new ew}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Ds.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},ew=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(Xe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Xe.comparator)).toArray()}};var _ae=new Uint8Array(0);var NM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QP=41943040,Hn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(QP,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);var Gl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var MM="LruGarbageCollector",A3=1048576;function PM([n,e],[t,r]){let i=Ae(n,t);return i===0?Ae(e,r):i}var tw=class{constructor(e){this.Tr=e,this.buffer=new Rt(PM),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();PM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},nw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(MM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tc(t)?z(MM,"Ignoring IndexedDB error during garbage collection: ",t):await wc(t)}await this.Rr(3e5)})}},rw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(eT.ue);let r=new tw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(NM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NM):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),nc()<=Ne.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function R3(n,e){return new rw(n,e)}var iw=class{constructor(){this.changes=new vi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ow=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var sw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Vl(r.mutation,i,Pr.empty(),vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){let i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ol();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=_i(),s=Ll(),a=(function(){return Ll()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ei)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Vl(h.mutation,l,h.mutation.getFieldMask(),vt.now())):s.set(l.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new ow(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ll(),i=new at((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Pr.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=kP();h.forEach(g=>{if(!o.has(g)){let v=jP(t.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(vs()),a=Ul,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Pe())).next(h=>({batchId:a,changes:PP(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ol();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,g){return new go(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,cr.newInvalidDocument(h)))});let a=Ol();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Vl(h.mutation,l,Pr.empty(),vt.now()),Dg(t,l)&&(a=a.insert(u,l))}),a})}};var aw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:S3(i.bundledQuery),readTime:xr(i.readTime)}})(t)),L.resolve()}};var cw=class{constructor(){this.overlays=new at(re.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vs();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=vs(),o=t.length+1,s=new re(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new at((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=vs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=vs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HI(t,r));let o=this.kr.get(t);o===void 0&&(o=Pe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var uw=class{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Wl=class{constructor(){this.qr=new Rt(gt.Qr),this.$r=new Rt(gt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new gt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new gt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new re(new Xe([])),r=new gt(t,e),i=new gt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new re(new Xe([])),r=new gt(t,e),i=new gt(t,e+1),o=Pe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new gt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},gt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return re.comparator(e.key,t.key)||Ae(e.Hr,t.Hr)}static Ur(e,t){return Ae(e.Hr,t.Hr)||re.comparator(e.key,t.key)}};var lw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Rt(gt.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new BI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?tT:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new gt(t,0),i=new gt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Ae);return t.forEach(i=>{let o=new gt(i,0),s=new gt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new gt(new re(o),0),a=new Rt(Ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Be(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(t.mutations,i=>{let o=new gt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new gt(t,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var dw=class{constructor(e){this.ni=e,this.docs=(function(){return new at(re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=_i();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cr.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=_i(),s=t.path,a=new re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||R4(A4(h),r)<=0||(i.has(h.key)||Dg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){se(9500)}ri(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hw(this)}getSize(e){return L.resolve(this.size)}},hw=class extends iw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var fw=class{constructor(e){this.persistence=e,this.ii=new vi(t=>sT(t),aT),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.si=0,this.oi=new Wl,this.targetCount=0,this._i=Gl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Gl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var tg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new eT(0),this.ci=!1,this.ci=!0,this.li=new uw,this.referenceDelegate=e(this),this.hi=new fw(this),this.indexManager=new XI,this.remoteDocumentCache=(function(i){return new dw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new JI(t),this.Ti=new aw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new lw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new pw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},pw=class extends TI{constructor(e){super(),this.currentSequenceNumber=e}},gw=class n{constructor(e){this.persistence=e,this.Ai=new Wl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw se(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{let i=re.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ng=class n{constructor(e,t){this.persistence=e,this.gi=new vi(r=>k4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=R3(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ve.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lp(e.data.value)),t}Sr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var mw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Pe(),i=Pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var yw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return TR()?8:M4(bt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new yw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(nc()<=Ne.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",rc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(nc()<=Ne.DEBUG&&z("QueryEngine","Query:",rc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(nc()<=Ne.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",rc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):L.resolve())}ps(e,t){if(EM(t))return L.resolve(null);let r=Or(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=VI(t,null,"F"),r=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Pe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,VI(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return EM(t)||i.isEqual(ve.min())?L.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?L.resolve(null):(nc()<=Ne.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rc(t)),this.vs(e,s,t,S4(i,Ul)).next(a=>a))})}bs(e,t){let r=new Rt(NP(e));return t.forEach((i,o)=>{Dg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return nc()<=Ne.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",rc(t)),this.gs.getDocumentsMatchingQuery(e,t,Ds.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var dT="LocalStore",N3=3e8,_w=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new at(Ae),this.Ms=new vi(o=>sT(o),aT),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function M3(n,e,t,r){return new _w(n,e,t,r)}async function ZP(n,e){let t=me(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function P3(n,e){let t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),v=L.resolve();return g.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(P=>{let M=l.docVersions.get(C);Be(M!==null,48541),P.version.compareTo(M)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=Pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function YP(n){let e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function k3(n,e){let t=me(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Gt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(P,M,V){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=N3?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(g,v,h)&&a.push(t.hi.updateTargetData(o,v))});let u=_i(),l=Pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ve.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function O3(n,e,t){let r=Pe(),i=Pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=_i();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ve.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(dT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function x3(n,e){let t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F3(n,e){let t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new zl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Ew(n,e,t){let r=me(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Tc(s))throw s;z(dT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function kM(n,e,t){let r=me(n),i=ve.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=me(u),g=p.Ms.get(h);return g!==void 0?L.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,Or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:Pe())).next(a=>(L3(r,Z4(e),a),{documents:a,qs:o})))}function L3(n,e,t){let r=n.xs.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var rg=class{constructor(){this.activeTargetIds=n3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Iw=class{constructor(){this.Fo=new rg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new rg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ww=class{xo(e){}shutdown(){}};var OM="ConnectivityMonitor",ig=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(OM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){z(OM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fp=null;function Tw(){return Fp===null?Fp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fp++,"0x"+Fp.toString(16)}var hI="RestConnection",V3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Dw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===zp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Tw(),a=this.Go(e,t.toUriEncodedString());z(hI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Zi(l);return this.jo(e,a,u,r,h).then(p=>(z(hI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw fo(hI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=V3[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var bw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var zt="WebChannelConnection",Cw=class extends Dw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Tw();return new Promise((a,u)=>{let l=new sI;l.setWithCredentials(!0),l.listenOnce(aI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kl.NO_ERROR:let p=l.getResponseJson();z(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case kl.TIMEOUT:z(zt,`RPC '${e}' ${s} timed out`),u(new q(k.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:let g=l.getStatus();if(z(zt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let C=v?.error;if(C&&C.status&&C.message){let P=(function(V){let F=V.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(F)>=0?F:k.UNKNOWN})(C.status);u(new q(P,C.message))}else u(new q(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new q(k.UNAVAILABLE,"Connection failed."));break;default:se(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{z(zt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(zt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Tw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lI(),a=uI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(zt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,v=!1,C=new bw({Ho:M=>{v?z(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(z(zt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(zt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),P=(M,V,F)=>{M.listen(V,O=>{try{F(O)}catch(Y){setTimeout(()=>{throw Y},0)}})};return P(p,tc.EventType.OPEN,()=>{v||(z(zt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),P(p,tc.EventType.CLOSE,()=>{v||(v=!0,z(zt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),P(p,tc.EventType.ERROR,M=>{v||(v=!0,fo(zt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),C.__(new q(k.UNAVAILABLE,"The operation could not be completed")))}),P(p,tc.EventType.MESSAGE,M=>{var V;if(!v){let F=M.data[0];Be(!!F,16349);let O=F,Y=O?.error||((V=O[0])===null||V===void 0?void 0:V.error);if(Y){z(zt,`RPC '${e}' stream ${i} received error:`,Y);let fe=Y.status,ie=(function(E){let I=pt[E];if(I!==void 0)return BP(I)})(fe),D=Y.message;ie===void 0&&(ie=k.INTERNAL,D="Unknown error status: "+fe+" with message "+Y.message),v=!0,C.__(new q(ie,D)),p.close()}else z(zt,`RPC '${e}' stream ${i} received:`,F),C.a_(F)}}),P(a,cI.STAT_EVENT,M=>{M.stat===kp.PROXY?z(zt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===kp.NOPROXY&&z(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function fI(){return typeof document<"u"?document:null}function bg(n){return new WI(n,!0)}var og=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var xM="PersistentStream",sg=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new og(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new q(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return z(xM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(z(xM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Sw=class extends sg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=m3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?xr(s.readTime):ve.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=YI(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=FI(u)?{documents:_3(o,u)}:{query:E3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$P(o,s.resumeToken);let l=KI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=Xp(o,s.snapshotVersion.toTimestamp());let l=KI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=w3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=YI(this.serializer),t.removeTarget=e,this.k_(t)}},Aw=class extends sg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=v3(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=YI(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>y3(this.serializer,r))};this.k_(t)}};var Rw=class{},Nw=class extends Rw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,QI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,QI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Mw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gi(t),this._a=!1):z("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Rs="RemoteStore",Pw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{ks(this)&&(z(Rs,"Restarting streams for network reachability change."),await(async function(u){let l=me(u);l.Ia.add(4),await Yl(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Cg(l)})(this))})}),this.Aa=new Mw(r,i)}};async function Cg(n){if(ks(n))for(let e of n.da)await e(!0)}async function Yl(n){for(let e of n.da)await e(!1)}function JP(n,e){let t=me(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),gT(t)?pT(t):Dc(t).x_()&&fT(t,e))}function hT(n,e){let t=me(n),r=Dc(t);t.Ta.delete(e),r.x_()&&XP(t,e),t.Ta.size===0&&(r.x_()?r.B_():ks(t)&&t.Aa.set("Unknown"))}function fT(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).H_(e)}function XP(n,e){n.Ra.$e(e),Dc(n).Y_(e)}function pT(n){n.Ra=new GI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.Aa.aa()}function gT(n){return ks(n)&&!Dc(n).M_()&&n.Ta.size>0}function ks(n){return me(n).Ia.size===0}function ek(n){n.Ra=void 0}async function j3(n){n.Aa.set("Online")}async function U3(n){n.Ta.forEach((e,t)=>{fT(n,e)})}async function B3(n,e){ek(n),gT(n)?(n.Aa.la(e),pT(n)):n.Aa.set("Unknown")}async function $3(n,e,t){if(n.Aa.set("Online"),e instanceof Yp&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){z(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ag(n,r)}else if(e instanceof ac?n.Ra.Ye(e):e instanceof Zp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ve.min()))try{let r=await YP(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Gt.EMPTY_BYTE_STRING,h.snapshotVersion)),XP(o,u);let p=new zl(h.target,u,l,h.sequenceNumber);fT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){z(Rs,"Failed to raise snapshot:",r),await ag(n,r)}}async function ag(n,e,t){if(!Tc(e))throw e;n.Ia.add(1),await Yl(n),n.Aa.set("Offline"),t||(t=()=>YP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{z(Rs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Cg(n)})}function tk(n,e){return e().catch(t=>ag(n,t,e))}async function Sg(n){let e=me(n),t=mo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tT;for(;H3(e);)try{let i=await x3(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,q3(e,i)}catch(i){await ag(e,i)}nk(e)&&rk(e)}function H3(n){return ks(n)&&n.Pa.length<10}function q3(n,e){n.Pa.push(e);let t=mo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function nk(n){return ks(n)&&!mo(n).M_()&&n.Pa.length>0}function rk(n){mo(n).start()}async function z3(n){mo(n).na()}async function G3(n){let e=mo(n);for(let t of n.Pa)e.X_(t.mutations)}async function W3(n,e,t){let r=n.Pa.shift(),i=$I.from(r,e,t);await tk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Sg(n)}async function K3(n,e){e&&mo(n).Z_&&await(async function(r,i){if((function(s){return u3(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();mo(r).N_(),await tk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sg(r)}})(n,e),nk(n)&&rk(n)}async function FM(n,e){let t=me(n);t.asyncQueue.verifyOperationInProgress(),z(Rs,"RemoteStore received new credentials");let r=ks(t);t.Ia.add(3),await Yl(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Cg(t)}async function Q3(n,e){let t=me(n);e?(t.Ia.delete(2),await Cg(t)):e||(t.Ia.add(2),await Yl(t),t.Aa.set("Unknown"))}function Dc(n){return n.Va||(n.Va=(function(t,r,i){let o=me(t);return o.ia(),new Sw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:j3.bind(null,n),e_:U3.bind(null,n),n_:B3.bind(null,n),J_:$3.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),gT(n)?pT(n):n.Aa.set("Unknown")):(await n.Va.stop(),ek(n))})),n.Va}function mo(n){return n.ma||(n.ma=(function(t,r,i){let o=me(t);return o.ia(),new Aw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:z3.bind(null,n),n_:K3.bind(null,n),ea:G3.bind(null,n),ta:W3.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Sg(n)):(await n.ma.stop(),n.Pa.length>0&&(z(Rs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var kw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mT(n,e){if(gi("AsyncQueue",`${e}: ${n}`),Tc(n))return new q(k.UNAVAILABLE,`${e}: ${n}`);throw n}var cg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=Ol(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ug=class{constructor(){this.fa=new at(re.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):se(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},_c=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,cg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ow=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},xw=class{constructor(){this.queries=LM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=me(t),o=i.queries;i.queries=LM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new q(k.ABORTED,"Firestore shutting down"))}};function LM(){return new vi(n=>RP(n),Tg)}async function Z3(n,e){let t=me(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Ow,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=mT(s,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&yT(t)}async function Y3(n,e){let t=me(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function J3(n,e){let t=me(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&yT(t)}function X3(n,e,t){let r=me(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function yT(n){n.Da.forEach(e=>{e.next()})}var Fw,VM;(VM=Fw||(Fw={})).Fa="default",VM.Cache="cache";var Lw=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Fw.Cache}};var lg=class{constructor(e){this.key=e}},dg=class{constructor(e){this.key=e}},Vw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pe(),this.mutatedKeys=Pe(),this.Xa=NP(e),this.eu=new cg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new ug,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=Dg(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;g&&v?g.data.isEqual(v.data)?C!==P&&(r.track({type:3,doc:v}),M=!0):this.iu(g,v)||(r.track({type:2,doc:v}),M=!0,(u&&this.Xa(v,u)>0||l&&this.Xa(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),M=!0):g&&!v&&(r.track({type:1,doc:g}),M=!0,(u||l)&&(a=!0)),M&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(v,C){let P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{At:M})}};return P(v)-P(C)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new _c(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ug,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Pe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new dg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new lg(r))}),t}uu(e){this.Ha=e.qs,this.Za=Pe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return _c.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},vT="SyncEngine",jw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Uw=class{constructor(e){this.key=e,this.lu=!1}},Bw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new vi(a=>RP(a),Tg),this.Tu=new Map,this.Iu=new Set,this.du=new at(re.comparator),this.Eu=new Map,this.Au=new Wl,this.Ru={},this.Vu=new Map,this.mu=Gl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function eq(n,e,t=!0){let r=uk(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await ik(r,e,t,!0),i}async function tq(n,e){let t=uk(n);await ik(t,e,!0,!1)}async function ik(n,e,t,r){let i=await F3(n.localStore,Or(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await nq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&JP(n.remoteStore,i),a}async function nq(n,e,t,r,i){n.gu=(p,g,v)=>(async function(P,M,V,F){let O=M.view.nu(V);O.Ds&&(O=await kM(P.localStore,M.query,!1).then(({documents:D})=>M.view.nu(D,O)));let Y=F&&F.targetChanges.get(M.targetId),fe=F&&F.targetMismatches.get(M.targetId)!=null,ie=M.view.applyChanges(O,P.isPrimaryClient,Y,fe);return UM(P,M.targetId,ie._u),ie.snapshot})(n,p,g,v);let o=await kM(n.localStore,e,!0),s=new Vw(e,o.qs),a=s.nu(o.documents),u=ql.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);UM(n,t,l._u);let h=new jw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function rq(n,e,t){let r=me(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Tg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ew(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&hT(r.remoteStore,i.targetId),$w(r,i.targetId)}).catch(wc)):($w(r,i.targetId),await Ew(r.localStore,i.targetId,!0))}async function iq(n,e){let t=me(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hT(t.remoteStore,r.targetId))}async function oq(n,e,t){let r=hq(n);try{let i=await(function(s,a){let u=me(s),l=vt.now(),h=a.reduce((v,C)=>v.add(C.key),Pe()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=_i(),P=Pe();return u.Os.getEntries(v,h).next(M=>{C=M,C.forEach((V,F)=>{F.isValidDocument()||(P=P.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(M=>{p=M;let V=[];for(let F of a){let O=c3(F,p.get(F.key).overlayedDocument);O!=null&&V.push(new Ei(F.key,O,wP(O.value.mapValue),ao.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,V,a)}).next(M=>{g=M;let V=M.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(v,M.batchId,V)})}).then(()=>({batchId:g.batchId,changes:PP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new at(Ae)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),await Jl(r,i.changes),await Sg(r.remoteStore)}catch(i){let o=mT(i,"Failed to persist write");t.reject(o)}}async function ok(n,e){let t=me(n);try{let r=await k3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Be(s.lu,14607):i.removedDocuments.size>0&&(Be(s.lu,42227),s.lu=!1))}),await Jl(t,r,e)}catch(r){await wc(r)}}function jM(n,e,t){let r=me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=me(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&yT(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sq(n,e,t){let r=me(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new at(re.comparator);s=s.insert(o,cr.newNoDocument(o,ve.min()));let a=Pe().add(o),u=new Qp(ve.min(),new Map,new at(Ae),s,a);await ok(r,u),r.du=r.du.remove(o),r.Eu.delete(e),_T(r)}else await Ew(r.localStore,e,!1).then(()=>$w(r,e,t)).catch(wc)}async function aq(n,e){let t=me(n),r=e.batch.batchId;try{let i=await P3(t.localStore,e);ak(t,r,null),sk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(t,i)}catch(i){await wc(i)}}async function cq(n,e,t){let r=me(n);try{let i=await(function(s,a){let u=me(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Be(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);ak(r,e,t),sk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jl(r,i)}catch(i){await wc(i)}}function sk(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function ak(n,e,t){let r=me(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function $w(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||ck(n,r)})}function ck(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(hT(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),_T(n))}function UM(n,e,t){for(let r of t)r instanceof lg?(n.Au.addReference(r.key,e),uq(n,r)):r instanceof dg?(z(vT,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||ck(n,r.key)):se(19791,{yu:r})}function uq(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(z(vT,"New document in limbo: "+t),n.Iu.add(r),_T(n))}function _T(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new re(Xe.fromString(e)),r=n.mu.next();n.Eu.set(r,new Uw(t)),n.du=n.du.insert(t,r),JP(n.remoteStore,new zl(Or(cT(t.path)),r,"TargetPurposeLimboResolution",eT.ue))}}async function Jl(n,e,t){let r=me(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=mw.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=me(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Is,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>L.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Tc(p))throw p;z(dT,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.Fs.get(g),C=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(g,P)}}})(r.localStore,o))}async function lq(n,e){let t=me(n);if(!t.currentUser.isEqual(e)){z(vT,"User change. New user:",e.toKey());let r=await ZP(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new q(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(t,r.Bs)}}function dq(n,e){let t=me(n),r=t.Eu.get(e);if(r&&r.lu)return Pe().add(r.key);{let i=Pe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function uk(n){let e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ok.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sq.bind(null,e),e.hu.J_=J3.bind(null,e.eventManager),e.hu.pu=X3.bind(null,e.eventManager),e}function hq(n){let e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cq.bind(null,e),e}var lk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return M3(this.persistence,new vw,t.initialUser,this.serializer)}Du(t){return new tg(gw.Vi,this.serializer)}bu(t){return new Iw}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Hw=class extends lk{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Be(this.persistence.referenceDelegate instanceof ng,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new nw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new tg(r=>ng.Vi(r,t),this.serializer)}};var fq=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lq.bind(null,this.syncEngine),await Q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new xw})()}createDatastore(t){let r=bg(t.databaseInfo.databaseId),i=(function(s){return new Cw(s)})(t.databaseInfo);return(function(s,a,u,l){return new Nw(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new Pw(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>jM(this.syncEngine,r,0),(function(){return ig.C()?new ig:new ww})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new Bw(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=me(o);z(Rs,"RemoteStore shutting down."),s.Ia.add(5),await Yl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var qw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var yo="FirestoreClient",zw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=jl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{z(yo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z(yo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=mT(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function pI(n,e){n.asyncQueue.verifyOperationInProgress(),z(yo,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{fo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{fo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function BM(n,e){n.asyncQueue.verifyOperationInProgress();let t=await pq(n);z(yo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>FM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>FM(e.remoteStore,i)),n._onlineComponents=e}async function pq(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(yo,"Using user provided OfflineComponentProvider");try{await pI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),await pI(n,new lk)}}else z(yo,"Using default OfflineComponentProvider"),await pI(n,new Hw(void 0));return n._offlineComponents}async function dk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(yo,"Using user provided OnlineComponentProvider"),await BM(n,n._uninitializedComponentsProvider._online)):(z(yo,"Using default OnlineComponentProvider"),await BM(n,new fq))),n._onlineComponents}function gq(n){return dk(n).then(e=>e.syncEngine)}async function $M(n){let e=await dk(n),t=e.eventManager;return t.onListen=eq.bind(null,e.syncEngine),t.onUnlisten=rq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iq.bind(null,e.syncEngine),t}function hk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var HM=new Map;var fk="firestore.googleapis.com",qM=!0,hg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fk,this.ssl=qM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A3)throw new q(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ec=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gI;switch(r.type){case"firstParty":return new _I(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=HM.get(t);r&&(z("ComponentProvider","Removing Datastore"),HM.delete(t),r.terminate())})(this),Promise.resolve()}};function pk(n,e,t,r={}){var i;n=Is(n,Ec);let o=Zi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(sp(`https://${u}`),ap("Firestore",!0)),s.host!==fk&&s.host!==u&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Sr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=At.MOCK_USER;else{h=yR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new At(g)}n._authCredentials=new mI(new Up(h,p))}}var Ns=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zl(t,n._jsonSchema))return new n(e,r||null,new re(Xe.fromString(t.referencePath)))}};Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:yt("string",Ft._jsonSchemaVersion),referencePath:yt("string")};var co=class n extends Ns{constructor(e,t,r){super(e,t,cT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function gk(n,e,...t){if(n=Ct(n),JM("collection","path",e),n instanceof Ec){let r=Xe.fromString(e,...t);return aM(r),new co(n,null,r)}{if(!(n instanceof Ft||n instanceof co))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Xe.fromString(e,...t));return aM(r),new co(n.firestore,null,r)}}function ET(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=jl.newId()),JM("doc","path",e),n instanceof Ec){let r=Xe.fromString(e,...t);return sM(r),new Ft(n,null,new re(r))}{if(!(n instanceof Ft||n instanceof co))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Xe.fromString(e,...t));return sM(r),new Ft(n.firestore,n instanceof co?n.converter:null,new re(r))}}var zM="AsyncQueue",fg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new og(this,"async_queue_retry"),this.oc=()=>{let r=fI();r&&z(zM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=fI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=fI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new pi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Tc(e))throw e;z(zM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,gi("INTERNAL UNHANDLED ERROR: ",GM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=kw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&se(47125,{hc:GM(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function GM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function WM(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Ms=class extends Ec{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fg,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fg(e),this._firestoreClient=void 0,await e}}};function mk(n,e){let t=typeof n=="object"?n:ds(),r=typeof n=="string"?n:e||zp,i=Qa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=mR("firestore");o&&pk(i,...o)}return i}function yk(n){if(n._terminated)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mq(n),n._firestoreClient}function mq(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new DI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new zw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var uo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Gt.fromBase64String(e))}catch(t){throw new q(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};uo._jsonSchemaVersion="firestore/bytes/1.0",uo._jsonSchema={type:yt("string",uo._jsonSchemaVersion),bytes:yt("string")};var Kl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pg=class{constructor(e){this._methodName=e}};var lo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};lo._jsonSchemaVersion="firestore/geoPoint/1.0",lo._jsonSchema={type:yt("string",lo._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};var ho=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new q(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ho._jsonSchemaVersion="firestore/vectorValue/1.0",ho._jsonSchema={type:yt("string",ho._jsonSchemaVersion),vectorValues:yt("object")};var yq=/^__.*__$/,Gw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new As(e,this.data,t,this.fieldTransforms)}};function vk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ec:n})}}var Ww=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return gg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vk(this.Ec)&&yq.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Kw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bg(e)}Dc(e,t,r,i=!1){return new Ww({Ec:e,methodName:t,bc:r,path:Mn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function IT(n){let e=n._freezeSettings(),t=bg(n._databaseId);return new Kw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _k(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);wk("Data must be an object, but it was:",s,r);let a=Ek(r,s),u,l;if(o.merge)u=new Pr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=_q(e,p,t);if(!s.contains(g))throw new q(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Iq(h,g)||h.push(g)}u=new Pr(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Gw(new ar(a),u,l)}function vq(n,e,t,r=!1){return wT(t,n.Dc(r?4:3,e))}function wT(n,e){if(Ik(n=Ct(n)))return wk("Unsupported field value:",e,n),Ek(n,e);if(n instanceof pg)return(function(r,i){if(!vk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=wT(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=vt.fromDate(r);return{timestampValue:Xp(i.serializer,o)}}if(r instanceof vt){let o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xp(i.serializer,o)}}if(r instanceof lo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:$P(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ho)return(function(s,a){return{mapValue:{fields:{[rT]:{stringValue:iT},[dc]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return uT(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Eg(r)}`)})(n,e)}function Ek(n,e){let t={};return pP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(n,(r,i)=>{let o=wT(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Ik(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof lo||n instanceof uo||n instanceof Ft||n instanceof pg||n instanceof ho)}function wk(n,e,t){if(!Ik(t)||!XM(t)){let r=Eg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function _q(n,e,t){if((e=Ct(e))instanceof Kl)return e._internalPath;if(typeof e=="string")return Tk(n,e);throw gg("Field path arguments must be of type string or ",n,!1,void 0,t)}var Eq=new RegExp("[~\\*/\\[\\]]");function Tk(n,e,t){if(e.search(Eq)>=0)throw gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kl(...e.split("."))._internalPath}catch{throw gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(k.INVALID_ARGUMENT,a+n+u)}function Iq(n,e){return n.some(t=>t.isEqual(e))}var mg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ag("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Qw=class extends mg{data(){return super.data()}};function Ag(n,e){return typeof e=="string"?Tk(n,e):e instanceof Kl?e._internalPath:e._delegate._internalPath}function wq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ql=class{},yg=class extends Ql{};function Dk(n,e,...t){let r=[];e instanceof Ql&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof Zw).length,a=o.filter(u=>u instanceof vg).length;if(s>1||s>0&&a>0)throw new q(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var vg=class n extends yg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Sk(e._query,t),new Ns(e.firestore,e.converter,LI(e._query,t))}_parse(e){let t=IT(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){QM(p,h);let C=[];for(let P of p)C.push(KM(u,o,P));g={arrayValue:{values:C}}}else g=KM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||QM(p,h),g=vq(a,s,p,h==="in"||h==="not-in");return mt.create(l,h,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function bk(n,e,t){let r=e,i=Ag("where",n);return vg._create(i,r,t)}var Zw=class n extends Ql{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Sk(s,u),s=LI(s,u)})(e._query,t),new Ns(e.firestore,e.converter,LI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Yw=class n extends yg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new q(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bs(o,s)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new go(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function Ck(n,e="asc"){let t=e,r=Ag("orderBy",n);return Yw._create(r,t)}function KM(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new q(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AP(e)&&t.indexOf("/")!==-1)throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Xe.fromString(t));if(!re.isDocumentKey(r))throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pM(n,new re(r))}if(t instanceof Ft)return pM(n,t._key);throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eg(t)}.`)}function QM(n,e){if(!Array.isArray(n)||n.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sk(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Jw=class{convertValue(e,t="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ps(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[dc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Je(s.doubleValue));return new ho(o)}convertGeoPoint(e){return new lo(Je(e.latitude),Je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=wg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){let t=mi(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Xe.fromString(e);Be(KP(r),9688,{name:e});let i=new Gp(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(t)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ak(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ws=class n extends mg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ag("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:yt("string",ws._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};var cc=class extends ws{data(e={}){return super.data(e)}},uc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cc(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Tq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Tq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}uc._jsonSchemaVersion="firestore/querySnapshot/1.0",uc._jsonSchema={type:yt("string",uc._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};var _g=class extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function Rk(n,e,t){n=Is(n,Ft);let r=Is(n.firestore,Ms),i=Ak(n.converter,e,t);return Mk(r,[_k(IT(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ao.none())])}function Nk(n,e){let t=Is(n.firestore,Ms),r=ET(n),i=Ak(n.converter,e);return Mk(t,[_k(IT(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ao.exists(!1))]).then(()=>r)}function TT(n,...e){var t,r,i;n=Ct(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||WM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(WM(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ft)l=Is(n.firestore,Ms),h=cT(n._key.path),u={next:p=>{e[s]&&e[s](Dq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Is(n,Ns);l=Is(p.firestore,Ms),h=p._query;let g=new _g(l);u={next:v=>{e[s]&&e[s](new uc(l,g,p,v))},error:e[s+1],complete:e[s+2]},wq(n._query)}return(function(g,v,C,P){let M=new qw(P),V=new Lw(v,M,C);return g.asyncQueue.enqueueAndForget(async()=>Z3(await $M(g),V)),()=>{M.Ou(),g.asyncQueue.enqueueAndForget(async()=>Y3(await $M(g),V))}})(yk(l),h,a,u)}function Mk(n,e){return(function(r,i){let o=new pi;return r.asyncQueue.enqueueAndForget(async()=>oq(await gq(r),i,o)),o.promise})(yk(n),e)}function Dq(n,e,t){let r=t.docs.get(e._key),i=new _g(n);return new ws(n,i,e._key,r,new Es(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ic=i})(Ji),or(new nn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ms(new yI(r.getProvider("auth-internal")),new EI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),st(nM,rM,e),st(nM,rM,"esm2017")})();var Rg=function(){return Rg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rg.apply(this,arguments)};var Sq={includeMetadataChanges:!1};function Pk(n,e){return e===void 0&&(e=Sq),new we(function(t){var r=TT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function kk(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Rg(Rg({},r),(t={},t[e.idField]=n.id,t))}function Ok(n){return Pk(n,{includeMetadataChanges:!0}).pipe(Se(function(e){return e.docs}))}function xk(n,e){return e===void 0&&(e={}),Ok(n).pipe(Se(function(t){return t.map(function(r){return kk(r,e)})}))}var Pn=class{constructor(e){return e}},Fk="firestore",DT=class{constructor(){return Ya(Fk)}};var bT=new J("angularfire2.firestore-instances");function Aq(n,e){let t=El(Fk,n,e);return t&&new Pn(t)}function Rq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Pn(r)}}var Nq={provide:DT,deps:[[new Dn,bT]]},Mq={provide:Pn,useFactory:Aq,deps:[[new Dn,bT],ci]};function Lk(n,...e){return st("angularfire",Xi.full,"fst"),pr([Mq,Nq,{provide:bT,useFactory:Rq(n),multi:!0,deps:[Le,dt,eo,fs,[new Dn,Pl],[new Dn,Ja],...e]}])}var bc=St(xk,!0);var Vk=St(Nk,!0,2);var Lr=St(gk,!0,2);var CT=St(ET,!0,2);var jk=St(mk,!0);var Uk=St(Ck,!0,2),Ng=St(Dk,!0,2);var ST=St(Rk,!0,2);var Bk=St(bk,!0,2);var Os={production:!1,firebase:{apiKey:"AIzaSyDpR8ccwKrH-qiiwSr1td3AOLHpRQgZ4YU",authDomain:"grades-app-4d7f2.firebaseapp.com",projectId:"grades-app-4d7f2",storageBucket:"grades-app-4d7f2.firebasestorage.app",messagingSenderId:"408041609945",appId:"1:408041609945:web:87e90bb862710ada1dfcc8",measurementId:"G-GF7C1ZLN9W"},teacherEmail:"mr.mibrahim86@gmail.com"};var Cc=class n{constructor(e,t,r){this.auth=e;this.firestore=t;this.router=r}async signup(e,t,r){let i=await YN(this.auth,e,t),o=i.user;if(e===Os.teacherEmail){let s=Lr(this.firestore,"teachers");await ST(CT(s,o.uid),{name:r,email:e,role:"teacher",createdAt:new Date}),alert("Teacher account created successfully!"),this.router.navigate(["/dashboard"])}else{let s=Lr(this.firestore,"students");await ST(CT(s,o.uid),{name:r,email:e,role:"student",createdAt:new Date}),alert("Signup successful!"),this.router.navigate(["/grades"])}return i}async login(e,t){try{let r=await XN(this.auth,e,t);return e===Os.teacherEmail?this.router.navigate(["/dashboard"]):this.router.navigate(["/grades"]),alert("Login successful!"),r}catch(r){r.code==="auth/wrong-password"?alert("Incorrect password."):r.code==="auth/user-not-found"?alert("No account found with this email."):alert("Login failed: "+r.message)}}async logout(){await ec(this.auth),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(de(Nn),de(Pn),de(tn))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})};var Pg=class n{constructor(e){this.authService=e}email="";password="";login(){!this.email||!this.password||this.authService.login(this.email,this.password).catch(e=>{})}static \u0275fac=function(t){return new(t||n)(X(Cc))};static \u0275cmp=Jt({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[["dir","rtl",1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","shadow","p-4",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["name","email","type","email","id","email","placeholder","\u0623\u062F\u062E\u0644 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["name","password","type","password","id","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-center","mt-3","mb-0"],["routerLink","/signup",1,"text-decoration-none"]],template:function(t,r){t&1&&(K(0,"div",0)(1,"div",1)(2,"h3",2),ue(3,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),Q(),K(4,"form",3),ot("ngSubmit",function(){return r.login()}),K(5,"div",4)(6,"label",5),ue(7,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),Q(),K(8,"input",6),pn("ngModelChange",function(o){return Cn(r.email,o)||(r.email=o),o}),Q()(),K(9,"div",4)(10,"label",7),ue(11,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),Q(),K(12,"input",8),pn("ngModelChange",function(o){return Cn(r.password,o)||(r.password=o),o}),Q()(),K(13,"button",9),ue(14,"\u062F\u062E\u0648\u0644"),Q()(),K(15,"p",10),ue(16," \u0644\u0627 \u062A\u0645\u062A\u0644\u0643 \u062D\u0633\u0627\u0628\u0627\u064B\u061F "),K(17,"a",11),ue(18,"\u0633\u062C\u0651\u0644 \u0627\u0644\u0622\u0646"),Q()()()()),t&2&&(ze(8),fn("ngModel",r.email),ze(4),fn("ngModel",r.password))},dependencies:[zi,Ga,za,Qi,Ha,qa,cs,as,ss,ja],styles:["body[_ngcontent-%COMP%]{background:#f8f9fa}.card[_ngcontent-%COMP%]{border-radius:12px}"]})};var kg=class n{constructor(e){this.authService=e}fullName="";email="";password="";confirmPassword="";signup(){!this.fullName||!this.email||!this.password||!this.confirmPassword||this.password===this.confirmPassword&&this.authService.signup(this.email,this.password,this.fullName).catch(e=>{})}static \u0275fac=function(t){return new(t||n)(X(Cc))};static \u0275cmp=Jt({type:n,selectors:[["app-signup"]],decls:27,vars:4,consts:[["dir","rtl",1,"container","mt-5"],[1,"card","shadow","p-4"],[1,"text-center","mb-4"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644","name","fullName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","placeholder","\u0623\u062F\u062E\u0644 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u0623\u0639\u062F \u0625\u062F\u062E\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","name","confirmPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"mt-3","text-center"],["routerLink","/login"]],template:function(t,r){t&1&&(K(0,"div",0)(1,"div",1)(2,"h2",2),ue(3,"\u062A\u0633\u062C\u064A\u0644 \u0637\u0627\u0644\u0628 \u062C\u062F\u064A\u062F"),Q(),K(4,"form",3),ot("ngSubmit",function(){return r.signup()}),K(5,"div",4)(6,"label",5),ue(7,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"),Q(),K(8,"input",6),pn("ngModelChange",function(o){return Cn(r.fullName,o)||(r.fullName=o),o}),Q()(),K(9,"div",4)(10,"label",5),ue(11,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),Q(),K(12,"input",7),pn("ngModelChange",function(o){return Cn(r.email,o)||(r.email=o),o}),Q()(),K(13,"div",4)(14,"label",5),ue(15,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),Q(),K(16,"input",8),pn("ngModelChange",function(o){return Cn(r.password,o)||(r.password=o),o}),Q()(),K(17,"div",4)(18,"label",5),ue(19,"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),Q(),K(20,"input",9),pn("ngModelChange",function(o){return Cn(r.confirmPassword,o)||(r.confirmPassword=o),o}),Q()(),K(21,"button",10),ue(22,"\u062A\u0633\u062C\u064A\u0644"),Q(),K(23,"p",11),ue(24," \u0644\u062F\u064A\u0643 \u062D\u0633\u0627\u0628 \u0628\u0627\u0644\u0641\u0639\u0644\u061F "),K(25,"a",12),ue(26,"\u0633\u062C\u0651\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),Q()()()()()),t&2&&(ze(8),fn("ngModel",r.fullName),ze(4),fn("ngModel",r.email),ze(4),fn("ngModel",r.password),ze(4),fn("ngModel",r.confirmPassword))},dependencies:[zi,Ga,za,Qi,Ha,qa,cs,as,ss,ja],styles:["body[_ngcontent-%COMP%]{background:#f8f9fa}.card[_ngcontent-%COMP%]{border-radius:12px}"]})};function Pq(n,e){if(n&1&&(K(0,"tr")(1,"td"),ue(2),Q(),K(3,"td"),ue(4),Q(),K(5,"td"),ue(6),Q()()),n&2){let t=e.$implicit;ze(2),ri(t.studentName||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),ze(2),ri(t.exam||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),ze(2),ri(t.grade||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631")}}function kq(n,e){if(n&1&&(K(0,"table",9)(1,"thead",10)(2,"tr")(3,"th"),ue(4,"\u0627\u0633\u0645 \u0627\u0644\u0637\u0627\u0644\u0628"),Q(),K(5,"th"),ue(6,"\u0627\u0644\u0627\u0645\u062A\u062D\u0627\u0646"),Q(),K(7,"th"),ue(8,"\u0627\u0644\u062F\u0631\u062C\u0629"),Q()()(),K(9,"tbody"),bn(10,Pq,7,3,"tr",11),Q()()),n&2){let t=e.ngIf;ze(10),Bn("ngForOf",t)}}function Oq(n,e){n&1&&(K(0,"p",12),ue(1,"\u0644\u0645 \u062A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0623\u064A \u062F\u0631\u062C\u0627\u062A \u0628\u0639\u062F."),Q())}var Og=class n{constructor(e,t,r){this.firestore=e;this.router=t;this.auth=r}grades$;ngOnInit(){let e=Lr(this.firestore,"grades");this.grades$=bc(e,{idField:"id"})}goToAddGrade(){this.router.navigate(["/add-grade"])}async logout(){await ec(this.auth),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(X(Pn),X(tn),X(Nn))};static \u0275cmp=Jt({type:n,selectors:[["app-dashboard"]],decls:17,vars:4,consts:[["noGrades",""],["dir","rtl",1,"container","mt-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","mb-3"],["class","table table-striped",4,"ngIf","ngIfElse"],[1,"table","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"text-center","text-muted","mt-3"]],template:function(t,r){if(t&1){let i=Qo();K(0,"div",1)(1,"div",2)(2,"h2"),ue(3,"\u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0639\u0644\u0645"),Q(),K(4,"div")(5,"button",3),ot("click",function(){return wn(i),Tn(r.goToAddGrade())}),ue(6,"\u0625\u0636\u0627\u0641\u0629 \u062F\u0631\u062C\u0629"),Q(),K(7,"button",4),ot("click",function(){return wn(i),Tn(r.logout())}),ue(8,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"),Q()()(),K(9,"div",5)(10,"div",6)(11,"h5",7),ue(12,"\u062F\u0631\u062C\u0627\u062A \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0627\u0628"),Q(),bn(13,kq,11,1,"table",8),Zo(14,"async"),bn(15,Oq,2,0,"ng-template",null,0,ku),Q()()()}if(t&2){let i=Mu(16);ze(13),Bn("ngIf",Yo(14,2,r.grades$))("ngIfElse",i)}},dependencies:[qi,Xo,es],encapsulation:2})};function xq(n,e){if(n&1&&(K(0,"tr")(1,"td"),ue(2),Q(),K(3,"td"),ue(4),Q()()),n&2){let t=e.$implicit;ze(2),ri(t.exam),ze(2),ri(t.grade)}}function Fq(n,e){if(n&1&&(K(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),ue(4,"\u0627\u0644\u0627\u0645\u062A\u062D\u0627\u0646"),Q(),K(5,"th"),ue(6,"\u0627\u0644\u062F\u0631\u062C\u0629"),Q()()(),K(7,"tbody"),bn(8,xq,5,2,"tr",10),Q()()),n&2){let t=e.ngIf;ze(8),Bn("ngForOf",t)}}function Lq(n,e){n&1&&(K(0,"p",11),ue(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u062F\u0631\u062C\u0627\u062A \u0628\u0639\u062F."),Q())}var xg=class n{constructor(e,t,r){this.firestore=e;this.auth=t;this.router=r}grades$;userEmail=null;ngOnInit(){let e=this.auth.currentUser;if(!e){this.router.navigate(["/login"]);return}this.userEmail=e.email;let t=Lr(this.firestore,"grades"),r=Ng(t,Bk("studentId","==",e.uid));this.grades$=bc(r,{idField:"id"})}async logout(){await ec(this.auth),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(X(Pn),X(Nn),X(tn))};static \u0275cmp=Jt({type:n,selectors:[["app-grades-list"]],decls:14,vars:5,consts:[["noGrades",""],["dir","rtl",1,"container","mt-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"btn","btn-outline-danger",3,"click"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","mb-3"],["class","table table-striped",4,"ngIf","ngIfElse"],[1,"table","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"text-center","text-muted","mt-3"]],template:function(t,r){if(t&1){let i=Qo();K(0,"div",1)(1,"div",2)(2,"h2"),ue(3,"\u062F\u0631\u062C\u0627\u062A\u064A"),Q(),K(4,"button",3),ot("click",function(){return wn(i),Tn(r.logout())}),ue(5,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"),Q()(),K(6,"div",4)(7,"div",5)(8,"h5",6),ue(9),Q(),bn(10,Fq,9,1,"table",7),Zo(11,"async"),bn(12,Lq,2,0,"ng-template",null,0,ku),Q()()()}if(t&2){let i=Mu(13);ze(9),Bi("\u0627\u0644\u062F\u0631\u062C\u0627\u062A \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0640 ",r.userEmail),ze(),Bn("ngIf",Yo(11,3,r.grades$))("ngIfElse",i)}},dependencies:[qi,Xo,es],encapsulation:2})};function Vq(n,e){if(n&1&&(K(0,"option",18),ue(1),Q()),n&2){let t=e.$implicit;Bn("value",t.id),ze(),Bi(" ",t.name," ")}}function jq(n,e){if(n&1&&(K(0,"div",19),ue(1),Q()),n&2){let t=Vv();ze(),Bi(" ",t.message," ")}}var Fg=class n{constructor(e,t,r){this.firestore=e;this.router=t;this.zone=r}students$;selectedStudentId="";exam="";grade=null;message="";ngOnInit(){let e=Lr(this.firestore,"students"),t=Ng(e,Uk("name"));this.students$=bc(t,{idField:"id"})}async addGrade(){if(!this.selectedStudentId||!this.exam||this.grade===null){this.message="\u26A0\uFE0F Please fill all fields before submitting.";return}let t=(await km(this.students$)).find(i=>i.id===this.selectedStudentId);if(!t){this.message="\u274C Student not found.";return}let r=Lr(this.firestore,"grades");await Vk(r,{studentId:this.selectedStudentId,studentName:t.name,exam:this.exam,grade:this.grade,createdAt:new Date}),this.zone.run(()=>{this.message="\u2705 Grade added successfully!",this.selectedStudentId="",this.exam="",this.grade=null})}goBack(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||n)(X(Pn),X(tn),X(Le))};static \u0275cmp=Jt({type:n,selectors:[["app-add-grade"]],decls:28,vars:7,consts:[["gradeForm","ngForm"],["dir","rtl",1,"container","mt-5"],[1,"card","shadow","p-4"],[1,"text-center","mb-4","text-primary","fw-bold"],[3,"ngSubmit"],[1,"mb-3"],["for","student",1,"form-label"],["id","student","name","student","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","exam",1,"form-label"],["type","text","id","exam","name","exam","placeholder","\u0645\u062B\u0644\u0627\u064B: \u0646\u0635\u0641 \u0627\u0644\u062A\u0631\u0645\u060C \u0627\u0644\u0646\u0647\u0627\u0626\u064A\u060C \u0643\u0648\u064A\u0632 1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","grade",1,"form-label"],["type","number","id","grade","name","grade","required","","min","0","max","100","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u062F\u0631\u062C\u0629 (\u0645\u0646 0 \u0625\u0644\u0649 100)",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mt-4"],["type","submit",1,"btn","btn-success","w-50","me-2"],["type","button",1,"btn","btn-outline-secondary","w-50",3,"click"],["class","alert alert-info mt-4 text-center",4,"ngIf"],[3,"value"],[1,"alert","alert-info","mt-4","text-center"]],template:function(t,r){if(t&1){let i=Qo();K(0,"div",1)(1,"div",2)(2,"h3",3),ue(3,"\u0625\u0636\u0627\u0641\u0629 \u062F\u0631\u062C\u0629"),Q(),K(4,"form",4,0),ot("ngSubmit",function(){return wn(i),Tn(r.addGrade())}),K(6,"div",5)(7,"label",6),ue(8,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0627\u0644\u0628:"),Q(),K(9,"select",7),pn("ngModelChange",function(s){return wn(i),Cn(r.selectedStudentId,s)||(r.selectedStudentId=s),Tn(s)}),K(10,"option",8),ue(11,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0627\u0644\u0628"),Q(),bn(12,Vq,2,2,"option",9),Zo(13,"async"),Q()(),K(14,"div",5)(15,"label",10),ue(16,"\u0646\u0648\u0639 \u0627\u0644\u0627\u0645\u062A\u062D\u0627\u0646:"),Q(),K(17,"input",11),pn("ngModelChange",function(s){return wn(i),Cn(r.exam,s)||(r.exam=s),Tn(s)}),Q()(),K(18,"div",5)(19,"label",12),ue(20,"\u0627\u0644\u062F\u0631\u062C\u0629:"),Q(),K(21,"input",13),pn("ngModelChange",function(s){return wn(i),Cn(r.grade,s)||(r.grade=s),Tn(s)}),Q()(),K(22,"div",14)(23,"button",15),ue(24,"\u0625\u0636\u0627\u0641\u0629"),Q(),K(25,"button",16),ot("click",function(){return wn(i),Tn(r.goBack())}),ue(26,"\u0631\u062C\u0648\u0639"),Q()()(),bn(27,jq,2,1,"div",17),Q()()}t&2&&(ze(9),fn("ngModel",r.selectedStudentId),ze(3),Bn("ngForOf",Yo(13,5,r.students$)),ze(5),fn("ngModel",r.exam),ze(4),fn("ngModel",r.grade),ze(6),Bn("ngIf",r.message))},dependencies:[Ga,za,cR,lR,Qi,L_,np,Ha,qa,cs,U_,j_,as,ss,Xo,qi,zi,es],styles:[".card[_ngcontent-%COMP%]{max-width:500px;margin:auto;border-radius:15px}"]})};var AT=async()=>{let n=x(Nn),e=x(tn),t=n.currentUser,r=Os.teacherEmail;return t&&t.email===r?!0:(e.navigate(["/grades"]),!1)};var Hk=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Pg},{path:"signup",component:kg},{path:"dashboard",component:Og,canActivate:[AT]},{path:"grades",component:xg},{path:"add-grade",component:Fg,canActivate:[AT]},{path:"**",redirectTo:"login"}];var qk={providers:[N_(Hk),qR(()=>zR(Os.firebase)),ZN(()=>JN()),Lk(()=>jk())]};var Lg=class n{title=hn("grades-app");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Jt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&wa(0,"router-outlet")},dependencies:[rl],encapsulation:2})};s_(Lg,qk).catch(n=>console.error(n));
